<div class="wrapper">
  <div class="tool">
    <form class="tool__item">
      <div class="form__item">
        <mat-form-field appearance="fill">
          <mat-label>Title</mat-label>
          <input matInput [formControl]="titleFormControl" />
          <mat-error *ngIf="titleFormControl.hasError('required')">
            Title is <strong>required</strong>
          </mat-error>
        </mat-form-field>
      </div>
      <div class="form__item">
        <button mat-raised-button color="primary" (click)="save()">save</button>
      </div>
    </form>
    <div class="tool__item">
      <button
        mat-raised-button
        color="primary"
        (click)="deleteScript()"
        [disabled]="!script.id"
      >
        delete
      </button>
    </div>

    <div class="tool__item">
      <button mat-button color="primary" (click)="copy2Clipboard()">
        copy to clipboard
      </button>
    </div>
    <div class="tool__item">
      <button mat-button color="primary" (click)="editableDirective?.undo()">
        undo
      </button>
      <button mat-button color="primary" (click)="editableDirective?.redo()">
        redo
      </button>
    </div>
    <div class="tool__item">
      <button mat-raised-button color="primary" (click)="navigateSubtitle()">
        subtitle
      </button>
    </div>
  </div>
  <div class="tool-box__wrapper">
    <app-tool-box
      [(value)]="script.innerHtml"
      (setText)="setTextContent($event)"
      (toggleSubtitleButton)="showSubtitleLine = !showSubtitleLine"
      (loadingStateChange)="loading = $event"
    ></app-tool-box>
  </div>

  <div class="editor">
    <div class="editor__subtitle" *ngIf="showSubtitleLine">
      <div class="editor__subtitle-line"></div>
    </div>
    <div
      appEditable
      class="editor__main"
      placeholder="input text here"
      [(ngModel)]="script.innerHtml"
    ></div>

    <div class="console__wrapper" [style.top.px]="consolePositionTop">
      <app-console></app-console>
    </div>
  </div>
  <app-balloon></app-balloon>
  <div class="loading-modal" *ngIf="loading">loading</div>
</div>

<div class="scroller">
  <button mat-raised-button color="primary" (click)="scrollTop()">â†‘</button>
</div>
