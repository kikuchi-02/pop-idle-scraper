<div class="wrapper">
  <div class="menu">
    <div class="menu__row">
      <h3>Tool</h3>
      <button
        (click)="dictionaryOpen = !dictionaryOpen"
        type="button"
        cdkOverlayOrigin
        #trigger="cdkOverlayOrigin"
        mat-raised-button
        color="primary"
      >
        dictionary
      </button>
      <button
        mat-raised-button
        color="primary"
        type="button"
        (click)="download()"
      >
        download
      </button>

      <mat-slide-toggle
        color="primary"
        [checked]="showSubtitleLine"
        (toggleChange)="showSubtitleLine = !showSubtitleLine"
      >
        line
      </mat-slide-toggle>
    </div>
    <div class="menu__row">
      <h3>Layout</h3>
      <button mat-stroked-button color="primary" (click)="applyLayout('sound')">
        sound
      </button>
      <button mat-stroked-button color="primary" (click)="applyLayout('tag')">
        tag
      </button>
      <button mat-stroked-button color="primary" (click)="applyLayout('srt')">
        srt
      </button>
      <button mat-stroked-button color="primary" (click)="applyLayout('link')">
        link
      </button>
    </div>
  </div>
  <div class="input-area">
    <div class="input-area__container">
      <div class="input-area__label">
        <div class="input-area__label-label">
          <label>input</label>
          <div class="svg__icon" (click)="refreshInput()">
            <mat-icon>refresh</mat-icon>
          </div>
        </div>
        <div class="input-area__label-label">
          <label>output</label>
          <div class="svg__icon" (click)="refreshOutput()">
            <mat-icon>refresh</mat-icon>
          </div>
        </div>
      </div>
      <div class="input-area__textarea">
        <div class="input-area__subtitle" *ngIf="showSubtitleLine">
          <div class="input-area__subtitle-line"></div>
        </div>
        <quill-editor
          class="textarea"
          (onEditorCreated)="onEditorCreated($event, 'input')"
        ></quill-editor>
        <div class="input-area__subtitle" *ngIf="showSubtitleLine">
          <div class="input-area__subtitle-line"></div>
        </div>
        <quill-editor
          class="textarea"
          (onEditorCreated)="onEditorCreated($event, 'output')"
        ></quill-editor>
      </div>
    </div>
  </div>
</div>

<app-warning-ballon
  [messenger$]="warningMessenger$"
  (warningChange)="warningChange($event)"
></app-warning-ballon>

<div class="loading-modal" *ngIf="loading">loading</div>

<ng-template
  cdkConnectedOverlay
  [cdkConnectedOverlayOrigin]="trigger"
  [cdkConnectedOverlayOpen]="dictionaryOpen"
  (overlayOutsideClick)="dictionaryOpen = false"
>
  <app-dictionary [newDictionaryKeys]="newDictionaryKeys"></app-dictionary>
</ng-template>
