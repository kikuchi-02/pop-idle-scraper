(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"7JkJ":function(t,e,i){"use strict";i.r(e),i.d(e,"ScriptsModule",function(){return En});var n=i("+rOU"),s=i("ofXK"),o=i("fXoL"),r=i("3Pt+"),a=i("bTqV"),l=i("R1ws"),c=i("FKr1");let h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({imports:[[c.g],c.g]}),t})();var d=i("0IaG"),b=i("8LU1"),u=i("LRne"),p=i("z6cu"),g=i("cp0P"),m=i("quSY"),f=i("vkgz"),_=i("lJxs"),v=i("JIr8"),x=i("nYR2"),C=i("w1tV"),y=i("IzEk"),S=i("tk/3"),w=i("jhN1");const k=["*"];function O(t){return Error(`Unable to find icon with the name "${t}"`)}function I(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function R(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class M{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let j=(()=>{class t{constructor(t,e,i,n){this._httpClient=t,this._sanitizer=e,this._errorHandler=n,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(t,e,i){return this.addSvgIconInNamespace("",t,e,i)}addSvgIconLiteral(t,e,i){return this.addSvgIconLiteralInNamespace("",t,e,i)}addSvgIconInNamespace(t,e,i,n){return this._addSvgIconConfig(t,e,new M(i,null,n))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,i,n){const s=this._sanitizer.sanitize(o.J.HTML,i);if(!s)throw R(i);return this._addSvgIconConfig(t,e,new M("",s,n))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,i){return this._addSvgIconSetConfig(t,new M(e,null,i))}addSvgIconSetLiteralInNamespace(t,e,i){const n=this._sanitizer.sanitize(o.J.HTML,e);if(!n)throw R(e);return this._addSvgIconSetConfig(t,new M("",n,i))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(o.J.RESOURCE_URL,t);if(!e)throw I(t);const i=this._cachedIconsByUrl.get(e);return i?Object(u.a)(T(i)):this._loadSvgIconFromConfig(new M(t,null)).pipe(Object(f.a)(t=>this._cachedIconsByUrl.set(e,t)),Object(_.a)(t=>T(t)))}getNamedSvgIcon(t,e=""){const i=E(e,t);let n=this._svgIconConfigs.get(i);if(n)return this._getSvgFromConfig(n);if(n=this._getIconConfigFromResolvers(e,t),n)return this._svgIconConfigs.set(i,n),this._getSvgFromConfig(n);const s=this._iconSetConfigs.get(e);return s?this._getSvgFromIconSetConfigs(t,s):Object(p.a)(O(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Object(u.a)(T(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Object(_.a)(t=>T(t)))}_getSvgFromIconSetConfigs(t,e){const i=this._extractIconWithNameFromAnySet(t,e);if(i)return Object(u.a)(i);const n=e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(Object(v.a)(e=>{const i=this._sanitizer.sanitize(o.J.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${i} failed: ${e.message}`)),Object(u.a)(null)})));return Object(g.a)(n).pipe(Object(_.a)(()=>{const i=this._extractIconWithNameFromAnySet(t,e);if(!i)throw O(t);return i}))}_extractIconWithNameFromAnySet(t,e){for(let i=e.length-1;i>=0;i--){const n=e[i];if(n.svgText&&n.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(n),i=this._extractSvgIconFromSet(e,t,n.options);if(i)return i}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Object(f.a)(e=>t.svgText=e),Object(_.a)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Object(u.a)(null):this._fetchIcon(t).pipe(Object(f.a)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,i){const n=t.querySelector(`[id="${e}"]`);if(!n)return null;const s=n.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,i);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),i);const o=this._svgElementFromString("<svg></svg>");return o.appendChild(s),this._setSvgAttributes(o,i)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const i=e.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),i=t.attributes;for(let n=0;n<i.length;n++){const{name:t,value:s}=i[n];"id"!==t&&e.setAttribute(t,s)}for(let n=0;n<t.childNodes.length;n++)t.childNodes[n].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[n].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:i,options:n}=t,s=null!==(e=null==n?void 0:n.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const r=this._sanitizer.sanitize(o.J.RESOURCE_URL,i);if(!r)throw I(i);const a=this._inProgressUrlFetches.get(r);if(a)return a;const l=this._httpClient.get(r,{responseType:"text",withCredentials:s}).pipe(Object(x.a)(()=>this._inProgressUrlFetches.delete(r)),Object(C.a)());return this._inProgressUrlFetches.set(r,l),l}_addSvgIconConfig(t,e,i){return this._svgIconConfigs.set(E(t,e),i),this}_addSvgIconSetConfig(t,e){const i=this._iconSetConfigs.get(t);return i?i.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let n=0;n<this._resolvers.length;n++){const s=this._resolvers[n](e,t);if(s)return(i=s).url&&i.options?new M(s.url,null,s.options):new M(s,null)}var i}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(S.b,8),o.Wb(w.b),o.Wb(s.d,8),o.Wb(o.m))},t.\u0275prov=Object(o.Ib)({factory:function(){return new t(Object(o.Wb)(S.b,8),Object(o.Wb)(w.b),Object(o.Wb)(s.d,8),Object(o.Wb)(o.m))},token:t,providedIn:"root"}),t})();function T(t){return t.cloneNode(!0)}function E(t,e){return t+":"+e}class P{constructor(t){this._elementRef=t}}const A=Object(c.q)(P),F=new o.r("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(o.V)(s.d),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),D=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],L=D.map(t=>`[${t}]`).join(", "),B=/^url\(['"]?#(.*?)['"]?\)$/;let z=(()=>{class t extends A{constructor(t,e,i,n,s){super(t),this._iconRegistry=e,this._location=n,this._errorHandler=s,this._inline=!1,this._currentIconFetch=m.a.EMPTY,i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Object(b.b)(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let n=0;n<e.length;n++)e[n].textContent+=" ";const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const i=t.childNodes[e];1===i.nodeType&&"svg"!==i.nodeName.toLowerCase()||t.removeChild(i)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,i)=>{e.forEach(e=>{i.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(L),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let n=0;n<e.length;n++)D.forEach(t=>{const s=e[n],o=s.getAttribute(t),r=o?o.match(B):null;if(r){let e=i.get(s);e||(e=[],i.set(s,e)),e.push({name:t,value:r[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,i]=this._splitIconName(t);e&&(this._svgNamespace=e),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,e).pipe(Object(y.a)(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${i}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(j),o.Xb("aria-hidden"),o.Mb(F),o.Mb(o.m))},t.\u0275cmp=o.Gb({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(o.Cb("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),o.Eb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.yb],ngContentSelectors:k,decls:1,vars:0,template:function(t,e){1&t&&(o.ic(),o.hc(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),H=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({imports:[[c.g],c.g]}),t})();var N=i("qFsG"),$=i("u47x"),V=i("0EQZ");let W=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({imports:[[c.m,c.g],c.g]}),t})();var q=i("XNiG"),Z=i("VRyK"),G=i("1G5W"),U=i("Kj3r"),K=i("/uUt"),Y=i("pLZG"),X=i("FtGj"),J=i("rDax"),Q=i("iadO"),tt=i("kmnG"),et=i("cH1L");const it=function(t){return{active:t}};function nt(t,e){if(1&t){const t=o.Tb();o.Sb(0,"button",2),o.Zb("click",function(){o.qc(t);const i=e.$implicit;return o.dc().select(i)}),o.Rb()}if(2&t){const t=e.$implicit,i=o.dc();o.uc("background-color",t),o.jc("ngClass",o.lc(3,it,i.selectedColor===t))}}function st(t,e){if(1&t){const t=o.Tb();o.Sb(0,"button",2),o.Zb("click",function(){o.qc(t);const i=e.$implicit;return o.dc().select(i)}),o.Rb()}if(2&t){const t=e.$implicit,i=o.dc();o.uc("background-color",t),o.jc("ngClass",o.lc(3,it,i.selectedColor===t))}}const ot=["button"],rt=/^\s+/,at=/\s+$/,lt=Math.round,ct=(Math,Math,Math,/[^0-9]/g),ht=255,dt=["#ffffff","#ffff00","#ff00ff","#ff0000","#c0c0c0","#808080","#808000","#800080","#800000","#00ffff","#00ff00","#008080","#008000","#0000ff","#000080","#000000"];function bt(t,e,i){const n=t.getImageData(e,i,1,1).data;return{r:n[0],g:n[1],b:n[2]}}function ut(t){return 1==t.length?"0"+t:""+t}function pt(t){return gt(t)/255}function gt(t){return parseInt(t,16)}function mt(t,e,i,n){var s=[ut(lt(t).toString(16)),ut(lt(e).toString(16)),ut(lt(i).toString(16))];return n&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}const ft="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",_t="[\\s|\\(]+("+ft+")[,|\\s]+("+ft+")[,|\\s]+("+ft+")\\s*\\)?",vt="[\\s|\\(]+("+ft+")[,|\\s]+("+ft+")[,|\\s]+("+ft+")[,|\\s]+("+ft+")\\s*\\)?",xt={CSS_UNIT:new RegExp(ft),rgb:new RegExp("rgb"+_t),rgba:new RegExp("rgba"+vt),hsl:new RegExp("hsl"+_t),hsla:new RegExp("hsla"+vt),hsv:new RegExp("hsv"+_t),hsva:new RegExp("hsva"+vt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Ct(t){let e;return t=t.replace(rt,"").replace(at,"").toLowerCase(),(e=xt.rgb.exec(t))?{r:e[1],g:e[2],b:e[3],a:1}:(e=xt.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=xt.hex8.exec(t))?{r:gt(e[1]),g:gt(e[2]),b:gt(e[3]),a:pt(e[4])}:(e=xt.hex6.exec(t))?{r:gt(e[1]),g:gt(e[2]),b:gt(e[3]),a:1}:(e=xt.hex4.exec(t))?{r:gt(e[1]+""+e[1]),g:gt(e[2]+""+e[2]),b:gt(e[3]+""+e[3]),a:pt(e[4]+""+e[4])}:(e=xt.hex3.exec(t))?{r:gt(e[1]+""+e[1]),g:gt(e[2]+""+e[2]),b:gt(e[3]+""+e[3]),a:1}:null}class yt{constructor(t,e,i,n){this.r=t>ht?ht:t,this.g=e>ht?ht:e,this.b=i>ht?ht:i,this.a=null!=n?n>1?1:n:1,this.roundA=Math.round(this.a),this.hex=mt(this.r,this.g,this.b),this.rgba=this.toRgba()}toHex(t){return mt(this.r,this.g,this.b,t)}toRgba(){return`rgba(${this.r},${this.g},${this.b},${this.a})`}toHexString(t){return"#"+this.toHex(t)}toRgbString(){return 1===this.a?"rgb("+Math.round(this.r)+", "+Math.round(this.g)+", "+Math.round(this.b)+")":"rgba("+Math.round(this.r)+", "+Math.round(this.g)+", "+Math.round(this.b)+", "+this.roundA+")"}toHex8(t){return function(t,e,i,n,s){var o,r=[ut(lt(t).toString(16)),ut(lt(e).toString(16)),ut(lt(i).toString(16)),ut((o=n,Math.round(255*parseFloat(o)).toString(16)))];return s&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)&&r[3].charAt(0)==r[3].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}(this.r,this.g,this.b,this.a,t)}toHex8String(t){return"#"+this.toHex8(t)}toString(t){let e;return t||!(this.a<1&&this.a>=0)||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t?("rgb"===t&&(e=this.toRgbString()),"hex"!==t&&"hex6"!==t||(e=this.toHexString()),"hex3"===t&&(e=this.toHexString(!0)),"hex4"===t&&(e=this.toHex8String(!0)),"hex8"===t&&(e=this.toHex8String()),e||this.toHexString()):this.toRgbString()}}let St=(()=>{class t{constructor(){this.colorChanged=new o.n}ngOnInit(){}handleColorChanged(t){this.colorChanged.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-palette"]],hostAttrs:[1,"ngx-mat-color-palette"],inputs:{color:"color"},outputs:{colorChanged:"colorChanged"},decls:2,vars:2,consts:[[3,"color","colorChanged"]],template:function(t,e){1&t&&(o.Sb(0,"ngx-mat-color-canvas",0),o.Zb("colorChanged",function(t){return e.handleColorChanged(t)}),o.Rb(),o.Sb(1,"ngx-mat-color-collection",0),o.Zb("colorChanged",function(t){return e.handleColorChanged(t)}),o.Rb()),2&t&&(o.jc("color",e.color),o.Bb(1),o.jc("color",e.color))},directives:function(){return[kt,Ot]},styles:[".ngx-mat-color-palette .actions{display:flex;margin-top:10px}.ngx-mat-color-palette .actions .left{display:flex;flex-direction:column;margin-right:15px}.ngx-mat-color-palette .actions .left .preview{flex:2 1 auto;margin-bottom:10px}.ngx-mat-color-palette .actions .right{display:flex;flex-direction:column;width:40px}"],encapsulation:2}),t})(),wt=(()=>{class t{constructor(t,e){this.zone=t,this.colorChanged=new o.n,this.x=0,this.y=0,this.drag=!1,this._destroyed=new q.b,this.elementId=e}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}ngAfterViewInit(){this.canvas=document.getElementById(this.elementId),this.ctx=this.canvas.getContext("2d"),this.width=this.canvas.width,this.height=this.canvas.height,this.draw()}draw(){this.ctx.clearRect(0,0,this.width,this.height),this.ctx.rect(0,0,this.width,this.height),this.fillGradient(),0!=this.y&&this.redrawIndicator(this.x,this.y)}onMousedown(t){this.drag=!0,this.changeColor(t),this.zone.runOutsideAngular(()=>{this.canvas.addEventListener("mousemove",this.onMousemove.bind(this))})}onMousemove(t){this.drag&&this.zone.run(()=>{this.changeColor(t)})}onMouseup(t){this.drag=!1,this.canvas.removeEventListener("mousemove",this.onMousemove)}emitChange(t){this.colorChanged.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.A),o.Mb(String))},t.\u0275dir=o.Hb({type:t,inputs:{color:"color"},outputs:{colorChanged:"colorChanged"}}),t})(),kt=(()=>{class t extends wt{constructor(t){super(t,"color-block"),this.zone=t,this._resetBaseColor=!0,this.formGroup=new r.h({r:new r.e(null,[r.u.required]),g:new r.e(null,[r.u.required]),b:new r.e(null,[r.u.required]),a:new r.e(null,[r.u.required]),hex:new r.e(null,[r.u.required,r.u.pattern(xt.hex6)])})}get rCtrl(){return this.formGroup.get("r")}get gCtrl(){return this.formGroup.get("g")}get bCtrl(){return this.formGroup.get("b")}get aCtrl(){return this.formGroup.get("a")}get hexCtrl(){return this.formGroup.get("hex")}ngOnInit(){Object(Z.a)(this.rCtrl.valueChanges,this.gCtrl.valueChanges,this.bCtrl.valueChanges,this.aCtrl.valueChanges).pipe(Object(G.a)(this._destroyed),Object(U.a)(400)).subscribe(t=>{const e=new yt(Number(this.rCtrl.value),Number(this.gCtrl.value),Number(this.bCtrl.value),Number(this.aCtrl.value));this.emitChange(e)}),this.hexCtrl.valueChanges.pipe(Object(G.a)(this._destroyed),Object(U.a)(400),Object(K.a)()).subscribe(t=>{const e=Ct(t);if(null!=e){const t=new yt(e.r,e.g,e.b,e.a);this.emitChange(t)}})}ngOnChanges(t){t.color&&t.color.currentValue&&(this.updateForm(t.color.currentValue),this._resetBaseColor&&(this._baseColor=t.color.currentValue),this._resetBaseColor=!0,t.color.firstChange||this.draw())}updateForm(t){const e={emitEvent:!1};this.rCtrl.setValue(t.r,e),this.gCtrl.setValue(t.g,e),this.bCtrl.setValue(t.b,e),this.aCtrl.setValue(t.a,e),this.hexCtrl.setValue(t.hex,e)}redrawIndicator(t,e){this.ctx.beginPath(),this.ctx.strokeStyle="white",this.ctx.arc(t,e,5,0,2*Math.PI,!1),this.ctx.stroke(),this.ctx.closePath()}fillGradient(){this.ctx.fillStyle=this._baseColor?this._baseColor.rgba:"rgba(255,255,255,1)",this.ctx.fillRect(0,0,this.width,this.height);const t=this.ctx.createLinearGradient(0,0,this.width,0);t.addColorStop(0,"rgba(255,255,255,1)"),t.addColorStop(1,"rgba(255,255,255,0)"),this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.width,this.height);const e=this.ctx.createLinearGradient(0,0,0,this.height);e.addColorStop(0,"rgba(0,0,0,0)"),e.addColorStop(1,"rgba(0,0,0,1)"),this.ctx.fillStyle=e,this.ctx.fillRect(0,0,this.width,this.height)}onSliderColorChanged(t){this._baseColor=t,this.color=t,this.fillGradient(),this.emitChange(t)}changeColor(t){this.x=t.offsetX,this.y=t.offsetY,this._resetBaseColor=!1,this.draw();const{r:e,g:i,b:n}=bt(this.ctx,t.offsetX,t.offsetY);this.emitChange(new yt(e,i,n))}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.A))},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-canvas"]],hostAttrs:[1,"ngx-mat-color-canvas"],features:[o.yb,o.zb],decls:30,vars:3,consts:[[3,"formGroup"],[1,"color-canvas-row"],[1,"zone-canvas"],["id","color-block","width","200","height","200",1,"zone-block",3,"mousedown","mouseup"],[3,"colorChanged"],[1,"zone-inputs"],["matInput","","formControlName","r","ngxMatNumericColorInput","","autocomplete","off"],["matInput","","formControlName","g","ngxMatNumericColorInput","","autocomplete","off"],["matInput","","formControlName","b","ngxMatNumericColorInput","","autocomplete","off"],["mat-mini-fab","",1,"preview"],["matPrefix","",1,"symbol"],["matInput","","formControlName","hex","autocomplete","off"],["matInput","","formControlName","a","type","number","min","0","max","1","step","0.1","autocomplete","off"]],template:function(t,e){1&t&&(o.Sb(0,"form",0),o.Sb(1,"div",1),o.Sb(2,"div",2),o.Sb(3,"canvas",3),o.Zb("mousedown",function(t){return e.onMousedown(t)})("mouseup",function(t){return e.onMouseup(t)}),o.Rb(),o.Sb(4,"ngx-mat-color-slider",4),o.Zb("colorChanged",function(t){return e.onSliderColorChanged(t)}),o.Rb(),o.Rb(),o.Sb(5,"div",5),o.Sb(6,"mat-form-field"),o.Sb(7,"mat-label"),o.zc(8,"R"),o.Rb(),o.Nb(9,"input",6),o.Rb(),o.Sb(10,"mat-form-field"),o.Sb(11,"mat-label"),o.zc(12,"G"),o.Rb(),o.Nb(13,"input",7),o.Rb(),o.Sb(14,"mat-form-field"),o.Sb(15,"mat-label"),o.zc(16,"B"),o.Rb(),o.Nb(17,"input",8),o.Rb(),o.Rb(),o.Rb(),o.Sb(18,"div",1),o.Nb(19,"button",9),o.Sb(20,"mat-form-field"),o.Sb(21,"mat-label"),o.zc(22,"HEX6"),o.Rb(),o.Sb(23,"mat-label",10),o.zc(24,"#\xa0"),o.Rb(),o.Nb(25,"input",11),o.Rb(),o.Sb(26,"mat-form-field"),o.Sb(27,"mat-label"),o.zc(28,"A"),o.Rb(),o.Nb(29,"input",12),o.Rb(),o.Rb(),o.Rb()),2&t&&(o.jc("formGroup",e.formGroup),o.Bb(19),o.uc("background-color",(null==e.color?null:e.color.rgba)||"transparent"))},directives:function(){return[r.v,r.o,r.i,It,tt.c,tt.f,N.b,r.c,r.n,r.g,Nt,a.b,tt.g,r.r]},styles:[".ngx-mat-color-canvas .color-canvas-row{display:flex}.ngx-mat-color-canvas .color-canvas-row:first-of-type{height:200px;margin-bottom:12px}.ngx-mat-color-canvas .color-canvas-row:first-of-type .card{height:180px}.ngx-mat-color-canvas .color-canvas-row canvas:hover{cursor:crosshair}.ngx-mat-color-canvas .color-canvas-row .zone{display:flex}.ngx-mat-color-canvas .color-canvas-row .zone-canvas{height:200px}.ngx-mat-color-canvas .color-canvas-row .zone-canvas .zone-block{border:1px solid rgba(0,0,0,.12)}.ngx-mat-color-canvas .color-canvas-row .zone-strip{flex-basis:auto;margin-left:10px}.ngx-mat-color-canvas .color-canvas-row .zone-inputs{display:flex;flex-direction:column;height:200px;margin-left:16px;margin-top:12px;width:40px}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2){display:flex}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2) .preview{height:40px;min-height:40px;min-width:40px;width:40px}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2) .mat-form-field{margin-left:16px}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2) .mat-form-field:first-of-type{width:170px}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2) .mat-form-field:first-of-type .symbol{color:rgba(0,0,0,.54);font-weight:700}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2) .mat-form-field:last-of-type{width:40px}.ngx-mat-color-canvas .mat-form-field-label{font-weight:700}"],encapsulation:2}),t})(),Ot=(()=>{class t{constructor(){this.colorChanged=new o.n,this.colors1=dt.slice(0,8),this.colors2=dt.slice(8,16)}set color(t){t&&(this.selectedColor=t.toHexString())}ngOnInit(){}select(t){this.selectedColor=t;const{r:e,g:i,b:n,a:s}=Ct(t);this.colorChanged.emit(new yt(e,i,n,s))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-collection"]],hostAttrs:[1,"ngx-mat-color-collection"],inputs:{color:"color"},outputs:{colorChanged:"colorChanged"},decls:4,vars:2,consts:[[1,"color-collection-row"],["mat-mini-fab","","class","btn-color",3,"background-color","ngClass","click",4,"ngFor","ngForOf"],["mat-mini-fab","",1,"btn-color",3,"ngClass","click"]],template:function(t,e){1&t&&(o.Sb(0,"div",0),o.xc(1,nt,1,5,"button",1),o.Rb(),o.Sb(2,"div",0),o.xc(3,st,1,5,"button",1),o.Rb()),2&t&&(o.Bb(1),o.jc("ngForOf",e.colors1),o.Bb(2),o.jc("ngForOf",e.colors2))},directives:[s.k,a.b,s.j],styles:[".ngx-mat-color-collection .btn-color{box-shadow:none;height:20px;margin-right:11px;opacity:.3;width:20px}.ngx-mat-color-collection .btn-color.active{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12);opacity:1}"],encapsulation:2}),t})(),It=(()=>{class t extends wt{constructor(t){super(t,"color-strip"),this.zone=t}ngOnInit(){}ngAfterViewInit(){super.ngAfterViewInit()}fillGradient(){const t=this.ctx.createLinearGradient(0,0,0,this.height);t.addColorStop(0,"rgba(255, 0, 0, 1)"),t.addColorStop(.17,"rgba(255, 255, 0, 1)"),t.addColorStop(.34,"rgba(0, 255, 0, 1)"),t.addColorStop(.51,"rgba(0, 255, 255, 1)"),t.addColorStop(.68,"rgba(0, 0, 255, 1)"),t.addColorStop(.85,"rgba(255, 0, 255, 1)"),t.addColorStop(1,"rgba(255, 0, 0, 1)"),this.ctx.fillStyle=t,this.ctx.fill()}redrawIndicator(t,e){this.ctx.beginPath(),this.ctx.strokeStyle="white",this.ctx.lineWidth=2,this.ctx.arc(7.5,e,7.5,0,2*Math.PI,!1),this.ctx.stroke(),this.ctx.closePath()}changeColor(t){this.x=t.offsetX,this.y=t.offsetY,this.draw();const{r:e,g:i,b:n}=bt(this.ctx,t.offsetX,t.offsetY);this.emitChange(new yt(e,i,n))}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.A))},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-slider"]],features:[o.yb],decls:1,vars:0,consts:[["id","color-strip","width","15","height","200",1,"zone-strip",3,"mousedown","mouseup"]],template:function(t,e){1&t&&(o.Sb(0,"canvas",0),o.Zb("mousedown",function(t){return e.onMousedown(t)})("mouseup",function(t){return e.onMouseup(t)}),o.Rb())},styles:[""]}),t})(),Rt=(()=>{class t{constructor(){}sameColor(t,e){return null==t&&null==e||null!=t&&null!=e&&t.rgba===e.rgba}format(t,e){return t.toString(e)}parse(t){const e=Ct(t);return e?new yt(e.r,e.g,e.b,e.a):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac}),t})();const Mt={display:{colorInput:"hex"}},jt=new o.r("mat-color-formats"),Tt=new o.r("ngx-mat-colorpicker-scroll-strategy"),Et={provide:Tt,deps:[J.c],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},Pt=Object(c.q)(class{constructor(t){this._elementRef=t}});let At=(()=>{class t extends Pt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l))},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-picker-content"]],viewQuery:function(t,e){if(1&t&&o.Cc(St,1),2&t){let t;o.nc(t=o.ac())&&(e._palette=t.first)}},hostAttrs:[1,"ngx-mat-colorpicker-content"],hostVars:3,hostBindings:function(t,e){2&t&&(o.wc("@transformPanel","enter"),o.Eb("ngx-mat-colorpicker-content-touch",e.picker.touchUi))},inputs:{color:"color"},exportAs:["ngxMatColorPickerContent"],features:[o.yb],decls:1,vars:1,consts:[[3,"color","colorChanged"]],template:function(t,e){1&t&&(o.Sb(0,"ngx-mat-color-palette",0),o.Zb("colorChanged",function(t){return e.picker.select(t)}),o.Rb()),2&t&&o.jc("color",e.picker._selected)},directives:[St],styles:[".ngx-mat-colorpicker-content{background-color:#fff;border-radius:4px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);color:rgba(0,0,0,.87);display:block;padding:16px}.ngx-mat-colorpicker-content .ngx-mat-color-palette{height:354px;width:296px}.ngx-mat-colorpicker-content-touch{display:block;max-height:80vh;overflow:auto}.ngx-mat-colorpicker-content-touch .ngx-mat-color-palette{max-height:788px;max-width:750px;min-height:312px;min-width:250px}@media (orientation:landscape){.mat-colorpicker-content-touch .ngx-mat-color-palette{height:80vh;width:64vh}}@media (orientation:portrait){.mat-colorpicker-content-touch .ngx-mat-color-palette{height:100vw;width:80vw}}"],encapsulation:2,data:{animation:[Q.e.transformPanel,Q.e.fadeInCalendar]},changeDetection:0}),t})(),Ft=(()=>{class t{constructor(t,e,i,n,s,r,a,l){this._dialog=t,this._overlay=e,this._zone=i,this._adapter=n,this._dir=s,this._document=a,this._viewContainerRef=l,this.openedStream=new o.n,this.closedStream=new o.n,this._touchUi=!1,this._opened=!1,this._defaultColor="primary",this._validSelected=null,this._disabledChange=new q.b,this._focusedElementBeforeOpen=null,this._inputSubscription=m.a.EMPTY,this._selectedChanged=new q.b,this._scrollStrategy=r}get disabled(){return void 0===this._disabled&&this._pickerInput?this._pickerInput.disabled:!!this._disabled}set disabled(t){const e=Object(b.b)(t);e!==this._disabled&&(this._disabled=e,this._disabledChange.next(e))}get touchUi(){return this._touchUi}set touchUi(t){this._touchUi=Object(b.b)(t)}get opened(){return this._opened}set opened(t){t?this.open():this.close()}get defaultColor(){return this._defaultColor}set defaultColor(t){this._defaultColor=t}get color(){return this._color||(this._pickerInput?this._pickerInput.getThemePalette():void 0)}set color(t){this._color=t}get _selected(){return this._validSelected}set _selected(t){this._validSelected=t}ngOnInit(){}ngOnDestroy(){this.close(),this._inputSubscription.unsubscribe(),this._disabledChange.complete(),this._popupRef&&(this._popupRef.dispose(),this._popupComponentRef=null)}select(t){let e=this._selected;this._selected=t,this._adapter.sameColor(e,this._selected)||this._selectedChanged.next(t)}registerInput(t){if(this._pickerInput)throw Error("A ColorPicker can only be associated with a single input.");this._pickerInput=t,this._inputSubscription=this._pickerInput._valueChange.subscribe(t=>this._selected=t)}open(){if(!this._opened&&!this.disabled){if(!this._pickerInput)throw Error("Attempted to open an ColorPicker with no associated input.");this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this.touchUi?this._openAsDialog():this._openAsPopup(),this._opened=!0,this.openedStream.emit()}}_openAsDialog(){this._dialogRef&&this._dialogRef.close(),this._dialogRef=this._dialog.open(At,{direction:this._dir?this._dir.value:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"ngx-mat-colorpicker-dialog"}),this._dialogRef.afterClosed().subscribe(()=>this.close()),this._dialogRef.componentInstance.picker=this,this._setColor()}_openAsPopup(){this._portal||(this._portal=new n.d(At,this._viewContainerRef)),this._popupRef||this._createPopup(),this._popupRef.hasAttached()||(this._popupComponentRef=this._popupRef.attach(this._portal),this._popupComponentRef.instance.picker=this,this._setColor(),this._zone.onStable.asObservable().pipe(Object(y.a)(1)).subscribe(()=>{this._popupRef.updatePosition()}))}_createPopup(){const t=new J.d({positionStrategy:this._createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:"mat-overlay-transparent-backdrop",direction:this._dir,scrollStrategy:this._scrollStrategy(),panelClass:"mat-colorpicker-popup"});this._popupRef=this._overlay.create(t),this._popupRef.overlayElement.setAttribute("role","dialog"),Object(Z.a)(this._popupRef.backdropClick(),this._popupRef.detachments(),this._popupRef.keydownEvents().pipe(Object(Y.a)(t=>t.keyCode===X.f||this._pickerInput&&t.altKey&&t.keyCode===X.o))).subscribe(t=>{t&&t.preventDefault(),this.close()})}close(){if(!this._opened)return;this._popupRef&&this._popupRef.hasAttached()&&this._popupRef.detach(),this._dialogRef&&(this._dialogRef.close(),this._dialogRef=null),this._portal&&this._portal.isAttached&&this._portal.detach();const t=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(t)):t()}_setColor(){const t=this.color;this._popupComponentRef&&(this._popupComponentRef.instance.color=t),this._dialogRef&&(this._dialogRef.componentInstance.color=t)}_createPopupPositionStrategy(){return this._overlay.position().flexibleConnectedTo(this._pickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".ngx-mat-colorpicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition().withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}])}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(d.a),o.Mb(J.c),o.Mb(o.A),o.Mb(Rt),o.Mb(et.b,8),o.Mb(Tt),o.Mb(s.d,8),o.Mb(o.Q))},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-picker"]],inputs:{disabled:"disabled",touchUi:"touchUi",opened:"opened",defaultColor:"defaultColor",color:"color"},outputs:{openedStream:"opened",closedStream:"closed"},exportAs:["ngxMatColorPicker"],decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0}),t})();class Dt{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}const Lt={provide:r.l,useExisting:Object(o.U)(()=>zt),multi:!0},Bt={provide:r.k,useExisting:Object(o.U)(()=>zt),multi:!0};let zt=(()=>{class t{constructor(t,e,i,n){if(this._elementRef=t,this._formField=e,this._colorFormats=i,this._adapter=n,this.colorChange=new o.n,this.colorInput=new o.n,this._disabledChange=new o.n,this._valueChange=new o.n,this._onTouched=()=>{},this._cvaOnChange=()=>{},this._validatorOnChange=()=>{},this._pickerSubscription=m.a.EMPTY,this._validator=r.u.compose([]),this._lastValueValid=!1,!this._colorFormats)throw Error("NgxMatColorPicker: No provider found for MAT_COLOR_FORMATS. You must define MAT_COLOR_FORMATS in your module")}set ngxMatColorPicker(t){t&&(this._picker=t,this._picker.registerInput(this),this._pickerSubscription.unsubscribe(),this._pickerSubscription=this._picker._selectedChanged.subscribe(t=>{this.value=t,this._cvaOnChange(t),this._onTouched(),this.colorInput.emit(new Dt(this,this._elementRef.nativeElement)),this.colorChange.emit(new Dt(this,this._elementRef.nativeElement))}))}get disabled(){return!!this._disabled}set disabled(t){const e=Object(b.b)(t),i=this._elementRef.nativeElement;this._disabled!==e&&(this._disabled=e,this._disabledChange.emit(e)),e&&i.blur&&i.blur()}get value(){return this._value}set value(t){const e=this.value;this._value=t,this._formatValue(t),this._adapter.sameColor(e,t)||this._valueChange.emit(t)}getThemePalette(){return this._formField?this._formField.color:void 0}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}getPopupConnectionElementRef(){return this.getConnectedOverlayOrigin()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}ngOnInit(){}ngOnDestroy(){this._pickerSubscription.unsubscribe(),this._valueChange.complete(),this._disabledChange.complete()}writeValue(t){this.value=t}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onChange(){this.colorChange.emit(new Dt(this,this._elementRef.nativeElement))}_onKeydown(t){this._picker&&t.altKey&&t.keyCode===X.c&&!this._elementRef.nativeElement.readOnly&&(this._picker.open(),t.preventDefault())}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=t?this._adapter.format(t,this._colorFormats.display.colorInput):""}_onInput(t){const e=this._lastValueValid,i=this._adapter.parse(t);this._adapter.sameColor(i,this._value)?e!==this._lastValueValid&&this._validatorOnChange():(this._value=i,this._cvaOnChange(i),this._valueChange.emit(i),this.colorInput.emit(new Dt(this,this._elementRef.nativeElement)))}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(tt.c,8),o.Mb(jt,8),o.Mb(Rt))},t.\u0275dir=o.Hb({type:t,selectors:[["input","ngxMatColorPicker",""]],hostVars:3,hostBindings:function(t,e){1&t&&o.Zb("input",function(t){return e._onInput(t.target.value)})("change",function(){return e._onChange()})("blur",function(){return e._onBlur()})("keydown",function(t){return e._onKeydown(t)}),2&t&&(o.Vb("disabled",e.disabled),o.Cb("aria-haspopup",e._picker?"dialog":null)("aria-owns",(null==e._picker?null:e._picker.opened)&&e._picker.id||null))},inputs:{ngxMatColorPicker:"ngxMatColorPicker",value:"value",disabled:"disabled"},outputs:{colorChange:"colorChange",colorInput:"colorInput"},exportAs:["ngxMatColorPickerInput"],features:[o.Ab([Lt,Bt,{provide:N.a,useExisting:t}])]}),t})(),Ht=(()=>{class t{constructor(t){this._cd=t,this._stateChanges=m.a.EMPTY}get disabled(){if(null==this._disabled&&this.picker)return this.picker.disabled}set disabled(t){this._disabled=t}ngOnInit(){}ngOnChanges(t){t.picker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}open(t){this.picker&&!this.disabled&&(this.picker.open(),t.stopPropagation())}_watchStateChanges(){const t=this.picker?this.picker._disabledChange:Object(u.a)(),e=this.picker&&this.picker._pickerInput?this.picker._pickerInput._disabledChange:Object(u.a)(),i=this.picker?Object(Z.a)(this.picker.openedStream,this.picker.closedStream):Object(u.a)();this._stateChanges.unsubscribe(),this._stateChanges=Object(Z.a)(t,e,i).subscribe(()=>this._cd.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.h))},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-toggle"]],viewQuery:function(t,e){if(1&t&&o.Cc(ot,1),2&t){let t;o.nc(t=o.ac())&&(e._button=t.first)}},hostAttrs:[1,"ngx-mat-color-toggle"],hostVars:7,hostBindings:function(t,e){1&t&&o.Zb("focus",function(){return e._button.focus()}),2&t&&(o.Cb("tabindex",-1),o.Eb("ngx-mat-color-toggle-active",e.picker&&e.picker.opened)("mat-accent",e.picker&&"accent"===e.picker.color)("mat-warn",e.picker&&"warn"===e.picker.color))},inputs:{disabled:"disabled",picker:["for","picker"],tabIndex:"tabIndex"},exportAs:["ngxMatColorPickerToggle"],features:[o.zb],decls:4,vars:5,consts:[["mat-icon-button","","type","button",3,"disabled","click"],["button",""]],template:function(t,e){1&t&&(o.Sb(0,"button",0,1),o.Zb("click",function(t){return e.open(t)}),o.Sb(2,"mat-icon"),o.zc(3,"palette"),o.Rb(),o.Rb()),2&t&&(o.jc("disabled",e.disabled),o.Cb("aria-haspopup",e.picker?"dialog":null)("tabindex",e.disabled?-1:e.tabIndex),o.Bb(2),o.uc("color",null==e.picker||null==e.picker._selected?null:e.picker._selected.rgba))},directives:[a.b,z],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .ngx-mat-color-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .ngx-mat-color-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .ngx-mat-color-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .ngx-mat-color-toggle-default-icon{display:block;height:1.5em;width:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .ngx-mat-color-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .ngx-mat-color-toggle-default-icon{margin:auto}"],encapsulation:2}),t})(),Nt=(()=>{class t{constructor(){}onInput(t){this._formatInput(t.target)}_formatInput(t){let e=Number(t.value.replace(ct,""));e=isNaN(e)?0:e,t.value=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.Hb({type:t,selectors:[["","ngxMatNumericColorInput",""]],hostBindings:function(t,e){1&t&&o.Zb("input",function(t){return e.onInput(t)})}}),t})(),$t=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({providers:[Rt,Et],imports:[[s.c,N.c,a.c,h,W,r.j,r.s,d.b,n.f,H]]}),t})();var Vt=i("vxfF"),Wt=i("NXyV"),qt=i("JX91"),Zt=i("eIep"),Gt=i("R0Ic");const Ut=["trigger"],Kt=["panel"];function Yt(t,e){if(1&t&&(o.Sb(0,"span",8),o.zc(1),o.Rb()),2&t){const t=o.dc();o.Bb(1),o.Ac(t.placeholder)}}function Xt(t,e){if(1&t&&(o.Sb(0,"span",12),o.zc(1),o.Rb()),2&t){const t=o.dc(2);o.Bb(1),o.Ac(t.triggerValue)}}function Jt(t,e){1&t&&o.hc(0,0,["*ngSwitchCase","true"])}function Qt(t,e){if(1&t&&(o.Sb(0,"span",9),o.xc(1,Xt,2,1,"span",10),o.xc(2,Jt,1,0,"ng-content",11),o.Rb()),2&t){const t=o.dc();o.jc("ngSwitch",!!t.customTrigger),o.Bb(2),o.jc("ngSwitchCase",!0)}}function te(t,e){if(1&t){const t=o.Tb();o.Sb(0,"div",13),o.Sb(1,"div",14,15),o.Zb("@transformPanel.done",function(e){return o.qc(t),o.dc()._panelDoneAnimatingStream.next(e.toState)})("keydown",function(e){return o.qc(t),o.dc()._handleKeydown(e)}),o.hc(3,1),o.Rb(),o.Rb()}if(2&t){const t=o.dc();o.jc("@transformPanelWrap",void 0),o.Bb(1),o.Db("mat-select-panel ",t._getPanelTheme(),""),o.uc("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),o.jc("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),o.Cb("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const ee=[[["mat-select-trigger"]],"*"],ie=["mat-select-trigger","*"],ne={transformPanelWrap:Object(Gt.l)("transformPanelWrap",[Object(Gt.k)("* => void",Object(Gt.g)("@transformPanel",[Object(Gt.f)()],{optional:!0}))]),transformPanel:Object(Gt.l)("transformPanel",[Object(Gt.i)("void",Object(Gt.j)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Object(Gt.i)("showing",Object(Gt.j)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Object(Gt.i)("showing-multiple",Object(Gt.j)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Object(Gt.k)("void => *",Object(Gt.e)("120ms cubic-bezier(0, 0, 0.2, 1)")),Object(Gt.k)("* => void",Object(Gt.e)("100ms 25ms linear",Object(Gt.j)({opacity:0})))])};let se=0;const oe=256,re=new o.r("mat-select-scroll-strategy"),ae=new o.r("MAT_SELECT_CONFIG"),le={provide:re,deps:[J.c],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class ce{constructor(t,e){this.source=t,this.value=e}}class he{constructor(t,e,i,n,s){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=i,this._parentFormGroup=n,this.ngControl=s}}const de=Object(c.r)(Object(c.u)(Object(c.s)(Object(c.t)(he)))),be=new o.r("MatSelectTrigger");let ue=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.Hb({type:t,selectors:[["mat-select-trigger"]],features:[o.Ab([{provide:be,useExisting:t}])]}),t})(),pe=(()=>{class t extends de{constructor(t,e,i,n,s,r,a,l,c,h,d,b,u,p){var g,m,f;super(s,n,a,l,h),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=i,this._dir=r,this._parentFormField=c,this.ngControl=h,this._liveAnnouncer=u,this._defaultOptions=p,this._panelOpen=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+se++,this._triggerAriaLabelledBy=null,this._destroy=new q.b,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+se++,this._panelDoneAnimatingStream=new q.b,this._overlayPanelClass=(null===(g=this._defaultOptions)||void 0===g?void 0:g.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(f=null===(m=this._defaultOptions)||void 0===m?void 0:m.disableOptionCentering)&&void 0!==f&&f,this.ariaLabel="",this.optionSelectionChanges=Object(Wt.a)(()=>{const t=this.options;return t?t.changes.pipe(Object(qt.a)(t),Object(Zt.a)(()=>Object(Z.a)(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.pipe(Object(y.a)(1),Object(Zt.a)(()=>this.optionSelectionChanges))}),this.openedChange=new o.n,this._openedStream=this.openedChange.pipe(Object(Y.a)(t=>t),Object(_.a)(()=>{})),this._closedStream=this.openedChange.pipe(Object(Y.a)(t=>!t),Object(_.a)(()=>{})),this.selectionChange=new o.n,this.valueChange=new o.n,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==p?void 0:p.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=p.typeaheadDebounceInterval),this._scrollStrategyFactory=b,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(d)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=Object(b.b)(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Object(b.b)(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Object(b.b)(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Object(b.e)(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new V.b(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Object(K.a)(),Object(G.a)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Object(G.a)(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Object(qt.a)(null),Object(G.a)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?e.setAttribute("aria-labelledby",t):e.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,i=e===X.c||e===X.o||e===X.h||e===X.l,n=e===X.e||e===X.m,s=this._keyManager;if(!s.isTyping()&&n&&!Object(X.r)(t)||(this.multiple||t.altKey)&&i)t.preventDefault(),this.open();else if(!this.multiple){const e=this.selected;s.onKeydown(t);const i=this.selected;i&&e!==i&&this._liveAnnouncer.announce(i.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,i=t.keyCode,n=i===X.c||i===X.o,s=e.isTyping();if(n&&t.altKey)t.preventDefault(),this.close();else if(s||i!==X.e&&i!==X.m||!e.activeItem||Object(X.r)(t))if(!s&&this._multiple&&i===X.a&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const i=e.activeItemIndex;e.onKeydown(t),this._multiple&&n&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==i&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Object(y.a)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(t=>this._selectValue(t)),this._sortValues();else{const e=this._selectValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{if(this._selectionModel.isSelected(e))return!1;try{return null!=e.value&&this._compareWith(e.value,t)}catch(i){return!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new $.b(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Object(G.a)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Object(G.a)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Object(Z.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Object(G.a)(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object(Z.a)(...this.options.map(t=>t._stateChanges)).pipe(Object(G.a)(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,e){const i=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(i!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),i!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,i)=>this.sortComparator?this.sortComparator(e,i,t):t.indexOf(e)-t.indexOf(i)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(this._getChangeEvent(e)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(Vt.d),o.Mb(o.h),o.Mb(o.A),o.Mb(c.b),o.Mb(o.l),o.Mb(et.b,8),o.Mb(r.p,8),o.Mb(r.i,8),o.Mb(tt.a,8),o.Mb(r.m,10),o.Xb("tabindex"),o.Mb(re),o.Mb($.j),o.Mb(ae,8))},t.\u0275dir=o.Hb({type:t,viewQuery:function(t,e){if(1&t&&(o.Cc(Ut,1),o.Cc(Kt,1),o.Cc(J.a,1)),2&t){let t;o.nc(t=o.ac())&&(e.trigger=t.first),o.nc(t=o.ac())&&(e.panel=t.first),o.nc(t=o.ac())&&(e.overlayDir=t.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.yb,o.zb]}),t})(),ge=(()=>{class t extends pe{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,e,i){const n=this._getItemHeight();return Math.min(Math.max(0,n*t-e+n/2),i)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Object(G.a)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Object(y.a)(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const e=Object(c.o)(t,this.options,this.optionGroups),i=this._getItemHeight();this.panel.nativeElement.scrollTop=Object(c.p)((t+e)*i,i,this.panel.nativeElement.scrollTop,oe)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new ce(this,t)}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),i=this._isRtl(),n=this.multiple?56:32;let s;if(this.multiple)s=40;else if(this.disableOptionCentering)s=16;else{let t=this._selectionModel.selected[0]||this.options.first;s=t&&t.group?32:16}i||(s*=-1);const o=0-(t.left+s-(i?n:0)),r=t.right+s-e.width+(i?0:n);o>0?s+=o+8:r>0&&(s-=r+8),this.overlayDir.offsetX=Math.round(s),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,i){const n=this._getItemHeight(),s=(n-this._triggerRect.height)/2,o=Math.floor(oe/n);let r;return this.disableOptionCentering?0:(r=0===this._scrollTop?t*n:this._scrollTop===i?(t-(this._getItemCount()-o))*n+(n-(this._getItemCount()*n-oe)%n):e-n/2,Math.round(-1*r-s))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),i=this._viewportRuler.getViewportSize(),n=this._triggerRect.top-8,s=i.height-this._triggerRect.bottom-8,o=Math.abs(this._offsetY),r=Math.min(this._getItemCount()*e,oe)-o-this._triggerRect.height;r>s?this._adjustPanelUp(r,s):o>n?this._adjustPanelDown(o,n,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const i=Math.round(t-e);this._scrollTop-=i,this._offsetY-=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,i){const n=Math.round(t-e);if(this._scrollTop+=n,this._offsetY+=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=i)return this._scrollTop=i,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),i=Math.min(e*t,oe),n=e*t-i;let s;s=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),s+=Object(c.o)(s,this.options,this.optionGroups);const o=i/2;this._scrollTop=this._calculateOverlayScroll(s,o,n),this._offsetY=this._calculateOverlayOffsetY(s,o,n),this._checkOverlayWithinViewport(n)}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(e){return me(e||t)},t.\u0275cmp=o.Gb({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,i){if(1&t&&(o.Fb(i,be,1),o.Fb(i,c.i,1),o.Fb(i,c.d,1)),2&t){let t;o.nc(t=o.ac())&&(e.customTrigger=t.first),o.nc(t=o.ac())&&(e.options=t),o.nc(t=o.ac())&&(e.optionGroups=t)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,e){1&t&&o.Zb("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e._onFocus()})("blur",function(){return e._onBlur()}),2&t&&(o.Cb("id",e.id)("tabindex",e.tabIndex)("aria-controls",e.panelOpen?e.id+"-panel":null)("aria-expanded",e.panelOpen)("aria-label",e.ariaLabel||null)("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),o.Eb("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty)("mat-select-multiple",e.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[o.Ab([{provide:tt.d,useExisting:t},{provide:c.e,useExisting:t}]),o.yb],ngContentSelectors:ie,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(o.ic(ee),o.Sb(0,"div",0,1),o.Zb("click",function(){return e.toggle()}),o.Sb(3,"div",2),o.xc(4,Yt,2,1,"span",3),o.xc(5,Qt,3,2,"span",4),o.Rb(),o.Sb(6,"div",5),o.Nb(7,"div",6),o.Rb(),o.Rb(),o.xc(8,te,4,14,"ng-template",7),o.Zb("backdropClick",function(){return e.close()})("attach",function(){return e._onAttached()})("detach",function(){return e.close()})),2&t){const t=o.oc(1);o.Cb("aria-owns",e.panelOpen?e.id+"-panel":null),o.Bb(3),o.jc("ngSwitch",e.empty),o.Cb("id",e._valueId),o.Bb(1),o.jc("ngSwitchCase",!0),o.Bb(1),o.jc("ngSwitchCase",!1),o.Bb(3),o.jc("cdkConnectedOverlayPanelClass",e._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[J.b,s.m,s.n,J.a,s.o,s.j],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px}\n'],encapsulation:2,data:{animation:[ne.transformPanelWrap,ne.transformPanel]},changeDetection:0}),t})();const me=o.Ub(ge);let fe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({providers:[le],imports:[[s.c,J.f,c.j,c.g],Vt.a,tt.e,c.j,c.g]}),t})();var _e=i("GU7r");const ve=["thumbContainer"],xe=["toggleBar"],Ce=["input"],ye=function(){return{enterDuration:150}},Se=["*"],we=new o.r("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let ke=0;const Oe={provide:r.l,useExisting:Object(o.U)(()=>je),multi:!0};class Ie{constructor(t,e){this.source=t,this.checked=e}}class Re{constructor(t){this._elementRef=t}}const Me=Object(c.u)(Object(c.q)(Object(c.r)(Object(c.s)(Re)),"accent"));let je=(()=>{class t extends Me{constructor(t,e,i,n,s,r){super(t),this._focusMonitor=e,this._changeDetectorRef=i,this.defaults=s,this._animationMode=r,this._onChange=t=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++ke,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new o.n,this.toggleChange=new o.n,this.tabIndex=parseInt(n)||0}get required(){return this._required}set required(t){this._required=Object(b.b)(t)}get checked(){return this._checked}set checked(t){this._checked=Object(b.b)(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?this._inputElement.nativeElement.focus():t||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(t){t.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}focus(t,e){e?this._focusMonitor.focusVia(this._inputElement,e,t):this._inputElement.nativeElement.focus(t)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new Ie(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb($.g),o.Mb(o.h),o.Xb("tabindex"),o.Mb(we),o.Mb(l.a,8))},t.\u0275cmp=o.Gb({type:t,selectors:[["mat-slide-toggle"]],viewQuery:function(t,e){if(1&t&&(o.Cc(ve,1),o.Cc(xe,1),o.Cc(Ce,1)),2&t){let t;o.nc(t=o.ac())&&(e._thumbEl=t.first),o.nc(t=o.ac())&&(e._thumbBarEl=t.first),o.nc(t=o.ac())&&(e._inputElement=t.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(t,e){2&t&&(o.Vb("id",e.id),o.Cb("tabindex",e.disabled?null:-1)("aria-label",null)("aria-labelledby",null),o.Eb("mat-checked",e.checked)("mat-disabled",e.disabled)("mat-slide-toggle-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[o.Ab([Oe]),o.yb],ngContentSelectors:Se,decls:16,vars:18,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(t,e){if(1&t&&(o.ic(),o.Sb(0,"label",0,1),o.Sb(2,"div",2,3),o.Sb(4,"input",4,5),o.Zb("change",function(t){return e._onChangeEvent(t)})("click",function(t){return e._onInputClick(t)}),o.Rb(),o.Sb(6,"div",6,7),o.Nb(8,"div",8),o.Sb(9,"div",9),o.Nb(10,"div",10),o.Rb(),o.Rb(),o.Rb(),o.Sb(11,"span",11,12),o.Zb("cdkObserveContent",function(){return e._onLabelTextChange()}),o.Sb(13,"span",13),o.zc(14,"\xa0"),o.Rb(),o.hc(15),o.Rb(),o.Rb()),2&t){const t=o.oc(1),i=o.oc(12);o.Cb("for",e.inputId),o.Bb(2),o.Eb("mat-slide-toggle-bar-no-side-margin",!i.textContent||!i.textContent.trim()),o.Bb(2),o.jc("id",e.inputId)("required",e.required)("tabIndex",e.tabIndex)("checked",e.checked)("disabled",e.disabled),o.Cb("name",e.name)("aria-checked",e.checked.toString())("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),o.Bb(5),o.jc("matRippleTrigger",t)("matRippleDisabled",e.disableRipple||e.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",o.kc(17,ye))}},directives:[c.l,_e.a],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),t})(),Te=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({}),t})(),Ee=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({imports:[[Te,c.m,c.g,_e.c],Te,c.g]}),t})();var Pe=i("xgIS"),Ae=i("PqYM"),Fe=i("nLfN");function De(t,e){1&t&&o.hc(0)}const Le=["*"];function Be(t,e){}const ze=function(t){return{animationDuration:t}},He=function(t,e){return{value:t,params:e}},Ne=["tabBodyWrapper"],$e=["tabHeader"];function Ve(t,e){}function We(t,e){if(1&t&&o.xc(0,Ve,0,0,"ng-template",9),2&t){const t=o.dc().$implicit;o.jc("cdkPortalOutlet",t.templateLabel)}}function qe(t,e){if(1&t&&o.zc(0),2&t){const t=o.dc().$implicit;o.Ac(t.textLabel)}}function Ze(t,e){if(1&t){const t=o.Tb();o.Sb(0,"div",6),o.Zb("click",function(){o.qc(t);const i=e.$implicit,n=e.index,s=o.dc(),r=o.oc(1);return s._handleClick(i,r,n)})("cdkFocusChange",function(i){o.qc(t);const n=e.index;return o.dc()._tabFocusChanged(i,n)}),o.Sb(1,"div",7),o.xc(2,We,1,1,"ng-template",8),o.xc(3,qe,1,1,"ng-template",8),o.Rb(),o.Rb()}if(2&t){const t=e.$implicit,i=e.index,n=o.dc();o.Eb("mat-tab-label-active",n.selectedIndex==i),o.jc("id",n._getTabLabelId(i))("disabled",t.disabled)("matRippleDisabled",t.disabled||n.disableRipple),o.Cb("tabIndex",n._getTabIndex(t,i))("aria-posinset",i+1)("aria-setsize",n._tabs.length)("aria-controls",n._getTabContentId(i))("aria-selected",n.selectedIndex==i)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),o.Bb(2),o.jc("ngIf",t.templateLabel),o.Bb(1),o.jc("ngIf",!t.templateLabel)}}function Ge(t,e){if(1&t){const t=o.Tb();o.Sb(0,"mat-tab-body",10),o.Zb("_onCentered",function(){return o.qc(t),o.dc()._removeTabBodyWrapperHeight()})("_onCentering",function(e){return o.qc(t),o.dc()._setTabBodyWrapperHeight(e)}),o.Rb()}if(2&t){const t=e.$implicit,i=e.index,n=o.dc();o.Eb("mat-tab-body-active",n.selectedIndex==i),o.jc("id",n._getTabContentId(i))("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",n.animationDuration),o.Cb("aria-labelledby",n._getTabLabelId(i))}}const Ue=["tabListContainer"],Ke=["tabList"],Ye=["nextPaginator"],Xe=["previousPaginator"],Je=new o.r("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let Qe=(()=>{class t{constructor(t,e,i,n){this._elementRef=t,this._ngZone=e,this._inkBarPositioner=i,this._animationMode=n}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const e=this._inkBarPositioner(t),i=this._elementRef.nativeElement;i.style.left=e.left,i.style.width=e.width}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(o.A),o.Mb(Je),o.Mb(l.a,8))},t.\u0275dir=o.Hb({type:t,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,e){2&t&&o.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode)}}),t})();const ti=new o.r("MatTabContent"),ei=new o.r("MatTabLabel");class ii{}const ni=Object(c.s)(ii),si=new o.r("MAT_TAB_GROUP");let oi=(()=>{class t extends ni{constructor(t,e){super(),this._viewContainerRef=t,this._closestTabGroup=e,this.textLabel="",this._contentPortal=null,this._stateChanges=new q.b,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new n.g(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&(this._templateLabel=t)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.Q),o.Mb(si))},t.\u0275cmp=o.Gb({type:t,selectors:[["mat-tab"]],contentQueries:function(t,e,i){if(1&t&&(o.Fb(i,ei,1),o.Fb(i,ti,3,o.M)),2&t){let t;o.nc(t=o.ac())&&(e.templateLabel=t.first),o.nc(t=o.ac())&&(e._explicitContent=t.first)}},viewQuery:function(t,e){if(1&t&&o.Cc(o.M,3),2&t){let t;o.nc(t=o.ac())&&(e._implicitContent=t.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[o.yb,o.zb],ngContentSelectors:Le,decls:1,vars:0,template:function(t,e){1&t&&(o.ic(),o.xc(0,De,1,0,"ng-template"))},encapsulation:2}),t})();const ri={translateTab:Object(Gt.l)("translateTab",[Object(Gt.i)("center, void, left-origin-center, right-origin-center",Object(Gt.j)({transform:"none"})),Object(Gt.i)("left",Object(Gt.j)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Object(Gt.i)("right",Object(Gt.j)({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Object(Gt.k)("* => left, * => right, left => center, right => center",Object(Gt.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Object(Gt.k)("void => left-origin-center",[Object(Gt.j)({transform:"translate3d(-100%, 0, 0)"}),Object(Gt.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Object(Gt.k)("void => right-origin-center",[Object(Gt.j)({transform:"translate3d(100%, 0, 0)"}),Object(Gt.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let ai=(()=>{class t extends n.c{constructor(t,e,i,n){super(t,e,n),this._host=i,this._centeringSub=m.a.EMPTY,this._leavingSub=m.a.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Object(qt.a)(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.j),o.Mb(o.Q),o.Mb(Object(o.U)(()=>ci)),o.Mb(s.d))},t.\u0275dir=o.Hb({type:t,selectors:[["","matTabBodyHost",""]],features:[o.yb]}),t})(),li=(()=>{class t{constructor(t,e,i){this._elementRef=t,this._dir=e,this._dirChangeSubscription=m.a.EMPTY,this._translateTabComplete=new q.b,this._onCentering=new o.n,this._beforeCentering=new o.n,this._afterLeavingCenter=new o.n,this._onCentered=new o.n(!0),this.animationDuration="500ms",e&&(this._dirChangeSubscription=e.change.subscribe(t=>{this._computePositionAnimationState(t),i.markForCheck()})),this._translateTabComplete.pipe(Object(K.a)((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{this._isCenterPosition(t.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(t.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const e=this._getLayoutDirection();return"ltr"==e&&t<=0||"rtl"==e&&t>0?"left-origin-center":"right-origin-center"}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(et.b,8),o.Mb(o.h))},t.\u0275dir=o.Hb({type:t,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t})(),ci=(()=>{class t extends li{constructor(t,e,i){super(t,e,i)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(et.b,8),o.Mb(o.h))},t.\u0275cmp=o.Gb({type:t,selectors:[["mat-tab-body"]],viewQuery:function(t,e){if(1&t&&o.Cc(n.c,1),2&t){let t;o.nc(t=o.ac())&&(e._portalHost=t.first)}},hostAttrs:[1,"mat-tab-body"],features:[o.yb],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,e){1&t&&(o.Sb(0,"div",0,1),o.Zb("@translateTab.start",function(t){return e._onTranslateTabStarted(t)})("@translateTab.done",function(t){return e._translateTabComplete.next(t)}),o.xc(2,Be,0,0,"ng-template",2),o.Rb()),2&t&&o.jc("@translateTab",o.mc(3,He,e._position,o.lc(1,ze,e.animationDuration)))},directives:[ai],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[ri.translateTab]}}),t})();const hi=new o.r("MAT_TABS_CONFIG");let di=0;class bi{}class ui{constructor(t){this._elementRef=t}}const pi=Object(c.q)(Object(c.r)(ui),"primary");let gi=(()=>{class t extends pi{constructor(t,e,i,n){super(t),this._changeDetectorRef=e,this._animationMode=n,this._tabs=new o.E,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=m.a.EMPTY,this._tabLabelSubscription=m.a.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new o.n,this.focusChange=new o.n,this.animationDone=new o.n,this.selectedTabChange=new o.n(!0),this._groupId=di++,this.animationDuration=i&&i.animationDuration?i.animationDuration:"500ms",this.disablePagination=!(!i||null==i.disablePagination)&&i.disablePagination,this.dynamicHeight=!(!i||null==i.dynamicHeight)&&i.dynamicHeight}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=Object(b.b)(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=Object(b.e)(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement;e.classList.remove(`mat-background-${this.backgroundColor}`),t&&e.classList.add(`mat-background-${t}`),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const e=null==this._selectedIndex;e||this.selectedTabChange.emit(this._createChangeEvent(t)),Promise.resolve().then(()=>{this._tabs.forEach((e,i)=>e.isActive=i===t),e||this.selectedIndexChange.emit(t)})}this._tabs.forEach((e,i)=>{e.position=i-t,null==this._selectedIndex||0!=e.position||e.origin||(e.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const t=this._tabs.toArray();for(let e=0;e<t.length;e++)if(t[e].isActive){this._indexToSelect=this._selectedIndex=e;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Object(qt.a)(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(t=>t._closestTabGroup===this)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}_focusChanged(t){this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const e=new bi;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Object(Z.a)(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,e,i){t.disabled||(this.selectedIndex=e.focusIndex=i)}_getTabIndex(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}_tabFocusChanged(t,e){t&&(this._tabHeader.focusIndex=e)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(o.h),o.Mb(hi,8),o.Mb(l.a,8))},t.\u0275dir=o.Hb({type:t,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[o.yb]}),t})(),mi=(()=>{class t extends gi{constructor(t,e,i,n){super(t,e,i,n)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(o.h),o.Mb(hi,8),o.Mb(l.a,8))},t.\u0275cmp=o.Gb({type:t,selectors:[["mat-tab-group"]],contentQueries:function(t,e,i){if(1&t&&o.Fb(i,oi,1),2&t){let t;o.nc(t=o.ac())&&(e._allTabs=t)}},viewQuery:function(t,e){if(1&t&&(o.Cc(Ne,1),o.Cc($e,1)),2&t){let t;o.nc(t=o.ac())&&(e._tabBodyWrapper=t.first),o.nc(t=o.ac())&&(e._tabHeader=t.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,e){2&t&&o.Eb("mat-tab-group-dynamic-height",e.dynamicHeight)("mat-tab-group-inverted-header","below"===e.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[o.Ab([{provide:si,useExisting:t}]),o.yb],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,e){1&t&&(o.Sb(0,"mat-tab-header",0,1),o.Zb("indexFocused",function(t){return e._focusChanged(t)})("selectFocusedIndex",function(t){return e.selectedIndex=t}),o.xc(2,Ze,4,14,"div",2),o.Rb(),o.Sb(3,"div",3,4),o.xc(5,Ge,1,8,"mat-tab-body",5),o.Rb()),2&t&&(o.jc("selectedIndex",e.selectedIndex||0)("disableRipple",e.disableRipple)("disablePagination",e.disablePagination),o.Bb(2),o.jc("ngForOf",e._tabs),o.Bb(1),o.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode),o.Bb(2),o.jc("ngForOf",e._tabs))},directives:function(){return[Si,s.k,vi,c.l,$.d,s.l,n.c,ci]},styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),t})();class fi{}const _i=Object(c.s)(fi);let vi=(()=>{class t extends _i{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l))},t.\u0275dir=o.Hb({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,e){2&t&&(o.Cb("aria-disabled",!!e.disabled),o.Eb("mat-tab-disabled",e.disabled))},inputs:{disabled:"disabled"},features:[o.yb]}),t})();const xi=Object(Fe.f)({passive:!0});let Ci=(()=>{class t{constructor(t,e,i,n,s,r,a){this._elementRef=t,this._changeDetectorRef=e,this._viewportRuler=i,this._dir=n,this._ngZone=s,this._platform=r,this._animationMode=a,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new q.b,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new q.b,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new o.n,this.indexFocused=new o.n,s.runOutsideAngular(()=>{Object(Pe.a)(t.nativeElement,"mouseleave").pipe(Object(G.a)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=Object(b.e)(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){Object(Pe.a)(this._previousPaginator.nativeElement,"touchstart",xi).pipe(Object(G.a)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Object(Pe.a)(this._nextPaginator.nativeElement,"touchstart",xi).pipe(Object(G.a)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:Object(u.a)(null),e=this._viewportRuler.change(150),i=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new $.f(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(i):i(),Object(Z.a)(t,e,this._items.changes).pipe(Object(G.a)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(i)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Object(G.a)(this._destroyed)).subscribe(t=>{this.indexFocused.emit(t),this._setTabFocus(t)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!Object(X.r)(t))switch(t.keyCode){case X.e:case X.m:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const e=this._items?this._items.toArray()[t]:null;return!!e&&!e.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const e=this._tabListContainer.nativeElement,i=this._getLayoutDirection();e.scrollLeft="ltr"==i?0:e.scrollWidth-e.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,e="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(e)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const e=this._items?this._items.toArray()[t]:null;if(!e)return;const i=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:n,offsetWidth:s}=e.elementRef.nativeElement;let o,r;"ltr"==this._getLayoutDirection()?(o=n,r=o+s):(r=this._tabList.nativeElement.offsetWidth-n,o=r-s);const a=this.scrollDistance,l=this.scrollDistance+i;o<a?this.scrollDistance-=a-o+60:r>l&&(this.scrollDistance+=r-l+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,e){e&&null!=e.button&&0!==e.button||(this._stopInterval(),Object(Ae.a)(650,100).pipe(Object(G.a)(Object(Z.a)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:e,distance:i}=this._scrollHeader(t);(0===i||i>=e)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(o.h),o.Mb(Vt.d),o.Mb(et.b,8),o.Mb(o.A),o.Mb(Fe.a),o.Mb(l.a,8))},t.\u0275dir=o.Hb({type:t,inputs:{disablePagination:"disablePagination"}}),t})(),yi=(()=>{class t extends Ci{constructor(t,e,i,n,s,o,r){super(t,e,i,n,s,o,r),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Object(b.b)(t)}_itemSelected(t){t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(o.h),o.Mb(Vt.d),o.Mb(et.b,8),o.Mb(o.A),o.Mb(Fe.a),o.Mb(l.a,8))},t.\u0275dir=o.Hb({type:t,inputs:{disableRipple:"disableRipple"},features:[o.yb]}),t})(),Si=(()=>{class t extends yi{constructor(t,e,i,n,s,o,r){super(t,e,i,n,s,o,r)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(o.h),o.Mb(Vt.d),o.Mb(et.b,8),o.Mb(o.A),o.Mb(Fe.a),o.Mb(l.a,8))},t.\u0275cmp=o.Gb({type:t,selectors:[["mat-tab-header"]],contentQueries:function(t,e,i){if(1&t&&o.Fb(i,vi,0),2&t){let t;o.nc(t=o.ac())&&(e._items=t)}},viewQuery:function(t,e){if(1&t&&(o.Cc(Qe,3),o.Cc(Ue,3),o.Cc(Ke,3),o.Cc(Ye,1),o.Cc(Xe,1)),2&t){let t;o.nc(t=o.ac())&&(e._inkBar=t.first),o.nc(t=o.ac())&&(e._tabListContainer=t.first),o.nc(t=o.ac())&&(e._tabList=t.first),o.nc(t=o.ac())&&(e._nextPaginator=t.first),o.nc(t=o.ac())&&(e._previousPaginator=t.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,e){2&t&&o.Eb("mat-tab-header-pagination-controls-enabled",e._showPaginationControls)("mat-tab-header-rtl","rtl"==e._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[o.yb],ngContentSelectors:Le,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,e){1&t&&(o.ic(),o.Sb(0,"div",0,1),o.Zb("click",function(){return e._handlePaginatorClick("before")})("mousedown",function(t){return e._handlePaginatorPress("before",t)})("touchend",function(){return e._stopInterval()}),o.Nb(2,"div",2),o.Rb(),o.Sb(3,"div",3,4),o.Zb("keydown",function(t){return e._handleKeydown(t)}),o.Sb(5,"div",5,6),o.Zb("cdkObserveContent",function(){return e._onContentChanges()}),o.Sb(7,"div",7),o.hc(8),o.Rb(),o.Nb(9,"mat-ink-bar"),o.Rb(),o.Rb(),o.Sb(10,"div",8,9),o.Zb("mousedown",function(t){return e._handlePaginatorPress("after",t)})("click",function(){return e._handlePaginatorClick("after")})("touchend",function(){return e._stopInterval()}),o.Nb(12,"div",2),o.Rb()),2&t&&(o.Eb("mat-tab-header-pagination-disabled",e._disableScrollBefore),o.jc("matRippleDisabled",e._disableScrollBefore||e.disableRipple),o.Bb(5),o.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode),o.Bb(5),o.Eb("mat-tab-header-pagination-disabled",e._disableScrollAfter),o.jc("matRippleDisabled",e._disableScrollAfter||e.disableRipple))},directives:[c.l,_e.a,Qe],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),t})(),wi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({imports:[[s.c,c.g,n.f,c.m,_e.c,$.a],c.g]}),t})();var ki=i("PCNd"),Oi=i("tyNb");let Ii=(()=>{class t{canDeactivate(t,e,i,n){return t.canDeactivate?t.canDeactivate():window.confirm("Are you sure you want to leave this page")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ri=(()=>{class t{constructor(t){this.http=t}getScripts(t){return this.http.get(`api/v1/scripts?page=${t}`)}deleteScripts(t){const e=t.map(t=>`id[]=${t}`).join("&");return this.http.delete(`api/v1/scripts?${e}`)}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(S.b))},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Mi(t,e){if(1&t){const t=o.Tb();o.Sb(0,"li",5),o.Sb(1,"input",6),o.Zb("change",function(i){o.qc(t);const n=e.$implicit;return o.dc().checkScript(i,n.id)}),o.Rb(),o.Sb(2,"div",7),o.Sb(3,"a",8),o.zc(4),o.Rb(),o.Sb(5,"span",9),o.zc(6),o.Rb(),o.Sb(7,"div"),o.Sb(8,"span",10),o.zc(9),o.ec(10,"date"),o.Rb(),o.Sb(11,"span",10),o.zc(12),o.ec(13,"date"),o.Rb(),o.Rb(),o.Rb(),o.Rb()}if(2&t){const t=e.$implicit,i=o.dc();o.Bb(1),o.jc("value",i.deleteScriptIds.includes(t.id)),o.Bb(2),o.jc("routerLink",t.id),o.Bb(1),o.Bc(" ",t.title," "),o.Bb(2),o.Bc("author: ",null==t.author?null:t.author.name,""),o.Bb(3),o.Bc("created: ",o.fc(10,6,t.created),""),o.Bb(3),o.Bc("updated: ",o.fc(13,8,t.updated),"")}}let ji=(()=>{class t{constructor(t,e){this.scriptListService=t,this.cd=e,this.deleteScriptIds=[],this.unsubscriber$=new q.b,this.scriptListService.getScripts(1).pipe(Object(G.a)(this.unsubscriber$)).subscribe(t=>{this.scripts=t,this.cd.markForCheck()})}ngOnInit(){}ngOnDestroy(){this.unsubscriber$.next()}checkScript(t,e){t.target.checked?this.deleteScriptIds.push(e):this.deleteScriptIds=this.deleteScriptIds.filter(t=>t!==e)}deleteScripts(){this.scriptListService.deleteScripts(this.deleteScriptIds).pipe(Object(G.a)(this.unsubscriber$)).subscribe(()=>{this.scripts=this.scripts.filter(t=>!this.deleteScriptIds.includes(t.id)),this.deleteScriptIds=[],this.cd.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(Ri),o.Mb(o.h))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-script-list"]],decls:7,vars:2,consts:[[1,"wrapper"],["mat-stroked-button","","color","primary",3,"routerLink"],["mat-stroked-button","","color","primary",3,"click"],[1,"list"],["class","list-detail",4,"ngFor","ngForOf"],[1,"list-detail"],["type","checkbox",1,"list-detail__checkbox",3,"value","change"],[1,"list-detail__body"],[1,"list-detail__body-main",3,"routerLink"],[1,"list-detail__body-main-author"],[1,"list-detail__body-sub-date"]],template:function(t,e){1&t&&(o.Sb(0,"div",0),o.Sb(1,"a",1),o.zc(2,"new script"),o.Rb(),o.Sb(3,"button",2),o.Zb("click",function(){return e.deleteScripts()}),o.zc(4," Bulk Delete "),o.Rb(),o.Sb(5,"ul",3),o.xc(6,Mi,14,10,"li",4),o.Rb(),o.Rb()),2&t&&(o.Bb(1),o.jc("routerLink","new"),o.Bb(5),o.jc("ngForOf",e.scripts))},directives:[a.a,Oi.c,a.b,s.k],pipes:[s.e],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}.wrapper[_ngcontent-%COMP%]{width:100%;max-width:1080px;margin:0 auto;padding:0 30px}.wrapper[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{list-style-type:none;padding-left:5px}.wrapper[_ngcontent-%COMP%]   .list-detail[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:5px;border-bottom:1px solid}.wrapper[_ngcontent-%COMP%]   .list-detail__checkbox[_ngcontent-%COMP%]{display:block}.wrapper[_ngcontent-%COMP%]   .list-detail__body[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .list-detail__body-main-author[_ngcontent-%COMP%]{margin-left:20px}.wrapper[_ngcontent-%COMP%]   .list-detail__body-sub-date[_ngcontent-%COMP%]{margin-right:20px}"],changeDetection:0}),t})();class Ti{constructor(t={}){this.title="",this.innerHtml="",Object.assign(this,t)}clone(){return Object.assign(Object.create(Object.getPrototypeOf(this)),this)}isEqual(t){return JSON.stringify(this)===JSON.stringify(t)}}var Ei=i("jtHE"),Pi=i("SxV6");let Ai=(()=>{class t{constructor(t){this.http=t,this.tokenizer$=new Ei.a(1),this.lintResultSubject$=new Ei.a(1),this.lintResult$=this.lintResultSubject$.asObservable(),kuromoji.builder({dicPath:"../../assets/kuromoji/dict"}).build((t,e)=>{t?console.error(t):this.tokenizer$.next(e)})}tokenize(t){return this.tokenizer$.pipe(Object(Pi.a)(),Object(_.a)(e=>e.tokenize(t)))}constituencyParse(t){return this.http.post("api/v2/constituency-parse",{textBlocks:t})}textLint(t){return this.http.post("api/v1/textlint",{text:t}).pipe(Object(f.a)(t=>{this.lintResultSubject$.next(t)}))}splitTextByNewline(t){if(t.length<2)return t;let e=t;[/\u300c[^\u300d]*\u300d/g,/\uff08[^\uff09]*\uff09/g,/\([^\)]*\)/g,/\[[^\]]*\]/g,/"[^"]*"/g,/\u201d[^\u201d]*\u201d/g].forEach(t=>{e=e.replace(t,t=>"#".repeat(t.length))});let i="",n=0;return[...Array(e.length-1)].forEach((s,o)=>{"\u3002"===e.charAt(o)&&(i+=t.substring(n,o+1)+"\n",n=o+1)}),i+=t.substring(n),i}getScript(t){return this.http.get(`api/v1/scripts/${t}`).pipe(Object(_.a)(t=>new Ti(t)))}putScript(t){return this.http.put(`api/v1/scripts/${t.id}`,{title:t.title,innerHtml:t.innerHtml}).pipe(Object(_.a)(t=>new Ti(t)))}postScript(t){return this.http.post("api/v1/scripts",{title:t.title,innerHtml:t.innerHtml}).pipe(Object(_.a)(t=>new Ti(t)))}deleteScript(t){return this.http.delete(`api/v1/scripts/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(S.b))},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Fi=(()=>{class t{constructor(t,e,i){this.renderer=t,this.cd=e,this.scriptService=i,this.display="none",this.colorCtr=new r.e,this.color="primary",this.unsubscriber$=new q.b,this.backColorHexKey="back-color-code-key";const n=localStorage.getItem(this.backColorHexKey);this.backColorCode=n?`#${n}`:"#000000";const s=this.hex2rgb(this.backColorCode);this.colorCtr.setValue(new yt(s[0],s[1],s[2])),this.colorCtr.valueChanges.pipe(Object(G.a)(this.unsubscriber$)).subscribe(t=>{this.backColorCode=`#${t.toHex()}`,localStorage.setItem(this.backColorHexKey,this.backColorCode),this.cd.markForCheck()})}ngOnInit(){}ngOnDestroy(){this.unsubscriber$.next()}selectionChange(t){this.selection=window.getSelection();const e=this.selection.getRangeAt(0);if(this.selection.isCollapsed)return this.display="none",void this.cd.markForCheck();const i=e.getBoundingClientRect();this.top=i.top+window.pageYOffset-30+"px",this.left=i.left+"px",this.display="block",this.cd.markForCheck()}clickDocument(t){t.target.closest(".editor__main")||(this.display="none",this.cd.markForCheck())}backColor(){document.execCommand("backColor",!1,this.backColorCode),this.cd.markForCheck()}format(){const t=this.selection.getRangeAt(0),e=document.createRange();e.setStart(t.startContainer,0),t.endContainer.nodeValue?e.setEnd(t.endContainer,t.endContainer.nodeValue.length):e.setEnd(t.startContainer,t.startContainer.nodeValue.length),this.selection.removeAllRanges(),this.selection.addRange(e);let i=this.scriptService.splitTextByNewline(this.selection.toString());i=i.replace(/(?<!\n)\n{2}(?!\n)/g,"\n"),document.execCommand("insertText",!1,i),this.cd.markForCheck()}strike(){document.execCommand("strikethrough",!1),this.cd.markForCheck()}hex2rgb(t){return"#"===t.slice(0,1)&&(t=t.slice(1)),3===t.length&&(t=t.slice(0,1)+t.slice(0,1)+t.slice(1,2)+t.slice(1,2)+t.slice(2,3)+t.slice(2,3)),[t.slice(0,2),t.slice(2,4),t.slice(4,6)].map(t=>parseInt(t,16))}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.F),o.Mb(o.h),o.Mb(Ai))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-balloon"]],hostVars:6,hostBindings:function(t,e){1&t&&o.Zb("click",function(t){return e.clickDocument(t)},!1,o.pc),2&t&&o.uc("top",e.top)("left",e.left)("display",e.display)},decls:12,vars:5,consts:[[1,"wrapper"],["matInput","",3,"ngxMatColorPicker","formControl"],["matSuffix","",3,"for"],[3,"touchUi","color"],["picker",""],[3,"click"]],template:function(t,e){if(1&t&&(o.Sb(0,"div",0),o.Sb(1,"mat-form-field"),o.Nb(2,"input",1),o.Nb(3,"ngx-mat-color-toggle",2),o.Nb(4,"ngx-mat-color-picker",3,4),o.Rb(),o.Sb(6,"button",5),o.Zb("click",function(){return e.backColor()}),o.zc(7,"color"),o.Rb(),o.Sb(8,"button",5),o.Zb("click",function(){return e.format()}),o.zc(9,"format"),o.Rb(),o.Sb(10,"button",5),o.Zb("click",function(){return e.strike()}),o.zc(11,"strike"),o.Rb(),o.Rb()),2&t){const t=o.oc(5);o.Bb(2),o.jc("ngxMatColorPicker",t)("formControl",e.colorCtr),o.Bb(1),o.jc("for",t),o.Bb(1),o.jc("touchUi","false")("color",e.color)}},directives:[tt.c,N.b,zt,r.c,r.n,r.f,Ht,tt.h,Ft],styles:["[_nghost-%COMP%]{position:absolute;z-index:30}.wrapper[_ngcontent-%COMP%]{border:1px solid #000;background-color:#fff;box-shadow:0 0 10px;padding:2px;height:20px;display:flex}.wrapper[_ngcontent-%COMP%]     mat-form-field .mat-form-field-infix{display:none}"],changeDetection:0}),t})();var Di=i("3UWI");let Li=(()=>{class t{constructor(){this.undoStack=[],this.redoStack=[]}register(t){this.undoStack.push(t)}undo(){const t=this.undoStack.length;if(t<2)return;const e=this.undoStack.pop();return this.redoStack.push(e),this.undoStack[t-1-1]}redo(){if(this.redoStack.length<1)return;const t=this.redoStack.pop();return this.undoStack.push(t),t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Bi=(()=>{class t{constructor(t,e,i,n,s){this.elementRef=t,this.renderer=e,this.sanitizer=i,this.undoRedoService=n,this.route=s,this.contentEditable=!0,this.registerer$=new q.b,this.unsubscriber$=new q.b,this.onTouched=()=>{},this.onChange=()=>{},this.id=this.route.snapshot.paramMap.get("id"),this.registerer$.pipe(Object(Di.a)(300),Object(K.a)(),Object(G.a)(this.unsubscriber$)).subscribe(t=>{this.undoRedoService.register(t)})}get wsMessageType(){return`editable-directive-script-${this.id}`}ngDoCheck(){this.onChangeInnerHtml()}ngOnDestroy(){this.unsubscriber$.next()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.renderer.setProperty(this.elementRef.nativeElement,"innerHTML",this.sanitizer.sanitize(o.J.HTML,this.sanitizer.bypassSecurityTrustHtml(t))),this.onChangeInnerHtml()}onInput(){this.onChange(this.elementRef.nativeElement.innerHTML)}preventFormattedPast(t){t.preventDefault();const{clipboardData:e}=t,i=e.getData("text/plain")||e.getData("text");document.execCommand("insertText",!1,i)}clearContent(){this.elementRef.nativeElement.innerHTML=""}insertTextContent(t){const e=document.createRange(),i=this.elementRef.nativeElement.childNodes.length;e.setStart(this.elementRef.nativeElement,i),e.setEnd(this.elementRef.nativeElement,i);const n=window.getSelection();n.removeAllRanges(),n.addRange(e),document.execCommand("insertText",!1,t)}undo(){const t=this.undoRedoService.undo();void 0!==t&&(this.elementRef.nativeElement.innerHTML=t)}redo(){const t=this.undoRedoService.redo();void 0!==t&&(this.elementRef.nativeElement.innerHTML=t)}keyDown(t){t.ctrlKey&&90===t.keyCode&&(t.shiftKey?this.undo():this.redo())}onChangeInnerHtml(){const t=this.elementRef.nativeElement.innerHTML;void 0!==this.previousInnerHtml&&this.previousInnerHtml===t||(this.previousInnerHtml=t,this.registerer$.next(t))}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(o.F),o.Mb(w.b),o.Mb(Li),o.Mb(Oi.a))},t.\u0275dir=o.Hb({type:t,selectors:[["","appEditable",""]],hostVars:1,hostBindings:function(t,e){1&t&&o.Zb("input",function(){return e.onInput()})("paste",function(t){return e.preventFormattedPast(t)})("keydown",function(t){return e.keyDown(t)}),2&t&&o.Cb("contenteditable",e.contentEditable)},features:[o.Ab([{provide:r.l,useExisting:Object(o.U)(()=>t),multi:!0},Li])]}),t})();var zi=i("Cfvw"),Hi=i("5+tZ");function Ni(t,e){if(1&t){const t=o.Tb();o.Sb(0,"button",13),o.Zb("click",function(){return o.qc(t),o.dc().highlightValue.reset()}),o.Sb(1,"mat-icon"),o.zc(2,"close"),o.Rb(),o.Rb()}}function $i(t,e){if(1&t){const t=o.Tb();o.Sb(0,"button",13),o.Zb("click",function(){return o.qc(t),o.dc().underlineValue.reset()}),o.Sb(1,"mat-icon"),o.zc(2,"close"),o.Rb(),o.Rb()}}function Vi(t,e){if(1&t&&(o.Sb(0,"mat-option",14),o.zc(1),o.Rb()),2&t){const t=e.$implicit;o.jc("value",t),o.Bb(1),o.Ac(t)}}let Wi=(()=>{class t{constructor(t,e,i){this.renderer=t,this.cd=e,this.scriptService=i,this.highlightValue=new r.e(""),this.underlineValue=new r.e(""),this.keywordValues=new r.e,this.keys=["\u8003\u3048\u308b","\u601d\u3046"],this.valueChange=new o.n,this.setText=new o.n,this.toggleSubtitleButton=new o.n,this.loadingStateChange=new o.n,this.toolBoxHighlightKey="tool-box-highlight-key",this.toolBoxUnderlineKey="tool-box-underline-key",this.unsubscriber$=new q.b;const n=localStorage.getItem(this.toolBoxHighlightKey);n&&this.highlightValue.setValue(n);const s=localStorage.getItem(this.toolBoxUnderlineKey);s&&this.underlineValue.setValue(s)}ngOnInit(){}ngOnDestroy(){this.unsubscriber$.next()}highlight(t){if(!t)return;localStorage.setItem(this.toolBoxHighlightKey,t);const e=this.renderer.createElement("div");e.innerHTML=this.value,this.recursiveTextNodeFunc(e,e=>{const i=e.parentNode;if("MARK"===i.tagName)return;const n=[...Array(e.nodeValue.length)].map((t,e)=>e).filter(i=>e.nodeValue.substring(i).startsWith(t));if(0===n.length)return;const s=[];let o=0;for(const r of n){const i=this.renderer.createElement("mark");i.appendChild(this.renderer.createText(t));const n=e.nodeValue.substring(o,r);o=r+t.length,s.push(this.renderer.createText(n),i)}s.push(this.renderer.createText(e.nodeValue.substring(o))),this.renderer.removeChild(i,e),s.forEach(t=>{this.renderer.appendChild(i,t)})}),this.value=e.innerHTML,this.valueChange.emit(this.value)}removeOldHighlighted(){const t=this.renderer.createElement("div");t.innerHTML=this.value,this.removeStyles(t,["highlight"]),this.value=t.innerHTML,this.valueChange.emit(this.value)}underlineSentenceByWord(t){t&&(this.loadingStateChange.emit(!0),this.scriptService.tokenize(t).pipe(Object(Hi.a)(e=>{const i=e[0].basic_form;return"*"===i?(alert(`\u300c${t}\u300d\u306e\u8868\u5c64\u7cfb\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3002`),Object(u.a)(void 0)):(localStorage.setItem(this.toolBoxUnderlineKey,i),Object(zi.a)(this.underlineSentence([i])))}),Object(G.a)(this.unsubscriber$)).subscribe(t=>{t&&(this.value=t,this.valueChange.emit(this.value)),this.loadingStateChange.emit(!1)},t=>{this.loadingStateChange.emit(!1)}))}bulkUnderline(){const t=this.keywordValues.value;Object(g.a)(t.map(t=>this.scriptService.tokenize(t))).pipe(Object(_.a)(t=>t.map(t=>t[0].basic_form).filter(t=>"*"!==t)),Object(Hi.a)(t=>Object(zi.a)(this.underlineSentence(t))),Object(G.a)(this.unsubscriber$)).subscribe(t=>{t&&(this.value=t,this.valueChange.emit(this.value)),this.loadingStateChange.emit(!1)},t=>{this.loadingStateChange.emit(!1)})}removeAllUnderlinedSentences(){const t=this.renderer.createElement("div");t.innerHTML=this.value,this.removeStyles(t,["underline"]),this.value=t.innerHTML,this.valueChange.emit(this.value)}removeStrike(){const t=this.renderer.createElement("div");t.innerHTML=this.value,this.removeStyles(t,["strike"]),this.value=t.innerHTML,this.valueChange.emit(this.value)}reformat(){if(!confirm("highlight\u3084underline\u306a\u3069\u306e\u30b9\u30bf\u30a4\u30eb\u304c\u5916\u308c\u307e\u3059\u304c\u5b9f\u884c\u3057\u307e\u3059\u304b\uff1f"))return;const t=this.renderer.createElement("div");t.innerHTML=this.value,this.removeStyles(t);const e=[...t.childNodes].map(t=>this.scriptService.splitTextByNewline(t.textContent)).join("\n").replace(/(?<!\n)\n{2}(?!\n)/g,"\n");this.setText.emit(e)}textLint(){const t=this.getText();t&&(this.loadingStateChange.emit(!0),this.scriptService.textLint(t).pipe(Object(G.a)(this.unsubscriber$)).subscribe(()=>{this.loadingStateChange.emit(!1)},t=>this.loadingStateChange.emit(!1)))}getText(){const t=this.renderer.createElement("div");return t.innerHTML=this.value,[...t.childNodes].map(t=>t.textContent).join("\n")}recursiveTextNodeFunc(t,e){"#text"===t.nodeName?e(t):t.childNodes.forEach(t=>{this.recursiveTextNodeFunc(t,e)})}underlineSentence(t){const e="text--underlined",i=this.renderer.createElement("div");return i.innerHTML=this.value,Promise.all([...i.childNodes].map(i=>"SPAN"===i.nodeType&&i.className===e?Promise.resolve():this.scriptService.tokenize(i.textContent).pipe(Object(_.a)(e=>{var i;return null===(i=e.find(e=>t.includes(e.basic_form)))||void 0===i?void 0:i.surface_form})).toPromise().then(t=>{if(!t)return;const n=this.renderer.createElement("span");this.renderer.addClass(n,e),this.renderer.addClass(n,"text__tooltip-relative");const s=this.renderer.createElement("span");this.renderer.addClass(s,"text__tooltip-absolute"),this.renderer.appendChild(s,this.renderer.createText(t)),this.renderer.appendChild(n,s),i.childNodes.length>0&&i.childNodes.forEach(t=>{this.renderer.appendChild(n,t)}),this.renderer.appendChild(i,n)}))).then(()=>i.innerHTML)}removeStyles(t,e){e||(e=["highlight","underline","strike"]),e.forEach(e=>{switch(e){case"highlight":t.querySelectorAll("mark").forEach(t=>{t.replaceWith(...t.childNodes)});case"underline":const e="text--underlined";t.querySelectorAll(".text__tooltip-absolute").forEach(t=>{t.remove()}),t.querySelectorAll(`.${e}`).forEach(t=>{t.replaceWith(...t.childNodes)});case"strike":t.querySelectorAll("strike").forEach(t=>{t.replaceWith(...t.childNodes)})}})}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.F),o.Mb(o.h),o.Mb(Ai))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-tool-box"]],inputs:{value:"value"},outputs:{valueChange:"valueChange",setText:"setText",toggleSubtitleButton:"toggleSubtitleButton",loadingStateChange:"loadingStateChange"},decls:40,vars:8,consts:[[1,"wrapper"],[1,"row"],[1,"row__item","highlight"],[3,"ngSubmit"],["matInput","",3,"formControl"],["type","reset","mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"row__item","underline"],[1,"row__item"],["multiple","",3,"formControl"],[1,"keywords"],[3,"value",4,"ngFor","ngForOf"],["mat-button","","color","primary",3,"click"],["color","primary",1,"row__item",3,"checked","toggleChange"],["type","reset","mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"value"]],template:function(t,e){1&t&&(o.Sb(0,"div",0),o.Sb(1,"div",1),o.Sb(2,"div",2),o.Sb(3,"form",3),o.Zb("ngSubmit",function(){return e.highlight(e.highlightValue.value)}),o.Sb(4,"mat-form-field"),o.Sb(5,"mat-label"),o.zc(6,"Hight light"),o.Rb(),o.Nb(7,"input",4),o.xc(8,Ni,3,0,"button",5),o.Rb(),o.Rb(),o.Rb(),o.Sb(9,"div",6),o.Sb(10,"form",3),o.Zb("ngSubmit",function(){return e.underlineSentenceByWord(e.underlineValue.value)}),o.Sb(11,"mat-form-field"),o.Sb(12,"mat-label"),o.zc(13,"Underline by base form"),o.Rb(),o.Nb(14,"input",4),o.xc(15,$i,3,0,"button",5),o.Rb(),o.Rb(),o.Rb(),o.Sb(16,"div",7),o.Sb(17,"mat-form-field"),o.Sb(18,"mat-label"),o.zc(19,"Keywords"),o.Rb(),o.Sb(20,"mat-select",8),o.Sb(21,"mat-select-trigger"),o.Sb(22,"span",9),o.zc(23),o.Rb(),o.Rb(),o.xc(24,Vi,2,2,"mat-option",10),o.Rb(),o.Rb(),o.Sb(25,"button",11),o.Zb("click",function(){return e.bulkUnderline()}),o.zc(26," bulk underline "),o.Rb(),o.Rb(),o.Sb(27,"mat-slide-toggle",12),o.Zb("toggleChange",function(){return e.toggleSubtitleButton.emit()}),o.zc(28," subtitle line "),o.Rb(),o.Rb(),o.Sb(29,"div",1),o.Sb(30,"button",11),o.Zb("click",function(){return e.reformat()}),o.zc(31,"reformat"),o.Rb(),o.Sb(32,"button",11),o.Zb("click",function(){return e.textLint()}),o.zc(33,"textLint"),o.Rb(),o.Sb(34,"button",11),o.Zb("click",function(){return e.removeOldHighlighted()}),o.zc(35," remove highlight "),o.Rb(),o.Sb(36,"button",11),o.Zb("click",function(){return e.removeAllUnderlinedSentences()}),o.zc(37," remove underline "),o.Rb(),o.Sb(38,"button",11),o.Zb("click",function(){return e.removeStrike()}),o.zc(39," remove strike "),o.Rb(),o.Rb(),o.Rb()),2&t&&(o.Bb(7),o.jc("formControl",e.highlightValue),o.Bb(1),o.jc("ngIf",e.highlightValue.value),o.Bb(6),o.jc("formControl",e.underlineValue),o.Bb(1),o.jc("ngIf",e.underlineValue.value),o.Bb(5),o.jc("formControl",e.keywordValues),o.Bb(3),o.Ac(null==e.keywordValues.value?null:e.keywordValues.value.length),o.Bb(1),o.jc("ngForOf",e.keys),o.Bb(3),o.jc("checked",!0))},directives:[r.v,r.o,r.p,tt.c,tt.f,N.b,r.c,r.n,r.f,s.l,ge,ue,s.k,a.b,je,tt.h,z,c.i],styles:[".wrapper[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #000;padding:5px}.wrapper[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;align-items:center}.wrapper[_ngcontent-%COMP%]   .row__item[_ngcontent-%COMP%]{margin-right:20px}.wrapper[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{margin-left:5px}"],changeDetection:0}),t})();var qi=i("2Vo4"),Zi=i("EY2u"),Gi=i("zx2A");class Ui{constructor(t,e){this.notifier=t,this.source=e}call(t,e){return e.subscribe(new Ki(t,this.notifier,this.source))}}class Ki extends Gi.b{constructor(t,e,i){super(t),this.notifier=e,this.source=i}error(t){if(!this.isStopped){let i=this.errors,n=this.retries,s=this.retriesSubscription;if(n)this.errors=void 0,this.retriesSubscription=void 0;else{i=new q.b;try{const{notifier:t}=this;n=t(i)}catch(e){return super.error(e)}s=Object(Gi.c)(n,new Gi.a(this))}this._unsubscribeAndRecycle(),this.errors=i,this.retries=n,this.retriesSubscription=s,i.next(t)}}_unsubscribe(){const{errors:t,retriesSubscription:e}=this;t&&(t.unsubscribe(),this.errors=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:t}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)}}var Yi=i("7o/Q"),Xi=i("HDdC"),Ji=i("l7GE"),Qi=i("ZUHj");class tn{constructor(t){this.delayDurationSelector=t}call(t,e){return e.subscribe(new en(t,this.delayDurationSelector))}}class en extends Ji.a{constructor(t,e){super(t),this.delayDurationSelector=e,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(t,e,i,n,s){this.destination.next(t),this.removeSubscription(s),this.tryComplete()}notifyError(t,e){this._error(t)}notifyComplete(t){const e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()}_next(t){const e=this.index++;try{const i=this.delayDurationSelector(t,e);i&&this.tryDelay(i,t)}catch(i){this.destination.error(i)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(t){t.unsubscribe();const e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue}tryDelay(t,e){const i=Object(Qi.a)(this,t,e);i&&!i.closed&&(this.destination.add(i),this.delayNotifierSubscriptions.push(i))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}const nn={url:"",deserializer:t=>JSON.parse(t.data),serializer:t=>JSON.stringify(t)};class sn extends q.a{constructor(t,e){if(super(),t instanceof Xi.a)this.destination=e,this.source=t;else{const e=this._config=Object.assign({},nn);if(this._output=new q.b,"string"==typeof t)e.url=t;else for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);if(!e.WebSocketCtor&&WebSocket)e.WebSocketCtor=WebSocket;else if(!e.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new Ei.a}}lift(t){const e=new sn(this._config,this.destination);return e.operator=t,e.source=this,e}_resetState(){this._socket=null,this.source||(this.destination=new Ei.a),this._output=new q.b}multiplex(t,e,i){const n=this;return new Xi.a(s=>{try{n.next(t())}catch(r){s.error(r)}const o=n.subscribe(t=>{try{i(t)&&s.next(t)}catch(r){s.error(r)}},t=>s.error(t),()=>s.complete());return()=>{try{n.next(e())}catch(r){s.error(r)}o.unsubscribe()}})}_connectSocket(){const{WebSocketCtor:t,protocol:e,url:i,binaryType:n}=this._config,s=this._output;let o=null;try{o=e?new t(i,e):new t(i),this._socket=o,n&&(this._socket.binaryType=n)}catch(a){return void s.error(a)}const r=new m.a(()=>{this._socket=null,o&&1===o.readyState&&o.close()});o.onopen=t=>{const{_socket:e}=this;if(!e)return o.close(),void this._resetState();const{openObserver:i}=this._config;i&&i.next(t);const n=this.destination;this.destination=Yi.a.create(e=>{if(1===o.readyState)try{const{serializer:t}=this._config;o.send(t(e))}catch(t){this.destination.error(t)}},t=>{const{closingObserver:e}=this._config;e&&e.next(void 0),t&&t.code?o.close(t.code,t.reason):s.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),this._resetState()},()=>{const{closingObserver:t}=this._config;t&&t.next(void 0),o.close(),this._resetState()}),n&&n instanceof Ei.a&&r.add(n.subscribe(this.destination))},o.onerror=t=>{this._resetState(),s.error(t)},o.onclose=t=>{this._resetState();const{closeObserver:e}=this._config;e&&e.next(t),t.wasClean?s.complete():s.error(t)},o.onmessage=t=>{try{const{deserializer:e}=this._config;s.next(e(t))}catch(e){s.error(e)}}}_subscribe(t){const{source:e}=this;return e?e.subscribe(t):(this._socket||this._connectSocket(),this._output.subscribe(t),t.add(()=>{const{_socket:t}=this;0===this._output.observers.length&&(t&&1===t.readyState&&t.close(),this._resetState())}),t)}unsubscribe(){const{_socket:t}=this;t&&1===t.readyState&&t.close(),this._resetState(),super.unsubscribe()}}var on=i("AytR");let rn=(()=>{class t{constructor(){this.messageSubject$=new q.b,this.reconnectTries=5,this.message$=this.messageSubject$.asObservable(),this.connect()}connect(){this.socket$&&!this.socket$.closed||(this.socket$=this.getNewWebSocket(),this.socket$.pipe(this.reconnect,Object(f.a)({error:t=>console.log(t)}),Object(v.a)(t=>Zi.a)).subscribe(this.messageSubject$))}sendMessage(t,e){this.socket$.next({type:t,message:e})}messageReceiver(t){return this.message$.pipe(Object(Y.a)(e=>e.type===t),Object(_.a)(t=>t.message))}close(){this.socket$.complete()}getNewWebSocket(){let t;return t=on.a.production?`wss://${window.location.host}/__ws`:`ws://${window.location.host}/__ws`,new sn({url:t})}reconnect(t){return t.pipe((e=t=>{return t.pipe(Object(f.a)(t=>{console.log("try to reconnect",t)}),(e=t=>Object(Ae.a)(500),t=>t.lift(new tn(e))));var e},t=>t.lift(new Ui(e,t))));var e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var an=i("ej43");let ln=(()=>{class t{constructor(t){this.http=t}getMessages(t){return this.http.get(`api/v1/messages?scriptId=${t}`)}postMessage(t){return this.http.post("api/v1/messages",t)}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(S.b))},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const cn=["form"],hn=["chatMessage"];function dn(t,e){1&t&&o.Ob(0)}const bn=function(t){return{message:t}};function un(t,e){if(1&t&&(o.Qb(0),o.xc(1,dn,1,0,"ng-container",11),o.Pb()),2&t){const t=e.$implicit;o.dc(2);const i=o.oc(9);o.Bb(1),o.jc("ngTemplateOutlet",i)("ngTemplateOutletContext",o.lc(2,bn,t))}}function pn(t,e){if(1&t&&(o.Qb(0),o.Sb(1,"div",8,9),o.xc(3,un,2,4,"ng-container",10),o.Rb(),o.Pb()),2&t){const t=o.dc();o.Bb(3),o.jc("ngForOf",t.messages)}}function gn(t,e){1&t&&o.Ob(0)}function mn(t,e){if(1&t&&(o.Qb(0),o.xc(1,gn,1,0,"ng-container",11),o.Pb()),2&t){const t=e.$implicit;o.dc(3);const i=o.oc(9);o.Bb(1),o.jc("ngTemplateOutlet",i)("ngTemplateOutletContext",o.lc(2,bn,t))}}function fn(t,e){if(1&t&&(o.Sb(0,"div",19),o.xc(1,mn,2,4,"ng-container",10),o.Rb()),2&t){const t=o.dc().message;o.Bb(1),o.jc("ngForOf",t.children)}}function _n(t,e){if(1&t&&(o.Sb(0,"div",12),o.Sb(1,"div",13),o.Sb(2,"p",14),o.zc(3),o.Rb(),o.Rb(),o.Sb(4,"div",15),o.Sb(5,"span",16),o.zc(6),o.Rb(),o.Sb(7,"span",17),o.zc(8),o.ec(9,"date"),o.Rb(),o.Rb(),o.Rb(),o.xc(10,fn,2,1,"div",18)),2&t){const t=e.message;o.Bb(3),o.Ac(t.body),o.Bb(3),o.Ac(t.author.name),o.Bb(2),o.Ac(o.gc(9,4,t.created,"short")),o.Bb(2),o.jc("ngIf",!(null==t.children||!t.children.length))}}function vn(t,e){1&t&&o.zc(0,"loading")}let xn=(()=>{class t{constructor(t,e,i,n,s){this.wsService=t,this.cd=e,this.authenticationService=i,this.route=n,this.chatService=s,this.messages=[],this.disabled=!1,this.chatForm=new r.h({body:new r.e({value:"",disabled:this.disabled},[r.u.required,r.u.minLength(1)])}),this.unsubscriber$=new q.b,this.initialized$=new qi.a(!1);const o=this.route.snapshot.paramMap.get("id");"new"===o?this.disabled=!0:(this.scriptId=parseInt(o,10),this.chatService.getMessages(this.scriptId).pipe(Object(G.a)(this.unsubscriber$)).subscribe(t=>{this.messages=t,this.initialized$.next(!0),this.cd.markForCheck()},t=>{this.initialized$.next(!0),console.error(t)})),this.wsService.connect(),this.wsService.messageReceiver(this.wsMessageType).pipe(Object(G.a)(this.unsubscriber$)).subscribe(t=>{this.messages.push(t),this.scrollToMessageBottom(),this.cd.markForCheck()},t=>{console.log("error",t)},()=>{console.log("complete")})}get wsMessageType(){return`chat-${this.scriptId}`}ngOnInit(){}ngAfterViewInit(){Object(Pe.a)(this.formElement.nativeElement,"keydown").pipe(Object(Y.a)(t=>t.ctrlKey&&13===t.keyCode),Object(G.a)(this.unsubscriber$)).subscribe(t=>{this.submit()}),this.scrollToMessageBottom()}ngOnDestroy(){this.unsubscriber$.next()}submit(){if(!this.chatForm.valid||this.disabled)return;const t={body:this.chatForm.get("body").value,author:this.authenticationService.user,created:new Date,scriptId:this.scriptId};this.messages.push(t),this.wsService.sendMessage(this.wsMessageType,t),this.chatService.postMessage(t).pipe(Object(G.a)(this.unsubscriber$)).subscribe(),this.chatForm.reset(),this.cd.markForCheck()}scrollToMessageBottom(){}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(rn),o.Mb(o.h),o.Mb(an.a),o.Mb(Oi.a),o.Mb(ln))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-chat"]],viewQuery:function(t,e){if(1&t&&(o.Cc(cn,1),o.Cc(hn,1)),2&t){let t;o.nc(t=o.ac())&&(e.formElement=t.first),o.nc(t=o.ac())&&(e.chatMessageElement=t.first)}},decls:12,vars:7,consts:[[1,"wrapper"],[4,"ngIf","ngIfElse"],[1,"chat-form",3,"formGroup","ngSubmit"],["form",""],["formControlName","body",1,"chat-form__textarea",3,"disabled"],["type","submit",1,"chat-form__submit",3,"disabled"],["messageTemplate",""],["loadingTmp",""],[1,"chat-messages"],["chatMessage",""],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"chat-messages__body"],[1,"chat-messages__text"],[1,"chat-messages__text-p"],[1,"chat-messages__sub"],[1,"chat-messages__sub-author"],[1,"chat-messages__sub-created"],["class","chat-messages__replay",4,"ngIf"],[1,"chat-messages__replay"]],template:function(t,e){if(1&t&&(o.Sb(0,"div",0),o.xc(1,pn,4,1,"ng-container",1),o.ec(2,"async"),o.Sb(3,"form",2,3),o.Zb("ngSubmit",function(){return e.submit()}),o.Nb(5,"textarea",4),o.Sb(6,"button",5),o.zc(7," submit "),o.Rb(),o.Rb(),o.Rb(),o.xc(8,_n,11,7,"ng-template",null,6,o.yc),o.xc(10,vn,1,0,"ng-template",null,7,o.yc)),2&t){const t=o.oc(11);o.Bb(1),o.jc("ngIf",o.fc(2,5,e.initialized$))("ngIfElse",t),o.Bb(2),o.jc("formGroup",e.chatForm),o.Bb(2),o.jc("disabled",e.disabled),o.Bb(1),o.jc("disabled",e.disabled)}},directives:[s.l,r.v,r.o,r.i,r.c,r.n,r.g,s.k,s.p],pipes:[s.b,s.e],styles:[".wrapper[_ngcontent-%COMP%]{position:relative}.wrapper[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]{max-height:700px;margin:10px 0;overflow:auto;padding-bottom:100px}.wrapper[_ngcontent-%COMP%]   .chat-messages__text[_ngcontent-%COMP%]{padding:10px;background-color:#fff;border-radius:30px}.wrapper[_ngcontent-%COMP%]   .chat-messages__text-p[_ngcontent-%COMP%]{word-break:break-all}.wrapper[_ngcontent-%COMP%]   .chat-messages__sub[_ngcontent-%COMP%]{padding:10px;text-align:right}.wrapper[_ngcontent-%COMP%]   .chat-messages__sub-author[_ngcontent-%COMP%]{margin-right:20px}.wrapper[_ngcontent-%COMP%]   .chat-messages__sub-created[_ngcontent-%COMP%]{margin-right:5px}.wrapper[_ngcontent-%COMP%]   .chat-messages__replay[_ngcontent-%COMP%]{padding-left:20px}.wrapper[_ngcontent-%COMP%]   .chat-form[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;height:80px;width:100%;display:flex}.wrapper[_ngcontent-%COMP%]   .chat-form__textarea[_ngcontent-%COMP%]{height:100%;width:80%}.wrapper[_ngcontent-%COMP%]   .chat-form__submit[_ngcontent-%COMP%]{height:100%}"],changeDetection:0}),t})();function Cn(t,e){if(1&t&&(o.Sb(0,"li"),o.zc(1),o.Rb()),2&t){const t=e.$implicit;o.Bb(1),o.Ac(t)}}function yn(t,e){if(1&t&&(o.Qb(0),o.zc(1),o.Sb(2,"ul"),o.xc(3,Cn,2,1,"li",11),o.Rb(),o.Pb()),2&t){const t=o.dc(2);o.Bb(1),o.Bc(" ","count: "+t.textLintErrors.length," "),o.Bb(2),o.jc("ngForOf",t.textLintErrors)}}function Sn(t,e){1&t&&(o.Sb(0,"p"),o.zc(1,"no text lint errors"),o.Rb())}function wn(t,e){if(1&t&&(o.Qb(0),o.xc(1,yn,4,2,"ng-container",8),o.xc(2,Sn,2,0,"ng-template",null,10,o.yc),o.Pb()),2&t){const t=o.oc(3),e=o.dc();o.Bb(1),o.jc("ngIf",e.textLintErrors.length>0)("ngIfElse",t)}}function kn(t,e){1&t&&(o.Sb(0,"p"),o.zc(1,"try text lint"),o.Rb())}let On=(()=>{class t{constructor(t,e,i,n){this.scriptService=t,this.sanitizer=e,this.renderer=i,this.cd=n,this.unsubscriber$=new q.b,this.scriptService.lintResult$.pipe(Object(G.a)(this.unsubscriber$)).subscribe(t=>{const e=this.formatTextLintResult(t);this.textLintErrors=e,this.cd.markForCheck()})}ngOnInit(){}ngOnDestroy(){this.unsubscriber$.next()}collapse(t){this.renderer.setStyle(t,"display","none"===t.style.display?"block":"none"),this.cd.markForCheck()}formatTextLintResult(t){return t[0].messages.map(t=>`${t.line} - ${t.message}`)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(Ai),o.Mb(w.b),o.Mb(o.F),o.Mb(o.h))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-console"]],decls:13,vars:4,consts:[[1,"wrapper"],["mat-stretch-tabs",""],["label","chat"],["label","textlint"],[1,"textlint-result"],["type","button",1,"textlint-result__collapsible-button",3,"click"],[1,"textlint-result__collapsible-content"],["content",""],[4,"ngIf","ngIfElse"],["tryTextLint",""],["NoTextLintErrors",""],[4,"ngFor","ngForOf"]],template:function(t,e){if(1&t){const t=o.Tb();o.Sb(0,"div",0),o.Sb(1,"mat-tab-group",1),o.Sb(2,"mat-tab",2),o.Nb(3,"app-chat"),o.Rb(),o.Sb(4,"mat-tab",3),o.Sb(5,"div",4),o.Sb(6,"button",5),o.Zb("click",function(){o.qc(t);const i=o.oc(9);return e.collapse(i)}),o.zc(7," Show TextLint result "),o.Rb(),o.Sb(8,"div",6,7),o.xc(10,wn,4,2,"ng-container",8),o.xc(11,kn,2,0,"ng-template",null,9,o.yc),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb()}if(2&t){const t=o.oc(12);o.Bb(8),o.uc("display","block"),o.Bb(2),o.jc("ngIf",!!e.textLintErrors)("ngIfElse",t)}},directives:[mi,oi,xn,s.l,s.k],styles:[".wrapper[_ngcontent-%COMP%]{background-color:#dcdde0;border:1px solid #000;padding:5px}.wrapper[_ngcontent-%COMP%]   .textlint-result__collapsible-button[_ngcontent-%COMP%]{background-color:#777;color:#fff;cursor:pointer;padding:18px;width:100%;border:none;text-align:left;outline:none;font-size:15px}.wrapper[_ngcontent-%COMP%]   .textlint-result__collapsible-button[_ngcontent-%COMP%]:hover{background-color:#555}.wrapper[_ngcontent-%COMP%]   .textlint-result__collapsible-content[_ngcontent-%COMP%]{padding:0 18px;overflow:hidden;background-color:#f1f1f1}.wrapper[_ngcontent-%COMP%]   .textlint-result[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-bottom:5px}"],changeDetection:0}),t})();function In(t,e){1&t&&(o.Sb(0,"mat-error"),o.zc(1," Title is "),o.Sb(2,"strong"),o.zc(3,"required"),o.Rb(),o.Rb())}function Rn(t,e){1&t&&(o.Sb(0,"div",18),o.Nb(1,"div",19),o.Rb())}function Mn(t,e){1&t&&(o.Sb(0,"div",20),o.zc(1,"loading"),o.Rb())}const jn=[{path:"",component:ji},{path:":id",component:(()=>{class t{constructor(t,e,i,n,s){this.route=t,this.router=e,this.cd=i,this.scriptService=n,this.renderer=s,this.script=new Ti,this.blurred=!1,this.focused=!1,this.showSubtitleLine=!0,this.loading=!1,this.titleFormControl=new r.e("",[r.u.required]),this.consolePositionTop=0,this.unsubscriber$=new q.b;const o=this.route.snapshot.paramMap.get("id");"new"===o?(this.initialScript=new Ti,this.cd.markForCheck()):this.scriptService.getScript(parseInt(o,10)).pipe(Object(G.a)(this.unsubscriber$)).subscribe(t=>{this.script=t,this.initialScript=this.script.clone(),this.titleFormControl.setValue(this.script.title),this.cd.markForCheck()})}ngOnInit(){}ngOnDestroy(){this.unsubscriber$.next()}ngAfterViewInit(){this.renderer.listen(this.editableDirective.elementRef.nativeElement,"mouseup",t=>this.balloonComponent.selectionChange(t)),this.consolePositionTop=document.querySelector(".tool-box__wrapper").getBoundingClientRect().height}canDeactivate(){return!!this.script.isEqual(this.initialScript)||window.confirm("Are you sure you want to leave this page before you save this script")}setTextContent(t){this.editableDirective.clearContent(),this.editableDirective.insertTextContent(t)}save(){this.script.title=this.titleFormControl.value,this.script.innerHtml&&this.script.title&&(this.script.id?this.scriptService.putScript(this.script).pipe(Object(G.a)(this.unsubscriber$)).subscribe(t=>{this.script=t,this.initialScript=t,this.cd.markForCheck()}):this.scriptService.postScript(this.script).pipe(Object(G.a)(this.unsubscriber$)).subscribe(t=>{this.script=t,this.initialScript=t,this.cd.markForCheck(),this.router.navigate([`../${t.id}`],{relativeTo:this.route})}))}copy2Clipboard(){const t=this.renderer.createElement("div");t.innerHTML=this.script.innerHtml;const e=[...t.childNodes].map(t=>t.textContent).join("\n"),i=document.createElement("textarea");i.value=e,document.body.appendChild(i),i.select(),i.setSelectionRange(0,9999),document.execCommand("copy"),document.body.removeChild(i)}deleteScript(){window.confirm("Are you sure you want to delete")&&this.scriptService.deleteScript(this.script.id).pipe(Object(G.a)(this.unsubscriber$)).subscribe(()=>{this.router.navigate(["../"],{relativeTo:this.route})})}scrollTop(){window.scrollTo(0,0)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(Oi.a),o.Mb(Oi.b),o.Mb(o.h),o.Mb(Ai),o.Mb(o.F))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-script"]],viewQuery:function(t,e){if(1&t&&(o.Cc(Bi,1),o.Cc(Fi,1)),2&t){let t;o.nc(t=o.ac())&&(e.editableDirective=t.first),o.nc(t=o.ac())&&(e.balloonComponent=t.first)}},decls:35,vars:9,consts:[[1,"wrapper"],[1,"tool"],[1,"tool__item"],[1,"form__item"],["appearance","fill"],["matInput","",3,"formControl"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-button","","color","primary",3,"click"],[1,"tool-box__wrapper"],[3,"value","valueChange","setText","toggleSubtitleButton","loadingStateChange"],[1,"editor"],["class","editor__subtitle",4,"ngIf"],["appEditable","","placeholder","input text here",1,"editor__main",3,"ngModel","ngModelChange"],[1,"console__wrapper"],["class","loading-modal",4,"ngIf"],[1,"scroller"],[1,"editor__subtitle"],[1,"editor__subtitle-line"],[1,"loading-modal"]],template:function(t,e){1&t&&(o.Sb(0,"div",0),o.Sb(1,"div",1),o.Sb(2,"form",2),o.Sb(3,"div",3),o.Sb(4,"mat-form-field",4),o.Sb(5,"mat-label"),o.zc(6,"Title"),o.Rb(),o.Nb(7,"input",5),o.xc(8,In,4,0,"mat-error",6),o.Rb(),o.Rb(),o.Sb(9,"div",3),o.Sb(10,"button",7),o.Zb("click",function(){return e.save()}),o.zc(11,"save"),o.Rb(),o.Rb(),o.Rb(),o.Sb(12,"div",2),o.Sb(13,"button",8),o.Zb("click",function(){return e.deleteScript()}),o.zc(14," delete "),o.Rb(),o.Rb(),o.Sb(15,"div",2),o.Sb(16,"button",9),o.Zb("click",function(){return e.copy2Clipboard()}),o.zc(17," copy to clipboard "),o.Rb(),o.Rb(),o.Sb(18,"div",2),o.Sb(19,"button",9),o.Zb("click",function(){return null==e.editableDirective?null:e.editableDirective.undo()}),o.zc(20," undo "),o.Rb(),o.Sb(21,"button",9),o.Zb("click",function(){return null==e.editableDirective?null:e.editableDirective.redo()}),o.zc(22," redo "),o.Rb(),o.Rb(),o.Rb(),o.Sb(23,"div",10),o.Sb(24,"app-tool-box",11),o.Zb("valueChange",function(t){return e.script.innerHtml=t})("setText",function(t){return e.setTextContent(t)})("toggleSubtitleButton",function(){return e.showSubtitleLine=!e.showSubtitleLine})("loadingStateChange",function(t){return e.loading=t}),o.Rb(),o.Rb(),o.Sb(25,"div",12),o.xc(26,Rn,2,0,"div",13),o.Sb(27,"div",14),o.Zb("ngModelChange",function(t){return e.script.innerHtml=t}),o.Rb(),o.Sb(28,"div",15),o.Nb(29,"app-console"),o.Rb(),o.Rb(),o.Nb(30,"app-balloon"),o.xc(31,Mn,2,0,"div",16),o.Rb(),o.Sb(32,"div",17),o.Sb(33,"button",7),o.Zb("click",function(){return e.scrollTop()}),o.zc(34,"\u2191"),o.Rb(),o.Rb()),2&t&&(o.Bb(7),o.jc("formControl",e.titleFormControl),o.Bb(1),o.jc("ngIf",e.titleFormControl.hasError("required")),o.Bb(5),o.jc("disabled",!e.script.id),o.Bb(11),o.jc("value",e.script.innerHtml),o.Bb(2),o.jc("ngIf",e.showSubtitleLine),o.Bb(1),o.jc("ngModel",e.script.innerHtml),o.Bb(1),o.uc("top",e.consolePositionTop,"px"),o.Bb(3),o.jc("ngIf",e.loading))},directives:[r.v,r.o,r.p,tt.c,tt.f,N.b,r.c,r.n,r.f,s.l,a.b,Wi,Bi,r.q,On,Fi,tt.b],styles:[".tool[_ngcontent-%COMP%]{display:flex}.tool__item[_ngcontent-%COMP%]{margin-right:20px}form[_ngcontent-%COMP%]{display:flex}form[_ngcontent-%COMP%]   .form__item[_ngcontent-%COMP%]{margin-right:20px}.wrapper[_ngcontent-%COMP%]{margin:10px}.tool-box__wrapper[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10}.editor[_ngcontent-%COMP%]{display:flex}.editor__subtitle[_ngcontent-%COMP%]{align-self:stretch;position:relative}.editor__subtitle-line[_ngcontent-%COMP%]{position:absolute;left:450px;width:3px;height:100%;background-color:rgba(255,0,0,.2)}  .editor__main{min-height:600px;flex-basis:80%;border:1px solid #000;white-space:pre-line;outline:0 solid transparent;padding:10px 16px;counter-reset:line}  .editor__main:empty:before{content:attr(placeholder);pointer-events:none;display:block;opacity:1%}  .editor__main div:before{counter-increment:line;content:counter(line);display:inline-block;border-right:1px solid #ddd;margin-right:.5em;color:#888}  .editor__main .text--highlighted{background-color:red;opacity:1}  .editor__main .text--underlined{border-bottom:2px solid orange}  .editor__main .text__tooltip-relative{position:relative}  .editor__main .text__tooltip-relative:hover .text__tooltip-absolute{display:inline-block}  .editor__main .text__tooltip-absolute{position:absolute;display:none;padding:2px;background-color:orange;left:20px;bottom:20px}.editor[_ngcontent-%COMP%]   .console__wrapper[_ngcontent-%COMP%]{flex-basis:20%;height:100%;position:sticky}.loading-modal[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:150px;color:red;opacity:.7}.scroller[_ngcontent-%COMP%]{position:fixed;bottom:10px;left:10px}"],changeDetection:0}),t})(),canDeactivate:[Ii]}];let Tn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({imports:[[Oi.d.forChild(jn)],Oi.d]}),t})(),En=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({providers:[{provide:jt,useValue:Mt}],imports:[[s.c,$t,r.s,r.j,tt.e,N.c,S.c,Tn,a.c,wi,ki.a,Ee,H,fe]]}),t})()}}]);