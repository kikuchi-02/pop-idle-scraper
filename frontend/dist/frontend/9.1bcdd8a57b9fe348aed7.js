(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"7JkJ":function(t,e,n){"use strict";n.r(e),n.d(e,"ScriptsModule",function(){return di});var i=n("+rOU"),r=n("ofXK"),o=n("fXoL"),s=n("3Pt+"),a=n("bTqV"),c=n("R1ws"),l=n("FKr1");let h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({imports:[[l.g],l.g]}),t})();var u=n("0IaG"),d=n("NFeN"),p=n("qFsG"),b=n("8LU1"),f=n("u47x"),g=n("0EQZ");let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({imports:[[l.m,l.g],l.g]}),t})();var _=n("XNiG"),v=n("VRyK"),y=n("quSY"),x=n("LRne"),C=n("1G5W"),S=n("Kj3r"),w=n("/uUt"),O=n("IzEk"),k=n("pLZG"),M=n("FtGj"),j=n("rDax"),R=n("iadO"),A=n("kmnG"),E=n("cH1L");const I=function(t){return{active:t}};function P(t,e){if(1&t){const t=o.Tb();o.Sb(0,"button",2),o.Zb("click",function(){o.qc(t);const n=e.$implicit;return o.dc().select(n)}),o.Rb()}if(2&t){const t=e.$implicit,n=o.dc();o.uc("background-color",t),o.jc("ngClass",o.lc(3,I,n.selectedColor===t))}}function T(t,e){if(1&t){const t=o.Tb();o.Sb(0,"button",2),o.Zb("click",function(){o.qc(t);const n=e.$implicit;return o.dc().select(n)}),o.Rb()}if(2&t){const t=e.$implicit,n=o.dc();o.uc("background-color",t),o.jc("ngClass",o.lc(3,I,n.selectedColor===t))}}const L=["button"],D=/^\s+/,F=/\s+$/,B=Math.round,z=(Math,Math,Math,/[^0-9]/g),N=255,q=["#ffffff","#ffff00","#ff00ff","#ff0000","#c0c0c0","#808080","#808000","#800080","#800000","#00ffff","#00ff00","#008080","#008000","#0000ff","#000080","#000000"];function $(t,e,n){const i=t.getImageData(e,n,1,1).data;return{r:i[0],g:i[1],b:i[2]}}function H(t){return 1==t.length?"0"+t:""+t}function V(t){return G(t)/255}function G(t){return parseInt(t,16)}function Z(t,e,n,i){var r=[H(B(t).toString(16)),H(B(e).toString(16)),H(B(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}const W="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",U="[\\s|\\(]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?",K="[\\s|\\(]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?",Y={CSS_UNIT:new RegExp(W),rgb:new RegExp("rgb"+U),rgba:new RegExp("rgba"+K),hsl:new RegExp("hsl"+U),hsla:new RegExp("hsla"+K),hsv:new RegExp("hsv"+U),hsva:new RegExp("hsva"+K),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function X(t){let e;return t=t.replace(D,"").replace(F,"").toLowerCase(),(e=Y.rgb.exec(t))?{r:e[1],g:e[2],b:e[3],a:1}:(e=Y.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=Y.hex8.exec(t))?{r:G(e[1]),g:G(e[2]),b:G(e[3]),a:V(e[4])}:(e=Y.hex6.exec(t))?{r:G(e[1]),g:G(e[2]),b:G(e[3]),a:1}:(e=Y.hex4.exec(t))?{r:G(e[1]+""+e[1]),g:G(e[2]+""+e[2]),b:G(e[3]+""+e[3]),a:V(e[4]+""+e[4])}:(e=Y.hex3.exec(t))?{r:G(e[1]+""+e[1]),g:G(e[2]+""+e[2]),b:G(e[3]+""+e[3]),a:1}:null}class Q{constructor(t,e,n,i){this.r=t>N?N:t,this.g=e>N?N:e,this.b=n>N?N:n,this.a=null!=i?i>1?1:i:1,this.roundA=Math.round(this.a),this.hex=Z(this.r,this.g,this.b),this.rgba=this.toRgba()}toHex(t){return Z(this.r,this.g,this.b,t)}toRgba(){return`rgba(${this.r},${this.g},${this.b},${this.a})`}toHexString(t){return"#"+this.toHex(t)}toRgbString(){return 1===this.a?"rgb("+Math.round(this.r)+", "+Math.round(this.g)+", "+Math.round(this.b)+")":"rgba("+Math.round(this.r)+", "+Math.round(this.g)+", "+Math.round(this.b)+", "+this.roundA+")"}toHex8(t){return function(t,e,n,i,r){var o,s=[H(B(t).toString(16)),H(B(e).toString(16)),H(B(n).toString(16)),H((o=i,Math.round(255*parseFloat(o)).toString(16)))];return r&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}(this.r,this.g,this.b,this.a,t)}toHex8String(t){return"#"+this.toHex8(t)}toString(t){let e;return t||!(this.a<1&&this.a>=0)||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t?("rgb"===t&&(e=this.toRgbString()),"hex"!==t&&"hex6"!==t||(e=this.toHexString()),"hex3"===t&&(e=this.toHexString(!0)),"hex4"===t&&(e=this.toHex8String(!0)),"hex8"===t&&(e=this.toHex8String()),e||this.toHexString()):this.toRgbString()}}let J=(()=>{class t{constructor(){this.colorChanged=new o.n}ngOnInit(){}handleColorChanged(t){this.colorChanged.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-palette"]],hostAttrs:[1,"ngx-mat-color-palette"],inputs:{color:"color"},outputs:{colorChanged:"colorChanged"},decls:2,vars:2,consts:[[3,"color","colorChanged"]],template:function(t,e){1&t&&(o.Sb(0,"ngx-mat-color-canvas",0),o.Zb("colorChanged",function(t){return e.handleColorChanged(t)}),o.Rb(),o.Sb(1,"ngx-mat-color-collection",0),o.Zb("colorChanged",function(t){return e.handleColorChanged(t)}),o.Rb()),2&t&&(o.jc("color",e.color),o.Bb(1),o.jc("color",e.color))},directives:function(){return[et,nt]},styles:[".ngx-mat-color-palette .actions{display:flex;margin-top:10px}.ngx-mat-color-palette .actions .left{display:flex;flex-direction:column;margin-right:15px}.ngx-mat-color-palette .actions .left .preview{flex:2 1 auto;margin-bottom:10px}.ngx-mat-color-palette .actions .right{display:flex;flex-direction:column;width:40px}"],encapsulation:2}),t})(),tt=(()=>{class t{constructor(t,e){this.zone=t,this.colorChanged=new o.n,this.x=0,this.y=0,this.drag=!1,this._destroyed=new _.a,this.elementId=e}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}ngAfterViewInit(){this.canvas=document.getElementById(this.elementId),this.ctx=this.canvas.getContext("2d"),this.width=this.canvas.width,this.height=this.canvas.height,this.draw()}draw(){this.ctx.clearRect(0,0,this.width,this.height),this.ctx.rect(0,0,this.width,this.height),this.fillGradient(),0!=this.y&&this.redrawIndicator(this.x,this.y)}onMousedown(t){this.drag=!0,this.changeColor(t),this.zone.runOutsideAngular(()=>{this.canvas.addEventListener("mousemove",this.onMousemove.bind(this))})}onMousemove(t){this.drag&&this.zone.run(()=>{this.changeColor(t)})}onMouseup(t){this.drag=!1,this.canvas.removeEventListener("mousemove",this.onMousemove)}emitChange(t){this.colorChanged.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.A),o.Mb(String))},t.\u0275dir=o.Hb({type:t,inputs:{color:"color"},outputs:{colorChanged:"colorChanged"}}),t})(),et=(()=>{class t extends tt{constructor(t){super(t,"color-block"),this.zone=t,this._resetBaseColor=!0,this.formGroup=new s.h({r:new s.e(null,[s.u.required]),g:new s.e(null,[s.u.required]),b:new s.e(null,[s.u.required]),a:new s.e(null,[s.u.required]),hex:new s.e(null,[s.u.required,s.u.pattern(Y.hex6)])})}get rCtrl(){return this.formGroup.get("r")}get gCtrl(){return this.formGroup.get("g")}get bCtrl(){return this.formGroup.get("b")}get aCtrl(){return this.formGroup.get("a")}get hexCtrl(){return this.formGroup.get("hex")}ngOnInit(){Object(v.a)(this.rCtrl.valueChanges,this.gCtrl.valueChanges,this.bCtrl.valueChanges,this.aCtrl.valueChanges).pipe(Object(C.a)(this._destroyed),Object(S.a)(400)).subscribe(t=>{const e=new Q(Number(this.rCtrl.value),Number(this.gCtrl.value),Number(this.bCtrl.value),Number(this.aCtrl.value));this.emitChange(e)}),this.hexCtrl.valueChanges.pipe(Object(C.a)(this._destroyed),Object(S.a)(400),Object(w.a)()).subscribe(t=>{const e=X(t);if(null!=e){const t=new Q(e.r,e.g,e.b,e.a);this.emitChange(t)}})}ngOnChanges(t){t.color&&t.color.currentValue&&(this.updateForm(t.color.currentValue),this._resetBaseColor&&(this._baseColor=t.color.currentValue),this._resetBaseColor=!0,t.color.firstChange||this.draw())}updateForm(t){const e={emitEvent:!1};this.rCtrl.setValue(t.r,e),this.gCtrl.setValue(t.g,e),this.bCtrl.setValue(t.b,e),this.aCtrl.setValue(t.a,e),this.hexCtrl.setValue(t.hex,e)}redrawIndicator(t,e){this.ctx.beginPath(),this.ctx.strokeStyle="white",this.ctx.arc(t,e,5,0,2*Math.PI,!1),this.ctx.stroke(),this.ctx.closePath()}fillGradient(){this.ctx.fillStyle=this._baseColor?this._baseColor.rgba:"rgba(255,255,255,1)",this.ctx.fillRect(0,0,this.width,this.height);const t=this.ctx.createLinearGradient(0,0,this.width,0);t.addColorStop(0,"rgba(255,255,255,1)"),t.addColorStop(1,"rgba(255,255,255,0)"),this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.width,this.height);const e=this.ctx.createLinearGradient(0,0,0,this.height);e.addColorStop(0,"rgba(0,0,0,0)"),e.addColorStop(1,"rgba(0,0,0,1)"),this.ctx.fillStyle=e,this.ctx.fillRect(0,0,this.width,this.height)}onSliderColorChanged(t){this._baseColor=t,this.color=t,this.fillGradient(),this.emitChange(t)}changeColor(t){this.x=t.offsetX,this.y=t.offsetY,this._resetBaseColor=!1,this.draw();const{r:e,g:n,b:i}=$(this.ctx,t.offsetX,t.offsetY);this.emitChange(new Q(e,n,i))}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.A))},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-canvas"]],hostAttrs:[1,"ngx-mat-color-canvas"],features:[o.yb,o.zb],decls:30,vars:3,consts:[[3,"formGroup"],[1,"color-canvas-row"],[1,"zone-canvas"],["id","color-block","width","200","height","200",1,"zone-block",3,"mousedown","mouseup"],[3,"colorChanged"],[1,"zone-inputs"],["matInput","","formControlName","r","ngxMatNumericColorInput","","autocomplete","off"],["matInput","","formControlName","g","ngxMatNumericColorInput","","autocomplete","off"],["matInput","","formControlName","b","ngxMatNumericColorInput","","autocomplete","off"],["mat-mini-fab","",1,"preview"],["matPrefix","",1,"symbol"],["matInput","","formControlName","hex","autocomplete","off"],["matInput","","formControlName","a","type","number","min","0","max","1","step","0.1","autocomplete","off"]],template:function(t,e){1&t&&(o.Sb(0,"form",0),o.Sb(1,"div",1),o.Sb(2,"div",2),o.Sb(3,"canvas",3),o.Zb("mousedown",function(t){return e.onMousedown(t)})("mouseup",function(t){return e.onMouseup(t)}),o.Rb(),o.Sb(4,"ngx-mat-color-slider",4),o.Zb("colorChanged",function(t){return e.onSliderColorChanged(t)}),o.Rb(),o.Rb(),o.Sb(5,"div",5),o.Sb(6,"mat-form-field"),o.Sb(7,"mat-label"),o.zc(8,"R"),o.Rb(),o.Nb(9,"input",6),o.Rb(),o.Sb(10,"mat-form-field"),o.Sb(11,"mat-label"),o.zc(12,"G"),o.Rb(),o.Nb(13,"input",7),o.Rb(),o.Sb(14,"mat-form-field"),o.Sb(15,"mat-label"),o.zc(16,"B"),o.Rb(),o.Nb(17,"input",8),o.Rb(),o.Rb(),o.Rb(),o.Sb(18,"div",1),o.Nb(19,"button",9),o.Sb(20,"mat-form-field"),o.Sb(21,"mat-label"),o.zc(22,"HEX6"),o.Rb(),o.Sb(23,"mat-label",10),o.zc(24,"#\xa0"),o.Rb(),o.Nb(25,"input",11),o.Rb(),o.Sb(26,"mat-form-field"),o.Sb(27,"mat-label"),o.zc(28,"A"),o.Rb(),o.Nb(29,"input",12),o.Rb(),o.Rb(),o.Rb()),2&t&&(o.jc("formGroup",e.formGroup),o.Bb(19),o.uc("background-color",(null==e.color?null:e.color.rgba)||"transparent"))},directives:function(){return[s.v,s.o,s.i,it,A.c,A.f,p.b,s.c,s.n,s.g,mt,a.b,A.g,s.r]},styles:[".ngx-mat-color-canvas .color-canvas-row{display:flex}.ngx-mat-color-canvas .color-canvas-row:first-of-type{height:200px;margin-bottom:12px}.ngx-mat-color-canvas .color-canvas-row:first-of-type .card{height:180px}.ngx-mat-color-canvas .color-canvas-row canvas:hover{cursor:crosshair}.ngx-mat-color-canvas .color-canvas-row .zone{display:flex}.ngx-mat-color-canvas .color-canvas-row .zone-canvas{height:200px}.ngx-mat-color-canvas .color-canvas-row .zone-canvas .zone-block{border:1px solid rgba(0,0,0,.12)}.ngx-mat-color-canvas .color-canvas-row .zone-strip{flex-basis:auto;margin-left:10px}.ngx-mat-color-canvas .color-canvas-row .zone-inputs{display:flex;flex-direction:column;height:200px;margin-left:16px;margin-top:12px;width:40px}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2){display:flex}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2) .preview{height:40px;min-height:40px;min-width:40px;width:40px}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2) .mat-form-field{margin-left:16px}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2) .mat-form-field:first-of-type{width:170px}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2) .mat-form-field:first-of-type .symbol{color:rgba(0,0,0,.54);font-weight:700}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2) .mat-form-field:last-of-type{width:40px}.ngx-mat-color-canvas .mat-form-field-label{font-weight:700}"],encapsulation:2}),t})(),nt=(()=>{class t{constructor(){this.colorChanged=new o.n,this.colors1=q.slice(0,8),this.colors2=q.slice(8,16)}set color(t){t&&(this.selectedColor=t.toHexString())}ngOnInit(){}select(t){this.selectedColor=t;const{r:e,g:n,b:i,a:r}=X(t);this.colorChanged.emit(new Q(e,n,i,r))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-collection"]],hostAttrs:[1,"ngx-mat-color-collection"],inputs:{color:"color"},outputs:{colorChanged:"colorChanged"},decls:4,vars:2,consts:[[1,"color-collection-row"],["mat-mini-fab","","class","btn-color",3,"background-color","ngClass","click",4,"ngFor","ngForOf"],["mat-mini-fab","",1,"btn-color",3,"ngClass","click"]],template:function(t,e){1&t&&(o.Sb(0,"div",0),o.xc(1,P,1,5,"button",1),o.Rb(),o.Sb(2,"div",0),o.xc(3,T,1,5,"button",1),o.Rb()),2&t&&(o.Bb(1),o.jc("ngForOf",e.colors1),o.Bb(2),o.jc("ngForOf",e.colors2))},directives:[r.k,a.b,r.j],styles:[".ngx-mat-color-collection .btn-color{box-shadow:none;height:20px;margin-right:11px;opacity:.3;width:20px}.ngx-mat-color-collection .btn-color.active{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12);opacity:1}"],encapsulation:2}),t})(),it=(()=>{class t extends tt{constructor(t){super(t,"color-strip"),this.zone=t}ngOnInit(){}ngAfterViewInit(){super.ngAfterViewInit()}fillGradient(){const t=this.ctx.createLinearGradient(0,0,0,this.height);t.addColorStop(0,"rgba(255, 0, 0, 1)"),t.addColorStop(.17,"rgba(255, 255, 0, 1)"),t.addColorStop(.34,"rgba(0, 255, 0, 1)"),t.addColorStop(.51,"rgba(0, 255, 255, 1)"),t.addColorStop(.68,"rgba(0, 0, 255, 1)"),t.addColorStop(.85,"rgba(255, 0, 255, 1)"),t.addColorStop(1,"rgba(255, 0, 0, 1)"),this.ctx.fillStyle=t,this.ctx.fill()}redrawIndicator(t,e){this.ctx.beginPath(),this.ctx.strokeStyle="white",this.ctx.lineWidth=2,this.ctx.arc(7.5,e,7.5,0,2*Math.PI,!1),this.ctx.stroke(),this.ctx.closePath()}changeColor(t){this.x=t.offsetX,this.y=t.offsetY,this.draw();const{r:e,g:n,b:i}=$(this.ctx,t.offsetX,t.offsetY);this.emitChange(new Q(e,n,i))}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.A))},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-slider"]],features:[o.yb],decls:1,vars:0,consts:[["id","color-strip","width","15","height","200",1,"zone-strip",3,"mousedown","mouseup"]],template:function(t,e){1&t&&(o.Sb(0,"canvas",0),o.Zb("mousedown",function(t){return e.onMousedown(t)})("mouseup",function(t){return e.onMouseup(t)}),o.Rb())},styles:[""]}),t})(),rt=(()=>{class t{constructor(){}sameColor(t,e){return null==t&&null==e||null!=t&&null!=e&&t.rgba===e.rgba}format(t,e){return t.toString(e)}parse(t){const e=X(t);return e?new Q(e.r,e.g,e.b,e.a):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac}),t})();const ot={display:{colorInput:"hex"}},st=new o.r("mat-color-formats"),at=new o.r("ngx-mat-colorpicker-scroll-strategy"),ct={provide:at,deps:[j.c],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},lt=Object(l.q)(class{constructor(t){this._elementRef=t}});let ht=(()=>{class t extends lt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l))},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-picker-content"]],viewQuery:function(t,e){if(1&t&&o.Dc(J,1),2&t){let t;o.nc(t=o.ac())&&(e._palette=t.first)}},hostAttrs:[1,"ngx-mat-colorpicker-content"],hostVars:3,hostBindings:function(t,e){2&t&&(o.wc("@transformPanel","enter"),o.Eb("ngx-mat-colorpicker-content-touch",e.picker.touchUi))},inputs:{color:"color"},exportAs:["ngxMatColorPickerContent"],features:[o.yb],decls:1,vars:1,consts:[[3,"color","colorChanged"]],template:function(t,e){1&t&&(o.Sb(0,"ngx-mat-color-palette",0),o.Zb("colorChanged",function(t){return e.picker.select(t)}),o.Rb()),2&t&&o.jc("color",e.picker._selected)},directives:[J],styles:[".ngx-mat-colorpicker-content{background-color:#fff;border-radius:4px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);color:rgba(0,0,0,.87);display:block;padding:16px}.ngx-mat-colorpicker-content .ngx-mat-color-palette{height:354px;width:296px}.ngx-mat-colorpicker-content-touch{display:block;max-height:80vh;overflow:auto}.ngx-mat-colorpicker-content-touch .ngx-mat-color-palette{max-height:788px;max-width:750px;min-height:312px;min-width:250px}@media (orientation:landscape){.mat-colorpicker-content-touch .ngx-mat-color-palette{height:80vh;width:64vh}}@media (orientation:portrait){.mat-colorpicker-content-touch .ngx-mat-color-palette{height:100vw;width:80vw}}"],encapsulation:2,data:{animation:[R.e.transformPanel,R.e.fadeInCalendar]},changeDetection:0}),t})(),ut=(()=>{class t{constructor(t,e,n,i,r,s,a,c){this._dialog=t,this._overlay=e,this._zone=n,this._adapter=i,this._dir=r,this._document=a,this._viewContainerRef=c,this.openedStream=new o.n,this.closedStream=new o.n,this._touchUi=!1,this._opened=!1,this._defaultColor="primary",this._validSelected=null,this._disabledChange=new _.a,this._focusedElementBeforeOpen=null,this._inputSubscription=y.a.EMPTY,this._selectedChanged=new _.a,this._scrollStrategy=s}get disabled(){return void 0===this._disabled&&this._pickerInput?this._pickerInput.disabled:!!this._disabled}set disabled(t){const e=Object(b.b)(t);e!==this._disabled&&(this._disabled=e,this._disabledChange.next(e))}get touchUi(){return this._touchUi}set touchUi(t){this._touchUi=Object(b.b)(t)}get opened(){return this._opened}set opened(t){t?this.open():this.close()}get defaultColor(){return this._defaultColor}set defaultColor(t){this._defaultColor=t}get color(){return this._color||(this._pickerInput?this._pickerInput.getThemePalette():void 0)}set color(t){this._color=t}get _selected(){return this._validSelected}set _selected(t){this._validSelected=t}ngOnInit(){}ngOnDestroy(){this.close(),this._inputSubscription.unsubscribe(),this._disabledChange.complete(),this._popupRef&&(this._popupRef.dispose(),this._popupComponentRef=null)}select(t){let e=this._selected;this._selected=t,this._adapter.sameColor(e,this._selected)||this._selectedChanged.next(t)}registerInput(t){if(this._pickerInput)throw Error("A ColorPicker can only be associated with a single input.");this._pickerInput=t,this._inputSubscription=this._pickerInput._valueChange.subscribe(t=>this._selected=t)}open(){if(!this._opened&&!this.disabled){if(!this._pickerInput)throw Error("Attempted to open an ColorPicker with no associated input.");this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this.touchUi?this._openAsDialog():this._openAsPopup(),this._opened=!0,this.openedStream.emit()}}_openAsDialog(){this._dialogRef&&this._dialogRef.close(),this._dialogRef=this._dialog.open(ht,{direction:this._dir?this._dir.value:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"ngx-mat-colorpicker-dialog"}),this._dialogRef.afterClosed().subscribe(()=>this.close()),this._dialogRef.componentInstance.picker=this,this._setColor()}_openAsPopup(){this._portal||(this._portal=new i.d(ht,this._viewContainerRef)),this._popupRef||this._createPopup(),this._popupRef.hasAttached()||(this._popupComponentRef=this._popupRef.attach(this._portal),this._popupComponentRef.instance.picker=this,this._setColor(),this._zone.onStable.asObservable().pipe(Object(O.a)(1)).subscribe(()=>{this._popupRef.updatePosition()}))}_createPopup(){const t=new j.d({positionStrategy:this._createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:"mat-overlay-transparent-backdrop",direction:this._dir,scrollStrategy:this._scrollStrategy(),panelClass:"mat-colorpicker-popup"});this._popupRef=this._overlay.create(t),this._popupRef.overlayElement.setAttribute("role","dialog"),Object(v.a)(this._popupRef.backdropClick(),this._popupRef.detachments(),this._popupRef.keydownEvents().pipe(Object(k.a)(t=>t.keyCode===M.f||this._pickerInput&&t.altKey&&t.keyCode===M.o))).subscribe(t=>{t&&t.preventDefault(),this.close()})}close(){if(!this._opened)return;this._popupRef&&this._popupRef.hasAttached()&&this._popupRef.detach(),this._dialogRef&&(this._dialogRef.close(),this._dialogRef=null),this._portal&&this._portal.isAttached&&this._portal.detach();const t=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(t)):t()}_setColor(){const t=this.color;this._popupComponentRef&&(this._popupComponentRef.instance.color=t),this._dialogRef&&(this._dialogRef.componentInstance.color=t)}_createPopupPositionStrategy(){return this._overlay.position().flexibleConnectedTo(this._pickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".ngx-mat-colorpicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition().withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}])}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(u.a),o.Mb(j.c),o.Mb(o.A),o.Mb(rt),o.Mb(E.b,8),o.Mb(at),o.Mb(r.d,8),o.Mb(o.Q))},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-picker"]],inputs:{disabled:"disabled",touchUi:"touchUi",opened:"opened",defaultColor:"defaultColor",color:"color"},outputs:{openedStream:"opened",closedStream:"closed"},exportAs:["ngxMatColorPicker"],decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0}),t})();class dt{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}const pt={provide:s.l,useExisting:Object(o.U)(()=>ft),multi:!0},bt={provide:s.k,useExisting:Object(o.U)(()=>ft),multi:!0};let ft=(()=>{class t{constructor(t,e,n,i){if(this._elementRef=t,this._formField=e,this._colorFormats=n,this._adapter=i,this.colorChange=new o.n,this.colorInput=new o.n,this._disabledChange=new o.n,this._valueChange=new o.n,this._onTouched=()=>{},this._cvaOnChange=()=>{},this._validatorOnChange=()=>{},this._pickerSubscription=y.a.EMPTY,this._validator=s.u.compose([]),this._lastValueValid=!1,!this._colorFormats)throw Error("NgxMatColorPicker: No provider found for MAT_COLOR_FORMATS. You must define MAT_COLOR_FORMATS in your module")}set ngxMatColorPicker(t){t&&(this._picker=t,this._picker.registerInput(this),this._pickerSubscription.unsubscribe(),this._pickerSubscription=this._picker._selectedChanged.subscribe(t=>{this.value=t,this._cvaOnChange(t),this._onTouched(),this.colorInput.emit(new dt(this,this._elementRef.nativeElement)),this.colorChange.emit(new dt(this,this._elementRef.nativeElement))}))}get disabled(){return!!this._disabled}set disabled(t){const e=Object(b.b)(t),n=this._elementRef.nativeElement;this._disabled!==e&&(this._disabled=e,this._disabledChange.emit(e)),e&&n.blur&&n.blur()}get value(){return this._value}set value(t){const e=this.value;this._value=t,this._formatValue(t),this._adapter.sameColor(e,t)||this._valueChange.emit(t)}getThemePalette(){return this._formField?this._formField.color:void 0}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}getPopupConnectionElementRef(){return this.getConnectedOverlayOrigin()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}ngOnInit(){}ngOnDestroy(){this._pickerSubscription.unsubscribe(),this._valueChange.complete(),this._disabledChange.complete()}writeValue(t){this.value=t}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onChange(){this.colorChange.emit(new dt(this,this._elementRef.nativeElement))}_onKeydown(t){this._picker&&t.altKey&&t.keyCode===M.c&&!this._elementRef.nativeElement.readOnly&&(this._picker.open(),t.preventDefault())}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=t?this._adapter.format(t,this._colorFormats.display.colorInput):""}_onInput(t){const e=this._lastValueValid,n=this._adapter.parse(t);this._adapter.sameColor(n,this._value)?e!==this._lastValueValid&&this._validatorOnChange():(this._value=n,this._cvaOnChange(n),this._valueChange.emit(n),this.colorInput.emit(new dt(this,this._elementRef.nativeElement)))}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(A.c,8),o.Mb(st,8),o.Mb(rt))},t.\u0275dir=o.Hb({type:t,selectors:[["input","ngxMatColorPicker",""]],hostVars:3,hostBindings:function(t,e){1&t&&o.Zb("input",function(t){return e._onInput(t.target.value)})("change",function(){return e._onChange()})("blur",function(){return e._onBlur()})("keydown",function(t){return e._onKeydown(t)}),2&t&&(o.Vb("disabled",e.disabled),o.Cb("aria-haspopup",e._picker?"dialog":null)("aria-owns",(null==e._picker?null:e._picker.opened)&&e._picker.id||null))},inputs:{ngxMatColorPicker:"ngxMatColorPicker",value:"value",disabled:"disabled"},outputs:{colorChange:"colorChange",colorInput:"colorInput"},exportAs:["ngxMatColorPickerInput"],features:[o.Ab([pt,bt,{provide:p.a,useExisting:t}])]}),t})(),gt=(()=>{class t{constructor(t){this._cd=t,this._stateChanges=y.a.EMPTY}get disabled(){if(null==this._disabled&&this.picker)return this.picker.disabled}set disabled(t){this._disabled=t}ngOnInit(){}ngOnChanges(t){t.picker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}open(t){this.picker&&!this.disabled&&(this.picker.open(),t.stopPropagation())}_watchStateChanges(){const t=this.picker?this.picker._disabledChange:Object(x.a)(),e=this.picker&&this.picker._pickerInput?this.picker._pickerInput._disabledChange:Object(x.a)(),n=this.picker?Object(v.a)(this.picker.openedStream,this.picker.closedStream):Object(x.a)();this._stateChanges.unsubscribe(),this._stateChanges=Object(v.a)(t,e,n).subscribe(()=>this._cd.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.h))},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-toggle"]],viewQuery:function(t,e){if(1&t&&o.Dc(L,1),2&t){let t;o.nc(t=o.ac())&&(e._button=t.first)}},hostAttrs:[1,"ngx-mat-color-toggle"],hostVars:7,hostBindings:function(t,e){1&t&&o.Zb("focus",function(){return e._button.focus()}),2&t&&(o.Cb("tabindex",-1),o.Eb("ngx-mat-color-toggle-active",e.picker&&e.picker.opened)("mat-accent",e.picker&&"accent"===e.picker.color)("mat-warn",e.picker&&"warn"===e.picker.color))},inputs:{disabled:"disabled",picker:["for","picker"],tabIndex:"tabIndex"},exportAs:["ngxMatColorPickerToggle"],features:[o.zb],decls:4,vars:5,consts:[["mat-icon-button","","type","button",3,"disabled","click"],["button",""]],template:function(t,e){1&t&&(o.Sb(0,"button",0,1),o.Zb("click",function(t){return e.open(t)}),o.Sb(2,"mat-icon"),o.zc(3,"palette"),o.Rb(),o.Rb()),2&t&&(o.jc("disabled",e.disabled),o.Cb("aria-haspopup",e.picker?"dialog":null)("tabindex",e.disabled?-1:e.tabIndex),o.Bb(2),o.uc("color",null==e.picker||null==e.picker._selected?null:e.picker._selected.rgba))},directives:[a.b,d.a],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .ngx-mat-color-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .ngx-mat-color-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .ngx-mat-color-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .ngx-mat-color-toggle-default-icon{display:block;height:1.5em;width:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .ngx-mat-color-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .ngx-mat-color-toggle-default-icon{margin:auto}"],encapsulation:2}),t})(),mt=(()=>{class t{constructor(){}onInput(t){this._formatInput(t.target)}_formatInput(t){let e=Number(t.value.replace(z,""));e=isNaN(e)?0:e,t.value=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.Hb({type:t,selectors:[["","ngxMatNumericColorInput",""]],hostBindings:function(t,e){1&t&&o.Zb("input",function(t){return e.onInput(t)})}}),t})(),_t=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({providers:[rt,ct],imports:[[r.c,p.c,a.c,h,m,s.j,s.s,u.b,i.f,d.b]]}),t})();var vt=n("7EHt"),yt=n("vxfF"),xt=n("NXyV"),Ct=n("JX91"),St=n("eIep"),wt=n("lJxs"),Ot=n("R0Ic");const kt=["trigger"],Mt=["panel"];function jt(t,e){if(1&t&&(o.Sb(0,"span",8),o.zc(1),o.Rb()),2&t){const t=o.dc();o.Bb(1),o.Ac(t.placeholder)}}function Rt(t,e){if(1&t&&(o.Sb(0,"span",12),o.zc(1),o.Rb()),2&t){const t=o.dc(2);o.Bb(1),o.Ac(t.triggerValue)}}function At(t,e){1&t&&o.hc(0,0,["*ngSwitchCase","true"])}function Et(t,e){if(1&t&&(o.Sb(0,"span",9),o.xc(1,Rt,2,1,"span",10),o.xc(2,At,1,0,"ng-content",11),o.Rb()),2&t){const t=o.dc();o.jc("ngSwitch",!!t.customTrigger),o.Bb(2),o.jc("ngSwitchCase",!0)}}function It(t,e){if(1&t){const t=o.Tb();o.Sb(0,"div",13),o.Sb(1,"div",14,15),o.Zb("@transformPanel.done",function(e){return o.qc(t),o.dc()._panelDoneAnimatingStream.next(e.toState)})("keydown",function(e){return o.qc(t),o.dc()._handleKeydown(e)}),o.hc(3,1),o.Rb(),o.Rb()}if(2&t){const t=o.dc();o.jc("@transformPanelWrap",void 0),o.Bb(1),o.Db("mat-select-panel ",t._getPanelTheme(),""),o.uc("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),o.jc("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),o.Cb("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const Pt=[[["mat-select-trigger"]],"*"],Tt=["mat-select-trigger","*"],Lt={transformPanelWrap:Object(Ot.l)("transformPanelWrap",[Object(Ot.k)("* => void",Object(Ot.g)("@transformPanel",[Object(Ot.f)()],{optional:!0}))]),transformPanel:Object(Ot.l)("transformPanel",[Object(Ot.i)("void",Object(Ot.j)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Object(Ot.i)("showing",Object(Ot.j)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Object(Ot.i)("showing-multiple",Object(Ot.j)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Object(Ot.k)("void => *",Object(Ot.e)("120ms cubic-bezier(0, 0, 0.2, 1)")),Object(Ot.k)("* => void",Object(Ot.e)("100ms 25ms linear",Object(Ot.j)({opacity:0})))])};let Dt=0;const Ft=256,Bt=new o.r("mat-select-scroll-strategy"),zt=new o.r("MAT_SELECT_CONFIG"),Nt={provide:Bt,deps:[j.c],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class qt{constructor(t,e){this.source=t,this.value=e}}class $t{constructor(t,e,n,i,r){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}}const Ht=Object(l.r)(Object(l.u)(Object(l.s)(Object(l.t)($t)))),Vt=new o.r("MatSelectTrigger");let Gt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.Hb({type:t,selectors:[["mat-select-trigger"]],features:[o.Ab([{provide:Vt,useExisting:t}])]}),t})(),Zt=(()=>{class t extends Ht{constructor(t,e,n,i,r,s,a,c,l,h,u,d,p,b){var f,g,m;super(r,i,a,c,h),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=s,this._parentFormField=l,this.ngControl=h,this._liveAnnouncer=p,this._defaultOptions=b,this._panelOpen=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+Dt++,this._triggerAriaLabelledBy=null,this._destroy=new _.a,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Dt++,this._panelDoneAnimatingStream=new _.a,this._overlayPanelClass=(null===(f=this._defaultOptions)||void 0===f?void 0:f.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(m=null===(g=this._defaultOptions)||void 0===g?void 0:g.disableOptionCentering)&&void 0!==m&&m,this.ariaLabel="",this.optionSelectionChanges=Object(xt.a)(()=>{const t=this.options;return t?t.changes.pipe(Object(Ct.a)(t),Object(St.a)(()=>Object(v.a)(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.pipe(Object(O.a)(1),Object(St.a)(()=>this.optionSelectionChanges))}),this.openedChange=new o.n,this._openedStream=this.openedChange.pipe(Object(k.a)(t=>t),Object(wt.a)(()=>{})),this._closedStream=this.openedChange.pipe(Object(k.a)(t=>!t),Object(wt.a)(()=>{})),this.selectionChange=new o.n,this.valueChange=new o.n,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==b?void 0:b.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=b.typeaheadDebounceInterval),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(u)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=Object(b.b)(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Object(b.b)(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Object(b.b)(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Object(b.e)(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new g.b(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Object(w.a)(),Object(C.a)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Object(C.a)(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Object(Ct.a)(null),Object(C.a)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?e.setAttribute("aria-labelledby",t):e.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=e===M.c||e===M.o||e===M.h||e===M.l,i=e===M.e||e===M.m,r=this._keyManager;if(!r.isTyping()&&i&&!Object(M.r)(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const e=this.selected;r.onKeydown(t);const n=this.selected;n&&e!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,i=n===M.c||n===M.o,r=e.isTyping();if(i&&t.altKey)t.preventDefault(),this.close();else if(r||n!==M.e&&n!==M.m||!e.activeItem||Object(M.r)(t))if(!r&&this._multiple&&n===M.a&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&i&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Object(O.a)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(t=>this._selectValue(t)),this._sortValues();else{const e=this._selectValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{if(this._selectionModel.isSelected(e))return!1;try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new f.b(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Object(C.a)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Object(C.a)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Object(v.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Object(C.a)(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object(v.a)(...this.options.map(t=>t._stateChanges)).pipe(Object(C.a)(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(this._getChangeEvent(e)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let n=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(yt.d),o.Mb(o.h),o.Mb(o.A),o.Mb(l.b),o.Mb(o.l),o.Mb(E.b,8),o.Mb(s.p,8),o.Mb(s.i,8),o.Mb(A.a,8),o.Mb(s.m,10),o.Xb("tabindex"),o.Mb(Bt),o.Mb(f.j),o.Mb(zt,8))},t.\u0275dir=o.Hb({type:t,viewQuery:function(t,e){if(1&t&&(o.Dc(kt,1),o.Dc(Mt,1),o.Dc(j.a,1)),2&t){let t;o.nc(t=o.ac())&&(e.trigger=t.first),o.nc(t=o.ac())&&(e.panel=t.first),o.nc(t=o.ac())&&(e.overlayDir=t.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.yb,o.zb]}),t})(),Wt=(()=>{class t extends Zt{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,e,n){const i=this._getItemHeight();return Math.min(Math.max(0,i*t-e+i/2),n)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Object(C.a)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Object(O.a)(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const e=Object(l.o)(t,this.options,this.optionGroups),n=this._getItemHeight();this.panel.nativeElement.scrollTop=Object(l.p)((t+e)*n,n,this.panel.nativeElement.scrollTop,Ft)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new qt(this,t)}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),i=this.multiple?56:32;let r;if(this.multiple)r=40;else if(this.disableOptionCentering)r=16;else{let t=this._selectionModel.selected[0]||this.options.first;r=t&&t.group?32:16}n||(r*=-1);const o=0-(t.left+r-(n?i:0)),s=t.right+r-e.width+(n?0:i);o>0?r+=o+8:s>0&&(r-=s+8),this.overlayDir.offsetX=Math.round(r),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const i=this._getItemHeight(),r=(i-this._triggerRect.height)/2,o=Math.floor(Ft/i);let s;return this.disableOptionCentering?0:(s=0===this._scrollTop?t*i:this._scrollTop===n?(t-(this._getItemCount()-o))*i+(i-(this._getItemCount()*i-Ft)%i):e-i/2,Math.round(-1*s-r))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-8,r=n.height-this._triggerRect.bottom-8,o=Math.abs(this._offsetY),s=Math.min(this._getItemCount()*e,Ft)-o-this._triggerRect.height;s>r?this._adjustPanelUp(s,r):o>i?this._adjustPanelDown(o,i,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const i=Math.round(t-e);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,Ft),i=e*t-n;let r;r=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),r+=Object(l.o)(r,this.options,this.optionGroups);const o=n/2;this._scrollTop=this._calculateOverlayScroll(r,o,i),this._offsetY=this._calculateOverlayOffsetY(r,o,i),this._checkOverlayWithinViewport(i)}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(e){return Ut(e||t)},t.\u0275cmp=o.Gb({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){if(1&t&&(o.Fb(n,Vt,1),o.Fb(n,l.i,1),o.Fb(n,l.d,1)),2&t){let t;o.nc(t=o.ac())&&(e.customTrigger=t.first),o.nc(t=o.ac())&&(e.options=t),o.nc(t=o.ac())&&(e.optionGroups=t)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,e){1&t&&o.Zb("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e._onFocus()})("blur",function(){return e._onBlur()}),2&t&&(o.Cb("id",e.id)("tabindex",e.tabIndex)("aria-controls",e.panelOpen?e.id+"-panel":null)("aria-expanded",e.panelOpen)("aria-label",e.ariaLabel||null)("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),o.Eb("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty)("mat-select-multiple",e.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[o.Ab([{provide:A.d,useExisting:t},{provide:l.e,useExisting:t}]),o.yb],ngContentSelectors:Tt,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(o.ic(Pt),o.Sb(0,"div",0,1),o.Zb("click",function(){return e.toggle()}),o.Sb(3,"div",2),o.xc(4,jt,2,1,"span",3),o.xc(5,Et,3,2,"span",4),o.Rb(),o.Sb(6,"div",5),o.Nb(7,"div",6),o.Rb(),o.Rb(),o.xc(8,It,4,14,"ng-template",7),o.Zb("backdropClick",function(){return e.close()})("attach",function(){return e._onAttached()})("detach",function(){return e.close()})),2&t){const t=o.oc(1);o.Cb("aria-owns",e.panelOpen?e.id+"-panel":null),o.Bb(3),o.jc("ngSwitch",e.empty),o.Cb("id",e._valueId),o.Bb(1),o.jc("ngSwitchCase",!0),o.Bb(1),o.jc("ngSwitchCase",!1),o.Bb(3),o.jc("cdkConnectedOverlayPanelClass",e._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[j.b,r.m,r.n,j.a,r.o,r.j],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px}\n'],encapsulation:2,data:{animation:[Lt.transformPanelWrap,Lt.transformPanel]},changeDetection:0}),t})();const Ut=o.Ub(Wt);let Kt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({providers:[Nt],imports:[[r.c,j.f,l.j,l.g],yt.a,A.e,l.j,l.g]}),t})();var Yt=n("1jcm"),Xt=n("GU7r"),Qt=n("xgIS"),Jt=n("PqYM"),te=n("nLfN");function ee(t,e){1&t&&o.hc(0)}const ne=["*"];function ie(t,e){}const re=function(t){return{animationDuration:t}},oe=function(t,e){return{value:t,params:e}},se=["tabBodyWrapper"],ae=["tabHeader"];function ce(t,e){}function le(t,e){if(1&t&&o.xc(0,ce,0,0,"ng-template",9),2&t){const t=o.dc().$implicit;o.jc("cdkPortalOutlet",t.templateLabel)}}function he(t,e){if(1&t&&o.zc(0),2&t){const t=o.dc().$implicit;o.Ac(t.textLabel)}}function ue(t,e){if(1&t){const t=o.Tb();o.Sb(0,"div",6),o.Zb("click",function(){o.qc(t);const n=e.$implicit,i=e.index,r=o.dc(),s=o.oc(1);return r._handleClick(n,s,i)})("cdkFocusChange",function(n){o.qc(t);const i=e.index;return o.dc()._tabFocusChanged(n,i)}),o.Sb(1,"div",7),o.xc(2,le,1,1,"ng-template",8),o.xc(3,he,1,1,"ng-template",8),o.Rb(),o.Rb()}if(2&t){const t=e.$implicit,n=e.index,i=o.dc();o.Eb("mat-tab-label-active",i.selectedIndex==n),o.jc("id",i._getTabLabelId(n))("disabled",t.disabled)("matRippleDisabled",t.disabled||i.disableRipple),o.Cb("tabIndex",i._getTabIndex(t,n))("aria-posinset",n+1)("aria-setsize",i._tabs.length)("aria-controls",i._getTabContentId(n))("aria-selected",i.selectedIndex==n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),o.Bb(2),o.jc("ngIf",t.templateLabel),o.Bb(1),o.jc("ngIf",!t.templateLabel)}}function de(t,e){if(1&t){const t=o.Tb();o.Sb(0,"mat-tab-body",10),o.Zb("_onCentered",function(){return o.qc(t),o.dc()._removeTabBodyWrapperHeight()})("_onCentering",function(e){return o.qc(t),o.dc()._setTabBodyWrapperHeight(e)}),o.Rb()}if(2&t){const t=e.$implicit,n=e.index,i=o.dc();o.Eb("mat-tab-body-active",i.selectedIndex==n),o.jc("id",i._getTabContentId(n))("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",i.animationDuration),o.Cb("aria-labelledby",i._getTabLabelId(n))}}const pe=["tabListContainer"],be=["tabList"],fe=["nextPaginator"],ge=["previousPaginator"],me=new o.r("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let _e=(()=>{class t{constructor(t,e,n,i){this._elementRef=t,this._ngZone=e,this._inkBarPositioner=n,this._animationMode=i}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const e=this._inkBarPositioner(t),n=this._elementRef.nativeElement;n.style.left=e.left,n.style.width=e.width}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(o.A),o.Mb(me),o.Mb(c.a,8))},t.\u0275dir=o.Hb({type:t,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,e){2&t&&o.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode)}}),t})();const ve=new o.r("MatTabContent"),ye=new o.r("MatTabLabel");class xe{}const Ce=Object(l.s)(xe),Se=new o.r("MAT_TAB_GROUP");let we=(()=>{class t extends Ce{constructor(t,e){super(),this._viewContainerRef=t,this._closestTabGroup=e,this.textLabel="",this._contentPortal=null,this._stateChanges=new _.a,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new i.g(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&(this._templateLabel=t)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.Q),o.Mb(Se))},t.\u0275cmp=o.Gb({type:t,selectors:[["mat-tab"]],contentQueries:function(t,e,n){if(1&t&&(o.Fb(n,ye,1),o.Fb(n,ve,3,o.M)),2&t){let t;o.nc(t=o.ac())&&(e.templateLabel=t.first),o.nc(t=o.ac())&&(e._explicitContent=t.first)}},viewQuery:function(t,e){if(1&t&&o.Dc(o.M,3),2&t){let t;o.nc(t=o.ac())&&(e._implicitContent=t.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[o.yb,o.zb],ngContentSelectors:ne,decls:1,vars:0,template:function(t,e){1&t&&(o.ic(),o.xc(0,ee,1,0,"ng-template"))},encapsulation:2}),t})();const Oe={translateTab:Object(Ot.l)("translateTab",[Object(Ot.i)("center, void, left-origin-center, right-origin-center",Object(Ot.j)({transform:"none"})),Object(Ot.i)("left",Object(Ot.j)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Object(Ot.i)("right",Object(Ot.j)({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Object(Ot.k)("* => left, * => right, left => center, right => center",Object(Ot.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Object(Ot.k)("void => left-origin-center",[Object(Ot.j)({transform:"translate3d(-100%, 0, 0)"}),Object(Ot.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Object(Ot.k)("void => right-origin-center",[Object(Ot.j)({transform:"translate3d(100%, 0, 0)"}),Object(Ot.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let ke=(()=>{class t extends i.c{constructor(t,e,n,i){super(t,e,i),this._host=n,this._centeringSub=y.a.EMPTY,this._leavingSub=y.a.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Object(Ct.a)(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.j),o.Mb(o.Q),o.Mb(Object(o.U)(()=>je)),o.Mb(r.d))},t.\u0275dir=o.Hb({type:t,selectors:[["","matTabBodyHost",""]],features:[o.yb]}),t})(),Me=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._dir=e,this._dirChangeSubscription=y.a.EMPTY,this._translateTabComplete=new _.a,this._onCentering=new o.n,this._beforeCentering=new o.n,this._afterLeavingCenter=new o.n,this._onCentered=new o.n(!0),this.animationDuration="500ms",e&&(this._dirChangeSubscription=e.change.subscribe(t=>{this._computePositionAnimationState(t),n.markForCheck()})),this._translateTabComplete.pipe(Object(w.a)((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{this._isCenterPosition(t.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(t.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const e=this._getLayoutDirection();return"ltr"==e&&t<=0||"rtl"==e&&t>0?"left-origin-center":"right-origin-center"}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(E.b,8),o.Mb(o.h))},t.\u0275dir=o.Hb({type:t,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t})(),je=(()=>{class t extends Me{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(E.b,8),o.Mb(o.h))},t.\u0275cmp=o.Gb({type:t,selectors:[["mat-tab-body"]],viewQuery:function(t,e){if(1&t&&o.Dc(i.c,1),2&t){let t;o.nc(t=o.ac())&&(e._portalHost=t.first)}},hostAttrs:[1,"mat-tab-body"],features:[o.yb],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,e){1&t&&(o.Sb(0,"div",0,1),o.Zb("@translateTab.start",function(t){return e._onTranslateTabStarted(t)})("@translateTab.done",function(t){return e._translateTabComplete.next(t)}),o.xc(2,ie,0,0,"ng-template",2),o.Rb()),2&t&&o.jc("@translateTab",o.mc(3,oe,e._position,o.lc(1,re,e.animationDuration)))},directives:[ke],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[Oe.translateTab]}}),t})();const Re=new o.r("MAT_TABS_CONFIG");let Ae=0;class Ee{}class Ie{constructor(t){this._elementRef=t}}const Pe=Object(l.q)(Object(l.r)(Ie),"primary");let Te=(()=>{class t extends Pe{constructor(t,e,n,i){super(t),this._changeDetectorRef=e,this._animationMode=i,this._tabs=new o.E,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=y.a.EMPTY,this._tabLabelSubscription=y.a.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new o.n,this.focusChange=new o.n,this.animationDone=new o.n,this.selectedTabChange=new o.n(!0),this._groupId=Ae++,this.animationDuration=n&&n.animationDuration?n.animationDuration:"500ms",this.disablePagination=!(!n||null==n.disablePagination)&&n.disablePagination,this.dynamicHeight=!(!n||null==n.dynamicHeight)&&n.dynamicHeight}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=Object(b.b)(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=Object(b.e)(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement;e.classList.remove(`mat-background-${this.backgroundColor}`),t&&e.classList.add(`mat-background-${t}`),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const e=null==this._selectedIndex;if(!e){this.selectedTabChange.emit(this._createChangeEvent(t));const e=this._tabBodyWrapper.nativeElement;e.style.minHeight=e.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((e,n)=>e.isActive=n===t),e||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((e,n)=>{e.position=n-t,null==this._selectedIndex||0!=e.position||e.origin||(e.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const t=this._tabs.toArray();for(let e=0;e<t.length;e++)if(t[e].isActive){this._indexToSelect=this._selectedIndex=e;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Object(Ct.a)(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(t=>t._closestTabGroup===this)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}_focusChanged(t){this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const e=new Ee;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Object(v.a)(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,e,n){t.disabled||(this.selectedIndex=e.focusIndex=n)}_getTabIndex(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}_tabFocusChanged(t,e){t&&(this._tabHeader.focusIndex=e)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(o.h),o.Mb(Re,8),o.Mb(c.a,8))},t.\u0275dir=o.Hb({type:t,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[o.yb]}),t})(),Le=(()=>{class t extends Te{constructor(t,e,n,i){super(t,e,n,i)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(o.h),o.Mb(Re,8),o.Mb(c.a,8))},t.\u0275cmp=o.Gb({type:t,selectors:[["mat-tab-group"]],contentQueries:function(t,e,n){if(1&t&&o.Fb(n,we,1),2&t){let t;o.nc(t=o.ac())&&(e._allTabs=t)}},viewQuery:function(t,e){if(1&t&&(o.Dc(se,1),o.Dc(ae,1)),2&t){let t;o.nc(t=o.ac())&&(e._tabBodyWrapper=t.first),o.nc(t=o.ac())&&(e._tabHeader=t.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,e){2&t&&o.Eb("mat-tab-group-dynamic-height",e.dynamicHeight)("mat-tab-group-inverted-header","below"===e.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[o.Ab([{provide:Se,useExisting:t}]),o.yb],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,e){1&t&&(o.Sb(0,"mat-tab-header",0,1),o.Zb("indexFocused",function(t){return e._focusChanged(t)})("selectFocusedIndex",function(t){return e.selectedIndex=t}),o.xc(2,ue,4,14,"div",2),o.Rb(),o.Sb(3,"div",3,4),o.xc(5,de,1,8,"mat-tab-body",5),o.Rb()),2&t&&(o.jc("selectedIndex",e.selectedIndex||0)("disableRipple",e.disableRipple)("disablePagination",e.disablePagination),o.Bb(2),o.jc("ngForOf",e._tabs),o.Bb(1),o.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode),o.Bb(2),o.jc("ngForOf",e._tabs))},directives:function(){return[$e,r.k,Be,l.l,f.d,r.l,i.c,je]},styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),t})();class De{}const Fe=Object(l.s)(De);let Be=(()=>{class t extends Fe{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l))},t.\u0275dir=o.Hb({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,e){2&t&&(o.Cb("aria-disabled",!!e.disabled),o.Eb("mat-tab-disabled",e.disabled))},inputs:{disabled:"disabled"},features:[o.yb]}),t})();const ze=Object(te.f)({passive:!0});let Ne=(()=>{class t{constructor(t,e,n,i,r,s,a){this._elementRef=t,this._changeDetectorRef=e,this._viewportRuler=n,this._dir=i,this._ngZone=r,this._platform=s,this._animationMode=a,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new _.a,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new _.a,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new o.n,this.indexFocused=new o.n,r.runOutsideAngular(()=>{Object(Qt.a)(t.nativeElement,"mouseleave").pipe(Object(C.a)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=Object(b.e)(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){Object(Qt.a)(this._previousPaginator.nativeElement,"touchstart",ze).pipe(Object(C.a)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Object(Qt.a)(this._nextPaginator.nativeElement,"touchstart",ze).pipe(Object(C.a)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:Object(x.a)(null),e=this._viewportRuler.change(150),n=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new f.f(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(n):n(),Object(v.a)(t,e,this._items.changes).pipe(Object(C.a)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(n)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Object(C.a)(this._destroyed)).subscribe(t=>{this.indexFocused.emit(t),this._setTabFocus(t)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!Object(M.r)(t))switch(t.keyCode){case M.e:case M.m:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const e=this._items?this._items.toArray()[t]:null;return!!e&&!e.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const e=this._tabListContainer.nativeElement,n=this._getLayoutDirection();e.scrollLeft="ltr"==n?0:e.scrollWidth-e.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,e="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(e)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const e=this._items?this._items.toArray()[t]:null;if(!e)return;const n=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:i,offsetWidth:r}=e.elementRef.nativeElement;let o,s;"ltr"==this._getLayoutDirection()?(o=i,s=o+r):(s=this._tabList.nativeElement.offsetWidth-i,o=s-r);const a=this.scrollDistance,c=this.scrollDistance+n;o<a?this.scrollDistance-=a-o+60:s>c&&(this.scrollDistance+=s-c+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,e){e&&null!=e.button&&0!==e.button||(this._stopInterval(),Object(Jt.a)(650,100).pipe(Object(C.a)(Object(v.a)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:e,distance:n}=this._scrollHeader(t);(0===n||n>=e)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(o.h),o.Mb(yt.d),o.Mb(E.b,8),o.Mb(o.A),o.Mb(te.a),o.Mb(c.a,8))},t.\u0275dir=o.Hb({type:t,inputs:{disablePagination:"disablePagination"}}),t})(),qe=(()=>{class t extends Ne{constructor(t,e,n,i,r,o,s){super(t,e,n,i,r,o,s),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Object(b.b)(t)}_itemSelected(t){t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(o.h),o.Mb(yt.d),o.Mb(E.b,8),o.Mb(o.A),o.Mb(te.a),o.Mb(c.a,8))},t.\u0275dir=o.Hb({type:t,inputs:{disableRipple:"disableRipple"},features:[o.yb]}),t})(),$e=(()=>{class t extends qe{constructor(t,e,n,i,r,o,s){super(t,e,n,i,r,o,s)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(o.h),o.Mb(yt.d),o.Mb(E.b,8),o.Mb(o.A),o.Mb(te.a),o.Mb(c.a,8))},t.\u0275cmp=o.Gb({type:t,selectors:[["mat-tab-header"]],contentQueries:function(t,e,n){if(1&t&&o.Fb(n,Be,0),2&t){let t;o.nc(t=o.ac())&&(e._items=t)}},viewQuery:function(t,e){if(1&t&&(o.Dc(_e,3),o.Dc(pe,3),o.Dc(be,3),o.Dc(fe,1),o.Dc(ge,1)),2&t){let t;o.nc(t=o.ac())&&(e._inkBar=t.first),o.nc(t=o.ac())&&(e._tabListContainer=t.first),o.nc(t=o.ac())&&(e._tabList=t.first),o.nc(t=o.ac())&&(e._nextPaginator=t.first),o.nc(t=o.ac())&&(e._previousPaginator=t.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,e){2&t&&o.Eb("mat-tab-header-pagination-controls-enabled",e._showPaginationControls)("mat-tab-header-rtl","rtl"==e._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[o.yb],ngContentSelectors:ne,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,e){1&t&&(o.ic(),o.Sb(0,"div",0,1),o.Zb("click",function(){return e._handlePaginatorClick("before")})("mousedown",function(t){return e._handlePaginatorPress("before",t)})("touchend",function(){return e._stopInterval()}),o.Nb(2,"div",2),o.Rb(),o.Sb(3,"div",3,4),o.Zb("keydown",function(t){return e._handleKeydown(t)}),o.Sb(5,"div",5,6),o.Zb("cdkObserveContent",function(){return e._onContentChanges()}),o.Sb(7,"div",7),o.hc(8),o.Rb(),o.Nb(9,"mat-ink-bar"),o.Rb(),o.Rb(),o.Sb(10,"div",8,9),o.Zb("mousedown",function(t){return e._handlePaginatorPress("after",t)})("click",function(){return e._handlePaginatorClick("after")})("touchend",function(){return e._stopInterval()}),o.Nb(12,"div",2),o.Rb()),2&t&&(o.Eb("mat-tab-header-pagination-disabled",e._disableScrollBefore),o.jc("matRippleDisabled",e._disableScrollBefore||e.disableRipple),o.Bb(5),o.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode),o.Bb(5),o.Eb("mat-tab-header-pagination-disabled",e._disableScrollAfter),o.jc("matRippleDisabled",e._disableScrollAfter||e.disableRipple))},directives:[l.l,Xt.a,_e],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),t})(),He=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({imports:[[r.c,l.g,i.f,l.m,Xt.c,f.a],l.g]}),t})();var Ve=n("CzEO"),Ge=n("kzlf"),Ze=n.n(Ge),We=n("X607"),Ue=n.n(We),Ke=n("PCNd");const Ye=Ze.a.import("blots/inline");let Xe=(()=>{class t extends Ye{static create(t){const e=super.create();return t.uuid&&e.setAttribute("data-comment-uuid",t.uuid),t.message&&e.setAttribute("data-comment-message",t.message),e}static formats(t){const e={},n=t.getAttribute("data-comment-uuid");n&&(e.uuid=n);const i=t.getAttribute("data-comment-message");return i&&(e.message=i),e}format(t,e){"comment"===t?e?(e.uuid?this.domNode.setAttribute("data-comment-uuid",e.uuid):this.domNode.removeAttribute("data-comment-uuid"),e.message?this.domNode.setAttribute("data-comment-message",e.message):this.domNode.removeAttribute("data-comment-message")):(this.domNode.removeAttribute("data-comment-uuid"),this.domNode.removeAttribute("data-comment-message")):super.format(t,e)}}return t.blotName="comment",t.tagName="span",t})(),Qe=(()=>{class t extends Ye{static create(t){const e=super.create();return t.uuid&&e.setAttribute("data-lint-uuid",t.uuid),t.message&&e.setAttribute("data-lint-message",t.message),e}static formats(t){const e={},n=t.getAttribute("data-lint-uuid");n&&(e.uuid=n);const i=t.getAttribute("data-lint-message");return i&&(e.message=i),e}format(t,e){"lint"===t?e?(e.uuid?this.domNode.setAttribute("data-lint-uuid",e.uuid):this.domNode.removeAttribute("data-lint-uuid"),e.message?this.domNode.setAttribute("data-lint-message",e.message):this.domNode.removeAttribute("data-lint-message")):(this.domNode.removeAttribute("data-lint-uuid"),this.domNode.removeAttribute("data-lint-message")):super.format(t,e)}}return t.blotName="lint",t.tagName="span",t})();var Je=n("tyNb");let tn=(()=>{class t{canDeactivate(t,e,n,i){return t.canDeactivate?t.canDeactivate():window.confirm("Are you sure you want to leave this page")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var en=n("tk/3");let nn=(()=>{class t{constructor(t){this.http=t}getScripts(t){return this.http.get(`api/v1/scripts?page=${t}`)}deleteScripts(t){const e=t.map(t=>`id[]=${t}`).join("&");return this.http.delete(`api/v1/scripts?${e}`)}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(en.b))},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function rn(t,e){if(1&t){const t=o.Tb();o.Sb(0,"li",5),o.Sb(1,"input",6),o.Zb("change",function(n){o.qc(t);const i=e.$implicit;return o.dc().checkScript(n,i.id)}),o.Rb(),o.Sb(2,"div",7),o.Sb(3,"a",8),o.zc(4),o.Rb(),o.Sb(5,"div",9),o.zc(6),o.Rb(),o.Sb(7,"div",10),o.Sb(8,"div",11),o.zc(9),o.ec(10,"date"),o.Rb(),o.Sb(11,"div",11),o.zc(12),o.ec(13,"date"),o.Rb(),o.Rb(),o.Rb(),o.Rb()}if(2&t){const t=e.$implicit,n=o.dc();o.Bb(1),o.jc("value",n.deleteScriptIds.includes(t.id)),o.Bb(2),o.jc("routerLink",t.id.toString()),o.Bb(1),o.Bc(" ",t.title," "),o.Bb(2),o.Bc(" author: ",null==t.author?null:t.author.name," "),o.Bb(3),o.Bc(" created: ",o.gc(10,6,t.created,"short")," "),o.Bb(3),o.Bc(" updated: ",o.gc(13,9,t.updated,"short")," ")}}let on=(()=>{class t{constructor(t,e){this.scriptListService=t,this.cd=e,this.deleteScriptIds=[],this.unsubscriber$=new _.a,this.scriptListService.getScripts(1).pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.scripts=t,this.cd.markForCheck()})}ngOnInit(){}ngOnDestroy(){this.unsubscriber$.next()}checkScript(t,e){t.target.checked?this.deleteScriptIds.push(e):this.deleteScriptIds=this.deleteScriptIds.filter(t=>t!==e)}deleteScripts(){0!==this.deleteScriptIds.length&&this.scriptListService.deleteScripts(this.deleteScriptIds).pipe(Object(C.a)(this.unsubscriber$)).subscribe(()=>{this.scripts=this.scripts.filter(t=>!this.deleteScriptIds.includes(t.id)),this.deleteScriptIds=[],this.cd.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(nn),o.Mb(o.h))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-script-list"]],decls:7,vars:2,consts:[[1,"wrapper"],["mat-stroked-button","","color","primary",3,"routerLink"],["mat-stroked-button","","color","primary",3,"click"],[1,"list"],["class","list-detail",4,"ngFor","ngForOf"],[1,"list-detail"],["type","checkbox",1,"list-detail__checkbox",3,"value","change"],[1,"list-detail__body"],[1,"list-detail__body-title",3,"routerLink"],[1,"list-detail__body-author"],[1,"list-detail__body-sub"],[1,"list-detail__body-sub-date"]],template:function(t,e){1&t&&(o.Sb(0,"div",0),o.Sb(1,"a",1),o.zc(2,"new script"),o.Rb(),o.Sb(3,"button",2),o.Zb("click",function(){return e.deleteScripts()}),o.zc(4," Bulk Delete "),o.Rb(),o.Sb(5,"ul",3),o.xc(6,rn,14,12,"li",4),o.Rb(),o.Rb()),2&t&&(o.Bb(1),o.jc("routerLink","new"),o.Bb(5),o.jc("ngForOf",e.scripts))},directives:[a.a,Je.c,a.b,r.k],pipes:[r.e],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}body.dark-theme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}body.dark-theme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#607d8b}.wrapper[_ngcontent-%COMP%]{width:100%;max-width:1080px;margin:0 auto;padding:0 30px}.wrapper[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{list-style-type:none;padding-left:5px}.wrapper[_ngcontent-%COMP%]   .list-detail[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:5px;border-bottom:1px solid}.wrapper[_ngcontent-%COMP%]   .list-detail__checkbox[_ngcontent-%COMP%]{display:block}.wrapper[_ngcontent-%COMP%]   .list-detail__body[_ngcontent-%COMP%]{width:100%;margin-left:20px;display:flex}.wrapper[_ngcontent-%COMP%]   .list-detail__body-status[_ngcontent-%COMP%]{width:50px;margin-right:10px}.wrapper[_ngcontent-%COMP%]   .list-detail__body-title[_ngcontent-%COMP%]{display:block;width:150px;overflow-x:hidden}.wrapper[_ngcontent-%COMP%]   .list-detail__body-author[_ngcontent-%COMP%]{margin-left:20px}.wrapper[_ngcontent-%COMP%]   .list-detail__body-sub[_ngcontent-%COMP%]{margin-left:auto;display:flex}.wrapper[_ngcontent-%COMP%]   .list-detail__body-sub-date[_ngcontent-%COMP%]{width:200px;margin-right:20px}"],changeDetection:0}),t})();var sn=n("mrSG"),an=n("jtHE"),cn=n("5+tZ"),ln=n("SxV6"),hn=n("7o/Q");class un{constructor(t){this.total=t}call(t,e){return e.subscribe(new dn(t,this.total))}}class dn extends hn.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}var pn=n("2Xbf");class bn{constructor(t={}){this.title="",this.deltaOps=[],Object.assign(this,t)}clone(){return Object.assign(Object.create(Object.getPrototypeOf(this)),this)}isEqual(t){return JSON.stringify(this)===JSON.stringify(t)}}var fn=n("7Cbv"),gn=n("Ptse"),mn=n("dCgF");n("8kjx");const _n=(t,e,n,i,r)=>{try{if(e&&e.cursor&&n!==i.clientID){const o=e.user||{},s=o.color||"#ffa500",a=o.name||`User: ${n}`;t.createCursor(n.toString(),a,s);const c=mn.e(mn.f(e.cursor.anchor),i),l=mn.e(mn.f(e.cursor.head),i);c&&l&&c.type===r&&t.moveCursor(n.toString(),{index:c.index,length:l.index-c.index})}else t.removeCursor(n.toString())}catch(o){console.error(o)}};class vn{constructor(t,e,n){const i=Object(gn.a)(),r=t.doc;this.mux=i,this.type=t,this.doc=r,this.quill=e;const o=e.getModule("cursors")||null;this.quillCursors=o,this._negatedUsedFormats={},this.awareness=n,this._awarenessChange=({added:e,removed:i,updated:s})=>{const a=n.getStates();e.forEach(e=>{_n(o,a.get(e),e,r,t)}),s.forEach(e=>{_n(o,a.get(e),e,r,t)}),i.forEach(t=>{o.removeCursor(t.toString())})},this._typeObserver=t=>{i(()=>{const n=t.delta,i=[];for(let t=0;t<n.length;t++){const e=n[t];i.push(void 0!==e.insert?Object.assign({},e,{attributes:Object.assign({},this._negatedUsedFormats,e.attributes||{})}):e)}e.updateContents(i,"yjs")})},t.observe(this._typeObserver),this._quillObserver=(s,a)=>{if(a&&a.ops){const e=a.ops;e.forEach(t=>{if(void 0!==t.attributes)for(let e in t.attributes)void 0===this._negatedUsedFormats[e]&&(this._negatedUsedFormats[e]=!1)}),i(()=>{t.applyDelta(e)})}if(n&&o){const i=e.getSelection(),s=n.getLocalState();if(null===i)null!==n.getLocalState()&&n.setLocalStateField("cursor",null);else{const e=mn.g(t,i.index),r=mn.g(t,i.index+i.length);s&&s.cursor&&mn.d(e,s.cursor.anchor)&&mn.d(r,s.cursor.head)||n.setLocalStateField("cursor",{anchor:e,head:r})}n.getStates().forEach((e,n)=>{_n(o,e,n,r,t)})}},e.on("editor-change",this._quillObserver),i(()=>{e.setContents(t.toDelta())}),null!==o&&n&&(n.getStates().forEach((e,n)=>{_n(o,e,n,r,t)}),n.on("change",this._awarenessChange))}destroy(){this.type.unobserve(this._typeObserver),this.quill.off("editor-change",this._quillObserver),this.awareness&&this.awareness.off("change",this._awarenessChange)}}var yn=n("OaWH"),xn=n("2Vo4");let Cn=(()=>{class t{constructor(t){this.http=t,this.loadingStateSubject$=new xn.a(!1),this.loadingState$=this.loadingStateSubject$.asObservable(),this.loadingUuids=[]}loadingStateChange(t){if(t){const e=this.loadingUuids.indexOf(t);e>-1&&this.loadingUuids.splice(e,1)}else t=Object(fn.a)(),this.loadingUuids.push(t);return this.loadingStateSubject$.next(this.loadingUuids.length>0),t}constituencyParse(t){return this.http.post("api/v2/constituency-parse",{textBlocks:t})}textLint(t){return this.http.post("api/v1/textlint",{text:t}).pipe(Object(wt.a)(t=>t[0]))}splitTextByNewline(t){if(t.length<2)return t;let e=t;[/\u300c[^\u300d]*\u300d/g,/\uff08[^\uff09]*\uff09/g,/\([^\)]*\)/g,/\[[^\]]*\]/g,/"[^"]*"/g,/\u201d[^\u201d]*\u201d/g].forEach(t=>{e=e.replace(t,t=>"#".repeat(t.length))});let n="",i=0;return[...Array(e.length-1)].forEach((r,o)=>{"\u3002"===e.charAt(o)&&(n+=t.substring(i,o+1)+"\n",i=o+1)}),n+=t.substring(i),n}getScript(t){return this.http.get(`api/v1/scripts/${t}`).pipe(Object(wt.a)(t=>new bn(t)))}putScript(t){return this.http.put(`api/v1/scripts/${t.id}`,{title:t.title,deltaOps:t.deltaOps}).pipe(Object(wt.a)(t=>new bn(t)))}postScript(t){return this.http.post("api/v1/scripts",{title:t.title,deltaOps:t.deltaOps}).pipe(Object(wt.a)(t=>new bn(t)))}deleteScript(t){return this.http.delete(`api/v1/scripts/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(en.b))},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Sn=n("ZZLe");let wn=(()=>{class t{constructor(t,e,n){this.appService=t,this.scriptService=e,this.tokenizeService=n,this.commentSubject$=new _.a,this.focusChatMessage$=new _.a,this.editorFocus$=new _.a,this.initialized$=new an.a(1)}get wsConnected(){return this.appService.wsProvider.wsconnected}initialize(t,e,n){const i=this.scriptService.loadingStateChange();this.editor=e,this.editor.getModule("text-marking"),this.ytext=this.appService.ydoc.getText(`script-${t}`),this.undoManager=new mn.b(this.ytext),this.binding=new vn(this.ytext,e,this.appService.wsProvider.awareness),this.appService.wsSynced().subscribe(()=>{"\n"!==this.editor.getText()&&void 0!==t||this.editor.setContents(n),this.initialized$.next(),this.scriptService.loadingStateChange(i)})}onContentChanged(t){}getText(){return this.editor.getText()}getDelta(){return this.editor.getContents().ops}undo(){this.checkInitialized(),this.undoManager.undo()}redo(){this.checkInitialized(),this.undoManager.redo()}reformat(){const t=this.editor.getText();let e=0,n=t.indexOf("\u3002");for(;n>-1;)"\n"!==t.charAt(n+1)&&(this.editor.insertText(n+e+1,"\n"),e+=1),n=t.indexOf("\u3002",n+1)}selectionReformat(){const t=this.editor.getText(),e=this.editor.getSelection();let n=0,i=t.indexOf("\u3002",e.index);for(;i>-1&&i<e.index+e.length;)"\n"!==t.charAt(i+1)&&(this.editor.insertText(i+n+1,"\n"),n+=1),i=t.indexOf("\u3002",i+1)}highlight(t,e="#FFAF7A"){t.forEach(t=>{const n=t.length;let i=this.editor.getText().indexOf(t);for(;i>-1;)this.editor.formatText(i,n,"background-color",e),i=this.editor.getText().indexOf(t,i+1)})}highlightByBaseForm(t,e="#FFAF7A"){const n=this.editor.getText();return this.tokenizeService.tokenize(n).pipe(Object(wt.a)(n=>{n.forEach(n=>{t.includes(n.basic_form)&&this.editor.formatText(n.word_position-1,n.surface_form.length,"background-color",e)})}))}removeHighlight(){const t=this.editor.getContents();t.ops=t.ops.map(t=>{var e;return(null===(e=t.attributes)||void 0===e?void 0:e.background)&&delete t.attributes.background,t}),this.editor.setContents(t)}underline(t){t.forEach(t=>{const e=t.length;let n=this.editor.getText().indexOf(t);for(;n>-1;)this.editor.formatText(n,e,"underline",!0),n=this.editor.getText().indexOf(t,n+1)})}removeUnderline(){const t=this.editor.getContents();t.ops=t.ops.map(t=>{var e;return(null===(e=t.attributes)||void 0===e?void 0:e.underline)&&delete t.attributes.underline,t}),this.editor.setContents(t)}removeStrikes(){const t=this.editor.getContents();t.ops=t.ops.filter(t=>{var e;return!(null===(e=t.attributes)||void 0===e?void 0:e.strike)}),this.editor.setContents(t)}onChangeTextColor(t){this.textColor=t}onChangeBackgroundColor(t){this.backgroundColor=t}onSelectionChange(t){t.range&&(this.selectionRange=t.range)}selectionBold(){const t=this.selectionRange;this.editor.formatText(t.index,t.length,"bold",!0)}selectionColorUp(){const t=this.selectionRange;this.editor.formatText(t.index,t.length,"color",this.textColor)}selectionBackgroundColorUp(){const t=this.selectionRange;this.editor.formatText(t.index,t.length,"background",this.backgroundColor)}selectionStrike(){const t=this.selectionRange;this.editor.formatText(t.index,t.length,"strike",!0)}selectionComment(){const t=Object(fn.a)(),e=this.selectionRange;this.editor.formatText(e.index,e.length,"comment",{uuid:t}),this.commentSubject$.next(t)}unselectComment(t){const e=this.editor.getContents();e.ops=e.ops.map(e=>{var n,i;return(null===(i=null===(n=e.attributes)||void 0===n?void 0:n.comment)||void 0===i?void 0:i.uuid)===t&&delete e.attributes.comment,e}),this.editor.setContents(e)}focusChatMessage(t){this.focusChatMessage$.next(t)}initialComments(t){const e=t.reduce((t,e,n)=>(t[e.uuid]=n,t),{}),n=this.editor.getContents();return n.ops=n.ops.map(n=>{var i,r;if(!(null===(r=null===(i=n.attributes)||void 0===i?void 0:i.comment)||void 0===r?void 0:r.uuid))return;const o=e[n.attributes.comment.uuid];return o?(t[o].selectedText=(t[o].selectedText||"")+n.insert,n.attributes.comment.message=t[o].body):delete n.attributes.comment,n}),t}selectionCommentFocused(t){this.editorFocus$.next({uuid:t,type:"comment"})}selectionCommentText(t){return this.editor.getContents().ops.filter(e=>{var n,i;return(null===(i=null===(n=e.attributes)||void 0===n?void 0:n.comment)||void 0===i?void 0:i.uuid)===t}).map(t=>t.insert).join()}applySelectionCommentMessage(t,e){const n=this.editor.getContents();n.ops=n.ops.map(n=>{var i,r;return(null===(r=null===(i=n.attributes)||void 0===i?void 0:i.comment)||void 0===r?void 0:r.uuid)===t&&(n.attributes.comment.message=e),n}),this.editor.setContents(n)}applyTextLintResult(t){const e=this.editor.getText(),n=e.split("\n").reduce((t,e,n)=>{let i=0;return n>0&&(i+=t[n-1].end+1),t.push({start:i,end:i+e.length}),t},[]);return t.messages=t.messages.map(t=>{t.uuid=Object(fn.a)();const i=n[t.line-1];this.editor.formatText(i.start,i.end-i.start,"lint",{uuid:t.uuid,message:t.message});const r=Math.min(i.end,i.start+10);return t.target=e.slice(i.start,r)+"..",t}),t}removeTextLintResult(){const t=this.editor.getContents();let e=!1;t.ops=t.ops.map(t=>{var n;return(null===(n=t.attributes)||void 0===n?void 0:n.lint)&&(e=!0,delete t.attributes.lint),t}),e&&this.editor.setContents(t)}focusTextLintMessage(t){this.editorFocus$.next({uuid:t.uuid,type:"textlint"})}checkInitialized(){if(!this.editor)throw new Error("ytext is not initialized")}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(yn.a),o.Wb(Cn),o.Wb(Sn.a))},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac}),t})(),On=(()=>{class t{constructor(t,e){this.cd=t,this.editorService=e,this.display="none"}ngOnInit(){}selectionChange(t){this.selection=window.getSelection();const e=this.selection.getRangeAt(0);if(this.selection.isCollapsed)return this.display="none",void this.cd.markForCheck();const n=e.getBoundingClientRect();this.top=n.top+window.pageYOffset-50+"px",this.left=n.left+"px",this.display="block",this.cd.markForCheck()}clickDocument(t){t.target.closest(".editor__main")||(this.display="none",this.cd.markForCheck())}bold(){this.editorService.selectionBold()}colorUp(){this.editorService.selectionColorUp()}backColor(){this.editorService.selectionBackgroundColorUp()}comment(){this.editorService.selectionComment()}format(){this.editorService.selectionReformat()}strike(){this.editorService.selectionStrike()}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.h),o.Mb(wn))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-balloon"]],hostVars:6,hostBindings:function(t,e){1&t&&o.Zb("click",function(t){return e.clickDocument(t)},!1,o.pc),2&t&&o.uc("top",e.top)("left",e.left)("display",e.display)},inputs:{darkTheme:"darkTheme"},decls:18,vars:2,consts:[[1,"wrapper"],[1,"svg__icon","item",3,"click"],[1,"item",3,"click"]],template:function(t,e){1&t&&(o.Sb(0,"div",0),o.Sb(1,"div",1),o.Zb("click",function(){return e.bold()}),o.Sb(2,"mat-icon"),o.zc(3,"format_bold"),o.Rb(),o.Rb(),o.Sb(4,"div",1),o.Zb("click",function(){return e.colorUp()}),o.Sb(5,"mat-icon"),o.zc(6,"format_color_text"),o.Rb(),o.Rb(),o.Sb(7,"div",1),o.Zb("click",function(){return e.backColor()}),o.Sb(8,"mat-icon"),o.zc(9,"format_color_fill"),o.Rb(),o.Rb(),o.Sb(10,"div",1),o.Zb("click",function(){return e.strike()}),o.Sb(11,"mat-icon"),o.zc(12,"strikethrough_s"),o.Rb(),o.Rb(),o.Sb(13,"div",1),o.Zb("click",function(){return e.comment()}),o.Sb(14,"mat-icon"),o.zc(15,"comment"),o.Rb(),o.Rb(),o.Sb(16,"button",2),o.Zb("click",function(){return e.format()}),o.zc(17,"format"),o.Rb(),o.Rb()),2&t&&o.Eb("dark-theme",e.darkTheme)},directives:[d.a],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}body.dark-theme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}body.dark-theme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#607d8b}[_nghost-%COMP%]{position:absolute;z-index:30}.wrapper[_ngcontent-%COMP%]{border:1px solid #000;background:#fff;box-shadow:0 0 10px;height:20px;padding:8px 10px;display:flex}.wrapper.dark-theme[_ngcontent-%COMP%]{background:#303030}.wrapper[_ngcontent-%COMP%]     mat-form-field .mat-form-field-infix{display:none}.wrapper[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin-right:5px;cursor:pointer}.svg__icon[_ngcontent-%COMP%]:hover{color:#3f51b5}"],changeDetection:0}),t})();var kn=n("cp0P"),Mn=n("JIr8");const jn=["\u3060\u304b\u3089","\u305d\u308c\u3067","\u305d\u306e\u305f\u3081","\u3053\u306e\u305f\u3081","\u305d\u3053\u3067","\u3057\u305f\u304c\u3063\u3066","\u3086\u3048\u306b","\u305d\u308c\u3086\u3048\u306b","\u3059\u308b\u3068","\u305d\u308c\u306a\u3089","\u305d\u308c\u3067\u306f","\u3057\u304b\u3057","\u3057\u304b\u3057\u306a\u304c\u3089","\u3060\u3051\u3069","\u3051\u308c\u3069\u3082","\u3068\u3053\u308d\u304c","\u306e\u306b","\u306a\u306e\u306b","\u305d\u308c\u306a\u306e\u306b","\u306b\u3082\u304b\u304b\u308f\u3089\u305a","\u305d\u308c\u306b\u3082\u304b\u304b\u308f\u3089\u305a","\u3082\u306e\u306e","\u3068\u306f\u3044\u3046\u3082\u306e\u306e","\u3067\u3082","\u305d\u308c\u3067\u3082","\u307e\u305f","\u304a\u3088\u3073","\u304b\u3064","\u306a\u3089\u3073\u306b","\u540c\u3058\u304f","\u7b2c\uff11\u306b","\u7b2c\uff12\u306b","\u7b2c\uff13\u306b","\uff11\u3064\u76ee\u306f","\uff12\u3064\u76ee\u306f","\uff13\u3064\u76ee\u306f","\uff11\u70b9\u76ee\u306f","\uff12\u70b9\u76ee\u306f","\uff13\u70b9\u76ee\u306f","\uff11\u3064\u306f","\u3082\u3046\uff11\u3064\u306f","\uff11\u70b9\u306f","\u3082\u3046\uff11\u70b9\u306f","\u6700\u521d\u306b","\u6b21\u306b","\u6700\u5f8c\u306b","\u306f\u3058\u3081\u306b","\u305d\u306e\u3042\u3068\u306b","\u304a\u308f\u308a\u306b","\u305d\u3057\u3066","\u305d\u308c\u306b","\u305d\u308c\u306b\u3057\u3066\u3082","\u305d\u308c\u304b\u3089","\u3057\u304b\u3082","\u304a\u307e\u3051\u306b","\u3055\u3089\u306b","\u305d\u306e\u3046\u3048","\u52a0\u3048\u3066","\u305d\u308c\u3069\u3053\u308d\u304b","\u3069\u3053\u308d\u304b","\u305d\u308c\u3070\u304b\u308a\u304b","\u305d\u308c\u3070\u304b\u308a\u3067\u306a\u304f","\u305d\u306e\u4e0a\u3067","\u4e00\u65b9","\u4ed6\u65b9","\u9006\u306b","\u53cd\u5bfe\u306b","\u53cd\u9762","\u305d\u306e\u304b\u308f\u308a","\u307e\u305f\u306f","\u305d\u308c\u3068\u3082","\u3042\u308b\u3044\u306f","\u3082\u3057\u304f\u306f","\u306a\u305c\u306a\u3089","\u3060\u3063\u3066","\u3068\u3044\u3046\u306e\u306f","\u3068\u3044\u3046\u306e\u3082","\u306a\u305c\u304b\u3068\u3044\u3046\u3068","\u3069\u3046\u3057\u3066\u304b\u3068\u3044\u3046\u3068","\u306a\u3093\u3067\u304b\u3068\u3044\u3046\u3068","\u305d\u306e\u305f\u3081\u306b\u306f","\u305d\u308c\u306b\u306f","\u306a\u304a","\u305f\u3060\u3057","\u305f\u3060","\u3082\u3063\u3068\u3082","\u3061\u306a\u307f\u306b","\u305d\u3082\u305d\u3082","\u5b9f\u306f","\u5b9f\u306e\u3068\u3053\u308d","\u3064\u307e\u308a","\u3059\u306a\u308f\u3061","\u8981\u3059\u308b\u306b","\u4f8b\u3048\u3070","\u3044\u308f\u3070","\u7279\u306b","\u3068\u308a\u308f\u3051","\u306a\u304b\u3067\u3082","\u305d\u308c\u3067\u306f","\u3067\u306f","\u3055\u3066","\u3068\u3053\u308d\u3067","\u3053\u306e\u3088\u3046\u306b","\u4ee5\u4e0a\u306e\u3088\u3046\u306b","\u3044\u305a\u308c\u306b\u3057\u3066\u3082","\u3044\u305a\u308c\u306b\u305b\u3088","\u3068\u3082\u3042\u308c","\u78ba\u304b\u306b","\u3057\u304b\u3057","\u4e00\u65b9\u3067\u306f","\u4ed6\u65b9\u3067\u306f"];function Rn(t,e){if(1&t){const t=o.Tb();o.Sb(0,"button",19),o.Zb("click",function(){return o.qc(t),o.dc().highlightValue.reset()}),o.Sb(1,"mat-icon"),o.zc(2,"close"),o.Rb(),o.Rb()}}function An(t,e){if(1&t){const t=o.Tb();o.Sb(0,"button",19),o.Zb("click",function(){return o.qc(t),o.dc().baseFormValue.reset()}),o.Sb(1,"mat-icon"),o.zc(2,"close"),o.Rb(),o.Rb()}}function En(t,e){if(1&t&&(o.Sb(0,"mat-option",20),o.zc(1),o.Rb()),2&t){const t=e.$implicit;o.jc("value",t),o.Bb(1),o.Ac(t)}}function In(t,e){if(1&t&&(o.Sb(0,"mat-option",20),o.zc(1),o.Rb()),2&t){const t=e.$implicit;o.jc("value",t),o.Bb(1),o.Ac(t)}}let Pn=(()=>{class t{constructor(t,e,n){this.scriptService=t,this.editorService=e,this.tokenizeService=n,this.highlightValue=new s.e(""),this.baseFormValue=new s.e(""),this.keys=["\u8003\u3048\u308b","\u601d\u3046"],this.keywordValues=new s.e(this.keys),this.conjunctions=jn,this.conjunctionValues=new s.e(this.conjunctions),this.textColorCtr=new s.e,this.backgroundColorCtr=new s.e,this.color="primary",this.toggleSubtitleButton=new o.n,this.toolBoxHighlightKey="tool-box-highlight-key",this.toolBoxBaseFormKey="tool-box-base-form-key",this.toolBoxTextColorCodeKey="tool-box-text-color-code-key",this.toolBoxBackgroundColorCodeKey="tool-box-background-color-code-key",this.unsubscriber$=new _.a;const i=localStorage.getItem(this.toolBoxHighlightKey);i&&this.highlightValue.setValue(i);const r=localStorage.getItem(this.toolBoxBaseFormKey);r&&this.baseFormValue.setValue(r),this.textColorCtr.valueChanges.pipe(Object(k.a)(t=>t),Object(C.a)(this.unsubscriber$)).subscribe(t=>{const e=`#${t.toHex()}`;this.editorService.onChangeTextColor(e),localStorage.setItem(this.toolBoxTextColorCodeKey,e)}),this.backgroundColorCtr.valueChanges.pipe(Object(k.a)(t=>t),Object(C.a)(this.unsubscriber$)).subscribe(t=>{const e=`#${t.toHex()}`;this.editorService.onChangeBackgroundColor(e),localStorage.setItem(this.toolBoxBackgroundColorCodeKey,e)});const a=localStorage.getItem(this.toolBoxTextColorCodeKey),c=this.hex2rgb(a?`${a}`:"#000000");this.textColorCtr.setValue(new Q(c[0],c[1],c[2]));const l=localStorage.getItem(this.toolBoxBackgroundColorCodeKey),h=this.hex2rgb(l?`${l}`:"#000000");this.backgroundColorCtr.setValue(new Q(h[0],h[1],h[2]))}ngOnInit(){}ngOnDestroy(){this.unsubscriber$.next()}highlight(t,e){this.highlightValue.value&&this.editorService.highlight(t,e)}removeOldHighlighted(){this.editorService.removeHighlight()}highlightBaseForm(t,e){if(0===t.length)return;const n=this.scriptService.loadingStateChange();Object(kn.a)(t.map(t=>this.tokenizeService.tokenize(t))).pipe(Object(wt.a)(t=>{const e=t.map(t=>t[0].basic_form),n=e.filter(t=>"*"===t);return n.length>0&&alert(`\u4ee5\u4e0b\u306e\u8a9e\u53e5\u306e\u8868\u5c64\u7cfb\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3002\n${n.join}`),e.filter(t=>"*"!==t)}),Object(cn.a)(t=>this.editorService.highlightByBaseForm(t,e)),Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.scriptService.loadingStateChange(n)},t=>{this.scriptService.loadingStateChange(n)})}bulkUnderline(t){if(0===t.length)return;const e=this.scriptService.loadingStateChange();Object(kn.a)(t.map(t=>this.tokenizeService.tokenize(t))).pipe(Object(wt.a)(t=>t.map(t=>t[0].basic_form).filter(t=>"*"!==t)),Object(Mn.a)(t=>Object(x.a)([])),Object(C.a)(this.unsubscriber$)).subscribe(t=>{t.length>0&&this.editorService.underline(t),this.scriptService.loadingStateChange(e)})}removeAllUnderlinedSentences(){this.editorService.removeUnderline()}removeStrike(){this.editorService.removeStrikes()}reformat(){this.editorService.reformat()}hex2rgb(t){return"#"===t.slice(0,1)&&(t=t.slice(1)),3===t.length&&(t=t.slice(0,1)+t.slice(0,1)+t.slice(1,2)+t.slice(1,2)+t.slice(2,3)+t.slice(2,3)),[t.slice(0,2),t.slice(2,4),t.slice(4,6)].map(t=>parseInt(t,16))}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(Cn),o.Mb(wn),o.Mb(Sn.a))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-tool-box"]],outputs:{toggleSubtitleButton:"toggleSubtitleButton"},decls:79,vars:21,consts:[[1,"wrapper"],[1,"row"],[1,"row__item"],[3,"ngSubmit"],["matInput","",3,"formControl"],["type","reset","mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["multiple","",3,"formControl"],[1,"keywords"],[3,"value",4,"ngFor","ngForOf"],[1,"svg__icon",3,"click"],["matInput","",3,"ngxMatColorPicker","formControl"],["matSuffix","",3,"for"],[3,"touchUi","color"],["picker1",""],["picker2",""],[1,"row__label"],["mat-button","","color","primary",1,"row__item",3,"click"],["color","primary",1,"row__item",3,"checked","toggleChange"],[1,"row__item","row__item-remove"],["type","reset","mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(o.Sb(0,"mat-expansion-panel",0),o.Sb(1,"mat-expansion-panel-header"),o.Sb(2,"mat-panel-title"),o.zc(3," Toolbox "),o.Rb(),o.Rb(),o.Sb(4,"div",1),o.Sb(5,"div",2),o.Sb(6,"form",3),o.Zb("ngSubmit",function(){return e.highlight([e.highlightValue.value])}),o.Sb(7,"mat-form-field"),o.Sb(8,"mat-label"),o.zc(9,"Highlight"),o.Rb(),o.Nb(10,"input",4),o.xc(11,Rn,3,0,"button",5),o.Rb(),o.Rb(),o.Rb(),o.Sb(12,"div",2),o.Sb(13,"form",3),o.Zb("ngSubmit",function(){return e.highlightBaseForm([e.baseFormValue.value])}),o.Sb(14,"mat-form-field"),o.Sb(15,"mat-label"),o.zc(16,"Highlight base form"),o.Rb(),o.Nb(17,"input",4),o.xc(18,An,3,0,"button",5),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(19,"div",1),o.Sb(20,"div",2),o.Sb(21,"mat-form-field"),o.Sb(22,"mat-label"),o.zc(23,"Keywords"),o.Rb(),o.Sb(24,"mat-select",6),o.Sb(25,"mat-select-trigger"),o.Sb(26,"span",7),o.zc(27),o.Rb(),o.Rb(),o.xc(28,En,2,2,"mat-option",8),o.Rb(),o.Rb(),o.Sb(29,"div",9),o.Zb("click",function(){return e.highlight(e.keywordValues.value,"orange")}),o.Sb(30,"mat-icon"),o.zc(31,"border_color"),o.Rb(),o.Rb(),o.Rb(),o.Sb(32,"div",2),o.Sb(33,"mat-form-field"),o.Sb(34,"mat-label"),o.zc(35,"conjunctions"),o.Rb(),o.Sb(36,"mat-select",6),o.Sb(37,"mat-select-trigger"),o.Sb(38,"span",7),o.zc(39),o.Rb(),o.Rb(),o.xc(40,In,2,2,"mat-option",8),o.Rb(),o.Rb(),o.Sb(41,"div",9),o.Zb("click",function(){return e.highlight(e.conjunctionValues.value,"green")}),o.Sb(42,"mat-icon"),o.zc(43,"border_color"),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(44,"div",1),o.Sb(45,"mat-form-field",2),o.Sb(46,"mat-label"),o.zc(47,"text color"),o.Rb(),o.Nb(48,"input",10),o.Nb(49,"ngx-mat-color-toggle",11),o.Nb(50,"ngx-mat-color-picker",12,13),o.Rb(),o.Sb(52,"mat-form-field",2),o.Sb(53,"mat-label"),o.zc(54,"background color"),o.Rb(),o.Nb(55,"input",10),o.Nb(56,"ngx-mat-color-toggle",11),o.Nb(57,"ngx-mat-color-picker",12,14),o.Rb(),o.Rb(),o.Sb(59,"div",1),o.Sb(60,"div",15),o.zc(61,"buttons:"),o.Rb(),o.Sb(62,"button",16),o.Zb("click",function(){return e.reformat()}),o.zc(63," format "),o.Rb(),o.Sb(64,"mat-slide-toggle",17),o.Zb("toggleChange",function(){return e.toggleSubtitleButton.emit()}),o.zc(65," subtitle "),o.Rb(),o.Rb(),o.Sb(66,"div",1),o.Sb(67,"div",18),o.Sb(68,"div",15),o.zc(69,"remove:"),o.Rb(),o.Sb(70,"div",9),o.Zb("click",function(){return e.removeOldHighlighted()}),o.Sb(71,"mat-icon"),o.zc(72,"format_color_fill"),o.Rb(),o.Rb(),o.Sb(73,"div",9),o.Zb("click",function(){return e.removeAllUnderlinedSentences()}),o.Sb(74,"mat-icon"),o.zc(75,"format_underlined"),o.Rb(),o.Rb(),o.Sb(76,"div",9),o.Zb("click",function(){return e.removeStrike()}),o.Sb(77,"mat-icon"),o.zc(78,"strikethrough_s"),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&t){const t=o.oc(51),n=o.oc(58);o.Bb(10),o.jc("formControl",e.highlightValue),o.Bb(1),o.jc("ngIf",e.highlightValue.value),o.Bb(6),o.jc("formControl",e.baseFormValue),o.Bb(1),o.jc("ngIf",e.baseFormValue.value),o.Bb(6),o.jc("formControl",e.keywordValues),o.Bb(3),o.Ac(null==e.keywordValues.value?null:e.keywordValues.value.length),o.Bb(1),o.jc("ngForOf",e.keys),o.Bb(8),o.jc("formControl",e.conjunctionValues),o.Bb(3),o.Ac(null==e.conjunctionValues.value?null:e.conjunctionValues.value.length),o.Bb(1),o.jc("ngForOf",e.conjunctions),o.Bb(8),o.jc("ngxMatColorPicker",t)("formControl",e.textColorCtr),o.Bb(1),o.jc("for",t),o.Bb(1),o.jc("touchUi",!1)("color",e.color),o.Bb(5),o.jc("ngxMatColorPicker",n)("formControl",e.backgroundColorCtr),o.Bb(1),o.jc("for",n),o.Bb(1),o.jc("touchUi",!1)("color",e.color),o.Bb(7),o.jc("checked",!0)}},directives:[vt.c,vt.d,vt.e,s.v,s.o,s.p,A.c,A.f,p.b,s.c,s.n,s.f,r.l,Wt,Gt,r.k,d.a,ft,gt,A.h,ut,a.b,Yt.a,l.i],styles:[".wrapper[_ngcontent-%COMP%]{border:1px solid #000;text-align:center}.wrapper[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;align-items:center}.wrapper[_ngcontent-%COMP%]   .row__item[_ngcontent-%COMP%]{margin-right:30px;display:flex}.wrapper[_ngcontent-%COMP%]   .row__item[_ngcontent-%COMP%]   .svg__icon[_ngcontent-%COMP%]{display:block;align-self:center}.wrapper[_ngcontent-%COMP%]   .row__item-remove[_ngcontent-%COMP%]   .svg__icon[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .row__label[_ngcontent-%COMP%]{margin-right:20px}.wrapper[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{margin-left:5px}.svg__icon[_ngcontent-%COMP%]{cursor:pointer}.svg__icon[_ngcontent-%COMP%]:hover{color:#3f51b5}"],changeDetection:0}),t})(),Tn=(()=>{class t{constructor(t,e){this.http=t,this.appService=e}createArray(t){this.yarray=this.appService.ydoc.getArray(t);const e=new an.a(1);return this.yarray.observe((t,n)=>{const i=this.yarray.toArray();e.next(i)}),e.next(this.yarray.toArray()),this.appService.wsSynced().pipe(Object(cn.a)(()=>e.asObservable()),Object(w.a)())}insertArray(t,...e){this.yarray.insert(t,e)}pushArray(...t){this.yarray.push(t)}spliceArray(t,e,...n){this.yarray.delete(t,e),this.yarray.insert(t,n)}getMessages(t){return this.http.get(`api/v1/messages?scriptId=${t}`)}postMessage(t){return this.http.post("api/v1/messages",t)}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(en.b),o.Wb(yn.a))},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac}),t})();var Ln=n("ej43");const Dn=["form"],Fn=["chatMessage"];function Bn(t,e){1&t&&o.Ob(0)}const zn=function(t){return{message:t}};function Nn(t,e){if(1&t&&(o.Qb(0),o.xc(1,Bn,1,0,"ng-container",13),o.Pb()),2&t){const t=e.$implicit;o.dc(2);const n=o.oc(11);o.Bb(1),o.jc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.lc(2,zn,t))}}function qn(t,e){if(1&t&&(o.Qb(0),o.Sb(1,"div",10,11),o.xc(3,Nn,2,4,"ng-container",12),o.Rb(),o.Pb()),2&t){const t=o.dc();o.Bb(3),o.jc("ngForOf",t.messages)}}function $n(t,e){if(1&t&&(o.Qb(0),o.zc(1),o.Pb()),2&t){const t=o.dc();o.Bb(1),o.Bc(" Target: ",t.selected.text," ")}}function Hn(t,e){1&t&&(o.Qb(0),o.zc(1,"Reply: "),o.Pb())}function Vn(t,e){if(1&t&&(o.Sb(0,"p",26),o.zc(1),o.Rb()),2&t){const t=o.dc().message;o.Bb(1),o.Bc(" ",t.selectedText.length>15?t.selectedText.slice(0,15)+"..":t.selectedText," ")}}function Gn(t,e){1&t&&o.Ob(0)}function Zn(t,e){if(1&t&&(o.Qb(0),o.xc(1,Gn,1,0,"ng-container",13),o.Pb()),2&t){const t=e.$implicit;o.dc(3);const n=o.oc(11);o.Bb(1),o.jc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.lc(2,zn,t))}}function Wn(t,e){if(1&t&&(o.Sb(0,"div",27),o.xc(1,Zn,2,4,"ng-container",12),o.Rb()),2&t){const t=o.dc().message;o.Bb(1),o.jc("ngForOf",t.children)}}function Un(t,e){if(1&t){const t=o.Tb();o.Sb(0,"div",14),o.Sb(1,"div",15),o.Zb("click",function(){o.qc(t);const n=e.message;return o.dc().messageClick(n)}),o.Sb(2,"mat-icon",16),o.zc(3,"arrow_right"),o.Rb(),o.Rb(),o.Sb(4,"div",17),o.Sb(5,"div",18),o.Zb("click",function(){o.qc(t);const n=e.message;return o.dc().messageClick(n)}),o.Sb(6,"p",19),o.zc(7),o.Rb(),o.Rb(),o.xc(8,Vn,2,1,"p",20),o.Sb(9,"div",21),o.Sb(10,"span",22),o.zc(11),o.Rb(),o.Sb(12,"span",23),o.zc(13),o.Rb(),o.Sb(14,"span",24),o.zc(15),o.ec(16,"date"),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.xc(17,Wn,2,1,"div",25)}if(2&t){const t=e.message,n=o.dc();o.Bb(1),o.Eb("chat-message__expand-icon--expanded",t.expanded),o.Bb(4),o.Eb("dark-theme",n.darkTheme)("chat-message__text--active",n.activeMessage===t),o.Bb(2),o.Ac(t.body),o.Bb(1),o.jc("ngIf",t.selectedText),o.Bb(3),o.Ac((null==t.children?null:t.children.length)||0),o.Bb(2),o.Ac(t.author.name),o.Bb(2),o.Ac(o.gc(16,12,t.created,"short")),o.Bb(2),o.jc("ngIf",t.expanded&&!(null==t.children||!t.children.length))}}function Kn(t,e){1&t&&o.zc(0,"loading")}let Yn=(()=>{class t{constructor(t,e,n,i,r,o){this.cd=t,this.authenticationService=e,this.route=n,this.chatService=i,this.editorService=r,this.scriptService=o,this.messages=[],this.disable=!0,this.chatForm=new s.h({body:new s.e({value:"",disabled:this.disabled},[s.u.required,s.u.minLength(1)])}),this.selected={uuid:void 0,text:void 0},this.unsubscriber$=new _.a,this.initialized$=new xn.a(!1),this.route.paramMap.pipe(Object(k.a)(t=>"new"!==t.get("id")),Object(St.a)(t=>{const e=t.get("id");return this.scriptId=parseInt(e,10),Object(kn.a)([this.chatService.getMessages(this.scriptId),this.editorService.initialized$.pipe(Object(ln.a)())])}),Object(Mn.a)(t=>{}),Object(k.a)(t=>!!t),Object(ln.a)(),Object(cn.a)(([t,e])=>this.chatService.createArray(this.wsMessageType).pipe(Object(wt.a)((e,n)=>{0===n?(t.length>0&&0===e.length&&this.chatService.insertArray(0,...t),this.disabled=!1,this.messages=this.editorService.initialComments(t),this.initialized$.next(!0)):this.messages=e}))),Object(C.a)(this.unsubscriber$)).subscribe(()=>{this.cd.markForCheck()},t=>{this.initialized$.next(!0)})}get disabled(){return this.disable}set disabled(t){this.disable=t,this.chatForm.controls.body.enable()}get wsMessageType(){return`chat-${this.scriptId}`}ngOnInit(){}ngAfterViewInit(){Object(Qt.a)(this.formElement.nativeElement,"keydown").pipe(Object(k.a)(t=>t.ctrlKey&&"Enter"===t.key),Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.submit()}),this.editorService.commentSubject$.pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.selected.uuid=t,this.selected.text=this.editorService.selectionCommentText(t),this.formElement.nativeElement.querySelector("textarea").focus(),this.cd.markForCheck()}),this.initialized$.pipe(Object(k.a)(t=>t),Object(cn.a)(()=>this.editorService.focusChatMessage$),Object(C.a)(this.unsubscriber$)).subscribe(t=>{const e=this.messages.find(e=>e.uuid===t);e&&(e.expanded=!0,this.activeMessage=e,this.cd.markForCheck())})}onClick(t){if(!t.target.closest("app-chat")){const e=this.formElement.nativeElement.querySelector("textarea");void 0!==this.selected.uuid&&document.activeElement!==e&&(this.editorService.unselectComment(this.selected.uuid),this.selected.uuid=void 0,this.selected.text=void 0),this.activeMessage&&(t.target.closest("[data-comment-uuid]")||(this.activeMessage=void 0,this.cd.markForCheck()))}}messageClick(t){const e=t.uuid;t.expanded?(this.activeMessage=void 0,t.expanded=!1,this.cd.markForCheck()):(t.expanded=!0,this.activeMessage=t,this.formElement.nativeElement.querySelector("textarea").focus()),e&&(this.editorService.selectionCommentFocused(e),this.selected.text=this.editorService.selectionCommentText(e),this.cd.markForCheck())}ngOnDestroy(){this.unsubscriber$.next()}submit(){var t;if(!this.chatForm.valid||this.disabled)return;const e={body:this.chatForm.get("body").value,author:this.authenticationService.user,scriptId:this.scriptId,uuid:this.selected.uuid,parentId:null===(t=this.activeMessage)||void 0===t?void 0:t.id};this.chatService.postMessage(e).pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{var e;if(t.selectedText=this.selected.text,null===(e=this.activeMessage)||void 0===e?void 0:e.id){const e=this.messages.findIndex(t=>t.id===this.activeMessage.id);this.messages[e].children?this.messages[e].children.push(t):this.messages[e].children=[t],this.chatService.spliceArray(e,1,this.messages[e])}else this.chatService.pushArray(t);t.uuid&&(this.editorService.applySelectionCommentMessage(t.uuid,t.body),this.selected.uuid=void 0,this.selected.text=void 0),this.chatForm.reset(),this.cd.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.h),o.Mb(Ln.a),o.Mb(Je.a),o.Mb(Tn),o.Mb(wn),o.Mb(Cn))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-chat"]],viewQuery:function(t,e){if(1&t&&(o.Dc(Dn,1),o.Dc(Fn,1)),2&t){let t;o.nc(t=o.ac())&&(e.formElement=t.first),o.nc(t=o.ac())&&(e.chatMessageElement=t.first)}},hostBindings:function(t,e){1&t&&o.Zb("click",function(t){return e.onClick(t)},!1,o.pc)},inputs:{darkTheme:"darkTheme"},features:[o.Ab([Tn])],decls:14,vars:9,consts:[[1,"wrapper"],[4,"ngIf","ngIfElse"],[1,"chat-form"],[1,"chat-form__status"],[4,"ngIf"],[1,"chat-form__form",3,"formGroup","ngSubmit"],["form",""],["formControlName","body",1,"chat-form__textarea"],["messageTemplate",""],["loadingTmp",""],[1,"chat-messages"],["chatMessage",""],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"chat-message"],[1,"chat-message__expand-icon",3,"click"],[1,"svg__icon"],[1,"chat-message__body"],[1,"chat-message__text",3,"click"],[1,"chat-message__text-p"],["class","chat-message__selected-text",4,"ngIf"],[1,"chat-message__sub"],[1,"chat-message__sub-reply"],[1,"chat-message__sub-author"],[1,"chat-message__sub-created"],["class","chat-message__replay",4,"ngIf"],[1,"chat-message__selected-text"],[1,"chat-message__replay"]],template:function(t,e){if(1&t&&(o.Sb(0,"div",0),o.xc(1,qn,4,1,"ng-container",1),o.ec(2,"async"),o.Sb(3,"div",2),o.Sb(4,"p",3),o.xc(5,$n,2,1,"ng-container",4),o.xc(6,Hn,2,0,"ng-container",4),o.Rb(),o.Sb(7,"form",5,6),o.Zb("ngSubmit",function(){return e.submit()}),o.Nb(9,"textarea",7),o.Rb(),o.Rb(),o.Rb(),o.xc(10,Un,18,15,"ng-template",null,8,o.yc),o.xc(12,Kn,1,0,"ng-template",null,9,o.yc)),2&t){const t=o.oc(13);o.Bb(1),o.jc("ngIf",o.fc(2,7,e.initialized$))("ngIfElse",t),o.Bb(4),o.jc("ngIf",e.selected.text),o.Bb(1),o.jc("ngIf",!!e.activeMessage),o.Bb(1),o.jc("formGroup",e.chatForm),o.Bb(2),o.Eb("dark-theme",e.darkTheme)}},directives:[r.l,s.v,s.o,s.i,s.c,s.n,s.g,r.k,r.p,d.a],pipes:[r.b,r.e],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}body.dark-theme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}body.dark-theme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#607d8b}.wrapper[_ngcontent-%COMP%]{position:relative}.wrapper[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]{max-height:700px;margin-top:10px;overflow:auto;padding-bottom:100px}.wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]{display:flex;align-items:center}.wrapper[_ngcontent-%COMP%]   .chat-message__expand-icon--expanded[_ngcontent-%COMP%]{transform:rotate(90deg)}.wrapper[_ngcontent-%COMP%]   .chat-message__body[_ngcontent-%COMP%]{flex-grow:1}.wrapper[_ngcontent-%COMP%]   .chat-message__selected-text[_ngcontent-%COMP%]{color:#6c6c6c;font-size:10px;margin:3px 0 3px 30px}.wrapper[_ngcontent-%COMP%]   .chat-message__text[_ngcontent-%COMP%]{padding:10px;background:#fff;border-radius:30px;cursor:pointer}.wrapper[_ngcontent-%COMP%]   .chat-message__text.dark-theme[_ngcontent-%COMP%]{background:#555}.wrapper[_ngcontent-%COMP%]   .chat-message__text-p[_ngcontent-%COMP%]{word-break:break-all}.wrapper[_ngcontent-%COMP%]   .chat-message__text--active[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .chat-message__text[_ngcontent-%COMP%]:hover{box-sizing:border-box;border:1px solid #9acd32}.wrapper[_ngcontent-%COMP%]   .chat-message__sub[_ngcontent-%COMP%]{text-align:right;font-size:10px;color:#6c6c6e;align-items:center}.wrapper[_ngcontent-%COMP%]   .chat-message__sub-reply[_ngcontent-%COMP%]{display:inline-block;margin-right:20px;border-radius:50%;width:15px;height:15px;background:#fff;color:#666;text-align:center}.wrapper[_ngcontent-%COMP%]   .chat-message__sub-author[_ngcontent-%COMP%]{margin-right:20px}.wrapper[_ngcontent-%COMP%]   .chat-message__sub-created[_ngcontent-%COMP%]{margin-right:5px}.wrapper[_ngcontent-%COMP%]   .chat-message__replay[_ngcontent-%COMP%]{padding-left:20px}.wrapper[_ngcontent-%COMP%]   .chat-form[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;height:80px;width:100%}.wrapper[_ngcontent-%COMP%]   .chat-form__status[_ngcontent-%COMP%]{margin:0;font-size:10px;height:20%;color:#6c6c6e}.wrapper[_ngcontent-%COMP%]   .chat-form__form[_ngcontent-%COMP%]{height:80%}.wrapper[_ngcontent-%COMP%]   .chat-form__textarea[_ngcontent-%COMP%]{height:100%;width:100%;box-sizing:border-box}.wrapper[_ngcontent-%COMP%]   .chat-form__textarea.dark-theme[_ngcontent-%COMP%]{background:#555;color:#fff}.svg__icon[_ngcontent-%COMP%]{cursor:pointer}.svg__icon[_ngcontent-%COMP%]:hover{color:#3f51b5}"],changeDetection:0}),t})();function Xn(t,e){if(1&t){const t=o.Tb();o.Sb(0,"li",14),o.Zb("click",function(){o.qc(t);const n=e.$implicit;return o.dc(3).onClickMessage(n)}),o.zc(1),o.Rb()}if(2&t){const t=e.$implicit;o.Bb(1),o.Cc(" ",t.line,"-",t.message,"(",t.target,") ")}}function Qn(t,e){if(1&t&&(o.Qb(0),o.zc(1),o.Sb(2,"ul",12),o.xc(3,Xn,2,3,"li",13),o.Rb(),o.Pb()),2&t){const t=o.dc(2);o.Bb(1),o.Bc(" ","count: "+t.textLintErrors.length," "),o.Bb(2),o.jc("ngForOf",t.textLintErrors)}}function Jn(t,e){1&t&&(o.Sb(0,"p"),o.zc(1,"no text lint errors"),o.Rb())}function ti(t,e){if(1&t&&(o.Qb(0),o.xc(1,Qn,4,2,"ng-container",9),o.xc(2,Jn,2,0,"ng-template",null,11,o.yc),o.Pb()),2&t){const t=o.oc(3),e=o.dc();o.Bb(1),o.jc("ngIf",e.textLintErrors.length>0)("ngIfElse",t)}}function ei(t,e){1&t&&(o.Qb(0),o.Sb(1,"p"),o.zc(2,"textlint something went wrong"),o.Rb(),o.Sb(3,"p"),o.zc(4,"please try again latter"),o.Rb(),o.Pb())}function ni(t,e){1&t&&(o.Sb(0,"p"),o.zc(1,"try text lint"),o.Rb())}function ii(t,e){if(1&t&&(o.xc(0,ei,5,0,"ng-container",9),o.xc(1,ni,2,0,"ng-template",null,15,o.yc)),2&t){const t=o.oc(2),e=o.dc();o.jc("ngIf",e.textLintRaisedError)("ngIfElse",t)}}let ri=(()=>{class t{constructor(t,e,n){this.scriptService=t,this.cd=e,this.editorService=n,this.unsubscriber$=new _.a,this.textLintRaisedError=!1}ngOnInit(){this.editorService.initialized$.pipe(Object(ln.a)(),Object(C.a)(this.unsubscriber$)).subscribe(()=>{this.textLint()})}ngOnDestroy(){this.unsubscriber$.next()}textLint(){const t=this.editorService.getText();if(!t)return;this.removeOldLint();const e=this.scriptService.loadingStateChange();this.scriptService.textLint(t).pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{const n=this.editorService.applyTextLintResult(t);this.textLintErrors=n.messages,this.cd.markForCheck(),this.scriptService.loadingStateChange(e)},t=>{this.textLintRaisedError=!0,this.textLintErrors=void 0,this.cd.markForCheck(),this.scriptService.loadingStateChange(e)})}removeOldLint(){this.editorService.removeTextLintResult()}onClickMessage(t){this.editorService.focusTextLintMessage(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(Cn),o.Mb(o.h),o.Mb(wn))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-console"]],inputs:{darkTheme:"darkTheme"},decls:14,vars:7,consts:[[1,"wrapper"],["mat-stretch-tabs",""],["label","chat"],[3,"darkTheme"],["label","textlint"],[1,"textlint-result"],["type","button",1,"textlint-result__button","textlint-result__show-button",3,"click"],["type","button",1,"textlint-result__button","textlint-result__remove-button",3,"click"],[1,"textlint-result__content"],[4,"ngIf","ngIfElse"],["NoResult",""],["NoTextLintErrors",""],[1,"textlint-detail"],["class","textlint-detail__li",3,"click",4,"ngFor","ngForOf"],[1,"textlint-detail__li",3,"click"],["tryTextLint",""]],template:function(t,e){if(1&t&&(o.Sb(0,"div",0),o.Sb(1,"mat-tab-group",1),o.Sb(2,"mat-tab",2),o.Nb(3,"app-chat",3),o.Rb(),o.Sb(4,"mat-tab",4),o.Sb(5,"div",5),o.Sb(6,"button",6),o.Zb("click",function(){return e.textLint()}),o.zc(7," Refresh "),o.Rb(),o.Sb(8,"button",7),o.Zb("click",function(){return e.removeOldLint()}),o.zc(9," Remove "),o.Rb(),o.Sb(10,"div",8),o.xc(11,ti,4,2,"ng-container",9),o.xc(12,ii,3,2,"ng-template",null,10,o.yc),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&t){const t=o.oc(13);o.Eb("dark-theme",e.darkTheme),o.Bb(3),o.jc("darkTheme",e.darkTheme),o.Bb(7),o.Eb("dark-theme",e.darkTheme),o.Bb(1),o.jc("ngIf",!!e.textLintErrors)("ngIfElse",t)}},directives:[Le,we,Yn,r.l,r.k],styles:[".wrapper[_ngcontent-%COMP%]{border:1px solid #000;padding:5px}.wrapper[_ngcontent-%COMP%]:not(.dark-theme){background-color:#dcdde0}.wrapper[_ngcontent-%COMP%]   .textlint-result__button[_ngcontent-%COMP%]{background-color:#777;color:#fff;cursor:pointer;padding:18px;border:none;text-align:left;outline:none;font-size:15px}.wrapper[_ngcontent-%COMP%]   .textlint-result__button[_ngcontent-%COMP%]:hover{background-color:#555}.wrapper[_ngcontent-%COMP%]   .textlint-result__remove-button[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .textlint-result__show-button[_ngcontent-%COMP%]{width:50%}.wrapper[_ngcontent-%COMP%]   .textlint-result__content[_ngcontent-%COMP%]{padding:0 18px;overflow:hidden}.wrapper[_ngcontent-%COMP%]   .textlint-result__content[_ngcontent-%COMP%]:not(.dark-theme){background:#f1f1f1}.wrapper[_ngcontent-%COMP%]   .textlint-result__content[_ngcontent-%COMP%]   .textlint-detail__li[_ngcontent-%COMP%]{padding-bottom:5px}.wrapper[_ngcontent-%COMP%]   .textlint-result__content[_ngcontent-%COMP%]   .textlint-detail__li[_ngcontent-%COMP%]:hover{border-bottom:1px solid #000;cursor:pointer}"],changeDetection:0}),t})();function oi(t,e){1&t&&(o.Sb(0,"mat-error"),o.zc(1," Title is "),o.Sb(2,"strong"),o.zc(3,"required"),o.Rb(),o.Rb())}function si(t,e){if(1&t&&(o.Sb(0,"div",22),o.Sb(1,"p"),o.zc(2,"last update:"),o.Rb(),o.Sb(3,"p"),o.zc(4),o.ec(5,"date"),o.Rb(),o.Rb()),2&t){const t=o.dc(2);o.Bb(4),o.Ac(o.gc(5,1,t.script.updated,"short"))}}function ai(t,e){1&t&&(o.Sb(0,"div",23),o.Nb(1,"div",24),o.Rb())}function ci(t,e){if(1&t){const t=o.Tb();o.Sb(0,"div",4),o.Sb(1,"div",5),o.Sb(2,"form",6),o.Sb(3,"div",7),o.Sb(4,"mat-form-field",8),o.Sb(5,"mat-label"),o.zc(6,"Title"),o.Rb(),o.Nb(7,"input",9),o.xc(8,oi,4,0,"mat-error",10),o.Rb(),o.Rb(),o.Sb(9,"div",7),o.Sb(10,"div",11),o.Zb("click",function(){return o.qc(t),o.dc().save()}),o.Sb(11,"mat-icon",12),o.zc(12,"save"),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(13,"div",6),o.Sb(14,"div",11),o.Zb("click",function(){return o.qc(t),o.dc().deleteScript()}),o.Sb(15,"mat-icon",12),o.zc(16,"inventory_2"),o.Rb(),o.Rb(),o.Rb(),o.Sb(17,"div",6),o.Sb(18,"div",11),o.Zb("click",function(){return o.qc(t),o.dc().copy2Clipboard()}),o.Sb(19,"mat-icon",12),o.zc(20,"content_copy"),o.Rb(),o.Rb(),o.Rb(),o.Sb(21,"div",6),o.Sb(22,"div",11),o.Zb("click",function(){return o.qc(t),o.dc().undo()}),o.Sb(23,"mat-icon",12),o.zc(24,"undo"),o.Rb(),o.Rb(),o.Rb(),o.Sb(25,"div",6),o.Sb(26,"div",11),o.Zb("click",function(){return o.qc(t),o.dc().redo()}),o.Sb(27,"mat-icon",12),o.zc(28,"redo"),o.Rb(),o.Rb(),o.Rb(),o.Sb(29,"div",6),o.Sb(30,"button",3),o.Zb("click",function(){return o.qc(t),o.dc().navigateSubtitle()}),o.zc(31," To subtitle "),o.Rb(),o.Rb(),o.xc(32,si,6,4,"div",13),o.Rb(),o.Sb(33,"main",14),o.Sb(34,"div",15),o.Sb(35,"app-tool-box",16),o.Zb("toggleSubtitleButton",function(){o.qc(t);const e=o.dc();return e.showSubtitleLine=!e.showSubtitleLine}),o.Rb(),o.Rb(),o.Sb(36,"div",17),o.xc(37,ai,2,0,"div",18),o.Sb(38,"quill-editor",19),o.Zb("onEditorCreated",function(e){return o.qc(t),o.dc().onEditorCreated(e)})("onContentChanged",function(e){return o.qc(t),o.dc().onContentChanged(e)})("onSelectionChanged",function(e){return o.qc(t),o.dc().onSelectionChanged(e)}),o.Rb(),o.Sb(39,"div",20),o.Nb(40,"app-console",21),o.Rb(),o.Rb(),o.Nb(41,"app-balloon",21),o.Rb(),o.Rb()}if(2&t){const t=o.dc();o.Eb("dark-theme",t.darkTheme),o.Bb(7),o.jc("formControl",t.titleFormControl),o.Bb(1),o.jc("ngIf",t.titleFormControl.hasError("required")),o.Bb(24),o.jc("ngIf",t.script.updated),o.Bb(2),o.Eb("dark-theme",t.darkTheme),o.Bb(3),o.jc("ngIf",t.showSubtitleLine),o.Bb(1),o.Eb("dark-theme",t.darkTheme),o.Bb(2),o.jc("darkTheme",t.darkTheme),o.Bb(1),o.jc("darkTheme",t.darkTheme)}}function li(t,e){1&t&&(o.Sb(0,"div",25),o.zc(1,"loading"),o.Rb())}const hi=[{path:"",component:on},{path:":id",component:(()=>{class t{constructor(t,e,n,i,r,o,a,c){this.route=t,this.router=e,this.cd=n,this.scriptService=i,this.renderer=r,this.editorService=o,this.elementRef=a,this.appService=c,this.blurred=!1,this.focused=!1,this.showSubtitleLine=!0,this.loading=!1,this.darkTheme=!1,this.titleFormControl=new s.e("",[s.u.required]),this.consolePositionTop=0,this.initialized$=new an.a(1),this.unsubscriber$=new _.a,this.autoSave$=new _.a,this.appService.darkTheme$.pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.darkTheme=t,this.cd.markForCheck()}),this.scriptService.loadingState$.pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.loading=t,this.cd.markForCheck()});const l=this.route.snapshot.paramMap.get("id");"new"===l?(this.script=new bn,this.initialScript=new bn,this.cd.markForCheck(),this.initialized$.next()):this.scriptService.getScript(parseInt(l,10)).pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.script=t,this.initialScript=this.script.clone(),this.titleFormControl.setValue(this.script.title),this.cd.markForCheck(),this.initialized$.next()}),this.initialized$.pipe(Object(cn.a)(()=>this.autoSave$),Object(S.a)(3e4),Object(C.a)(this.unsubscriber$)).subscribe(()=>{this.save()})}onEditorCreated(t){this.initialized$.pipe(Object(ln.a)(),Object(C.a)(this.unsubscriber$)).subscribe(()=>{const e=t.getContents();e.ops=this.script.deltaOps,this.editorService.initialize(this.script.id,t,e)})}onContentChanged(t){this.editorService.onContentChanged(t),this.autoSave$.next()}onSelectionChanged(t){this.editorService.onSelectionChange(t)}ngOnInit(){}ngOnDestroy(){this.unsubscriber$.next()}ngAfterViewInit(){this.initialized$.pipe(Object(ln.a)(),Object(C.a)(this.unsubscriber$)).subscribe(()=>Object(sn.a)(this,void 0,void 0,function*(){this.cd.detectChanges(),this.registerEditorEventListener(),this.consolePositionTop=document.querySelector(".tool-box__wrapper").getBoundingClientRect().height})),Object(Qt.a)(window,"resize").pipe(Object(wt.a)(()=>window.innerWidth),Object(w.a)(),Object(S.a)(300),Object(C.a)(this.unsubscriber$)).subscribe(t=>{t<400&&(this.showSubtitleLine=!1,this.cd.markForCheck())})}canDeactivate(){return this.script.deltaOps=this.editorService.getDelta(),!!this.script.isEqual(this.initialScript)||window.confirm("Are you sure you want to leave this page before you save this script")}save(){this.script.title=this.titleFormControl.value,this.script.deltaOps=this.editorService.getDelta(),0!==this.script.deltaOps.length&&this.script.title&&(this.script.isEqual(this.initialScript)||(this.script.id?this.scriptService.putScript(this.script).pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.script=t,this.initialScript=t.clone(),this.cd.markForCheck()}):this.scriptService.postScript(this.script).pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.script=t,this.initialScript=t.clone(),this.cd.markForCheck(),this.router.navigate([`../${t.id}`],{relativeTo:this.route})})))}copy2Clipboard(){this.renderer.createElement("div").innerHTML=this.script.deltaOps.map(t=>t.insert).join("");const t=document.createElement("textarea");t.value=this.editorService.getText(),document.body.appendChild(t),t.select(),t.setSelectionRange(0,9999),document.execCommand("copy"),document.body.removeChild(t)}deleteScript(){window.confirm("Are you sure you want to delete")&&this.scriptService.deleteScript(this.script.id).pipe(Object(C.a)(this.unsubscriber$)).subscribe(()=>{this.router.navigate(["../"],{relativeTo:this.route})})}scrollTop(){window.scroll({top:0,behavior:"smooth"})}navigateSubtitle(){this.renderer.createElement("div").innerHTML=this.script.deltaOps.map(t=>t.insert).join("");const t=this.editorService.getText();localStorage.setItem(pn.a.subtitleLocalStorageKey,t),this.router.navigate(["/subtitle"])}undo(){this.editorService.undo()}redo(){this.editorService.redo()}registerEditorEventListener(){Object(Qt.a)(this.editorComponent.elementRef.nativeElement,"mouseup").pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.balloonComponent.selectionChange(t);const e=t.target.closest("[data-comment-uuid]");if(e){const t=e.getAttribute("data-comment-uuid");this.editorService.focusChatMessage(t)}}),Object(Qt.a)(this.editorComponent.elementRef.nativeElement,"keydown").pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{if(t.ctrlKey)switch(t.key){case"z":t.shiftKey?this.editorService.undo():this.editorService.redo(),t.preventDefault();break;case"s":this.autoSave$.next(),this.save(),t.preventDefault()}}),this.editorService.editorFocus$.pipe(Object(C.a)(this.unsubscriber$)).subscribe(({uuid:t,type:e})=>{let n;switch(e){case"textlint":n=this.elementRef.nativeElement.querySelector(`[data-lint-uuid="${t}"]`);break;case"comment":n=this.elementRef.nativeElement.querySelector(`[data-comment-uuid="${t}"]`)}if(!n)return;this.renderer.addClass(n,"focused");const i=n.getBoundingClientRect().y+window.scrollY-300;window.scroll({top:i<300?0:i,behavior:"smooth"}),Object(Qt.a)(document,"click").pipe(t=>t.lift(new un(1)),Object(k.a)(t=>!n.contains(t.target)),Object(ln.a)(),Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.renderer.removeClass(n,"focused")})})}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(Je.a),o.Mb(Je.b),o.Mb(o.h),o.Mb(Cn),o.Mb(o.F),o.Mb(wn),o.Mb(o.l),o.Mb(yn.a))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-script"]],viewQuery:function(t,e){if(1&t&&(o.Dc(On,1),o.Dc(Ve.a,1)),2&t){let t;o.nc(t=o.ac())&&(e.balloonComponent=t.first),o.nc(t=o.ac())&&(e.editorComponent=t.first)}},features:[o.Ab([wn])],decls:5,vars:2,consts:[["class","wrapper",3,"dark-theme",4,"ngIf"],["class","loading-modal",4,"ngIf"],[1,"scroller"],["mat-raised-button","","color","primary",3,"click"],[1,"wrapper"],[1,"tool"],[1,"tool__item"],[1,"form__item"],["appearance","fill"],["matInput","",3,"formControl"],[4,"ngIf"],[3,"click"],[1,"svg__icon"],["class","tool__item tool__item--right",4,"ngIf"],[1,"main"],[1,"tool-box__wrapper"],[3,"toggleSubtitleButton"],[1,"editor"],["class","editor__subtitle",4,"ngIf"],[1,"editor__main",3,"onEditorCreated","onContentChanged","onSelectionChanged"],[1,"console__wrapper"],[3,"darkTheme"],[1,"tool__item","tool__item--right"],[1,"editor__subtitle"],[1,"editor__subtitle-line"],[1,"loading-modal"]],template:function(t,e){1&t&&(o.xc(0,ci,42,12,"div",0),o.xc(1,li,2,0,"div",1),o.Sb(2,"div",2),o.Sb(3,"button",3),o.Zb("click",function(){return e.scrollTop()}),o.zc(4,"\u2191"),o.Rb(),o.Rb()),2&t&&(o.jc("ngIf",!!e.script),o.Bb(1),o.jc("ngIf",e.loading))},directives:[r.l,a.b,s.v,s.o,s.p,A.c,A.f,p.b,s.c,s.n,s.f,d.a,Pn,Ve.a,ri,On,A.b],pipes:[r.e],styles:['body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}body.dark-theme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}body.dark-theme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#607d8b}.tool[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.tool__item[_ngcontent-%COMP%]{margin-right:20px}.tool__item--right[_ngcontent-%COMP%]{margin-left:auto}form[_ngcontent-%COMP%]{display:flex}form[_ngcontent-%COMP%]   .form__item[_ngcontent-%COMP%]{margin-right:20px}.wrapper[_ngcontent-%COMP%]{margin:10px}.tool-box__wrapper[_ngcontent-%COMP%]{height:60px;position:sticky;top:0;z-index:2;box-sizing:border-box;background:#fff}.tool-box__wrapper.dark-theme[_ngcontent-%COMP%]{background:#303030}.editor[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}@media screen and (min-width:400px){.editor[_ngcontent-%COMP%]{flex-wrap:nowrap}}.editor__subtitle[_ngcontent-%COMP%]{align-self:stretch;position:relative}.editor__subtitle-line[_ngcontent-%COMP%]{position:absolute;left:450px;width:3px;height:100%;background-color:rgba(255,0,0,.2)}  .editor__main{min-height:600px;width:100%;border:1px solid #000;white-space:pre-line}@media screen and (min-width:400px){  .editor__main{flex:70%;width:auto}}  .editor__main .ql-toolbar{position:sticky;top:60px;z-index:1;background:#fff}  .editor__main.dark-theme .ql-toolbar{background:#303030}  .editor__main [data-comment-uuid]{position:relative;border-bottom:2px dotted green;padding-bottom:2px}  .editor__main [data-comment-uuid]:hover:after{content:attr(data-comment-message) "";position:absolute;top:20px;left:10px;z-index:25;background-color:silver;box-shadow:0 0 10px;width:200px;border:1px solid green}  .editor__main [data-comment-uuid].focused{border:5px solid green}  .editor__main [data-lint-uuid]{position:relative;border-bottom:2px dotted red}  .editor__main [data-lint-uuid]:hover:after{content:attr(data-lint-message) "";position:absolute;bottom:20px;left:10px;z-index:25;background-color:silver;box-shadow:0 0 10px;width:200px;border:1px solid red}  .editor__main [data-lint-uuid].focused{border:5px solid red}  .editor__main.dark-theme [data-comment-uuid]:hover:after,   .editor__main.dark-theme [data-lint-uuid]:hover:after{background-color:#303030}  .editor__main .ql-editor{padding-top:30px}  .editor__main .text--highlighted{background-color:red;opacity:1}  .editor__main .text--underlined{border-bottom:2px solid orange}  .editor__main .text__tooltip-relative{position:relative}  .editor__main .text__tooltip-relative:hover .text__tooltip-absolute{display:inline-block}  .editor__main .text__tooltip-absolute{position:absolute;display:none;padding:2px;background-color:orange;left:20px;bottom:20px}.editor[_ngcontent-%COMP%]   .console__wrapper[_ngcontent-%COMP%]{width:100%;order:-1}@media screen and (min-width:400px){.editor[_ngcontent-%COMP%]   .console__wrapper[_ngcontent-%COMP%]{order:0;flex:30%;width:auto;height:100%;position:sticky;top:60px}}.loading-modal[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:150px;color:red;opacity:.7;z-index:1000}.scroller[_ngcontent-%COMP%]{position:fixed;bottom:10px;left:10px}.svg__icon[_ngcontent-%COMP%]{cursor:pointer}.svg__icon[_ngcontent-%COMP%]:hover{color:#3f51b5}'],changeDetection:0}),t})(),canDeactivate:[tn]}];let ui=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({imports:[[Je.d.forChild(hi)],Je.d]}),t})();Ze.a.register(Xe),Ze.a.register(Qe),Ze.a.register("modules/cursors",Ue.a);let di=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({providers:[{provide:st,useValue:ot}],imports:[[r.c,_t,s.s,s.j,A.e,p.c,ui,a.c,He,Ke.a,Yt.b,d.b,Kt,vt.b,Ve.b.forRoot({modules:{cursors:!0,toolbar:[["bold","italic","underline","strike"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}]]}})]]}),t})()},X607:function(t,e,n){self,t.exports=(()=>{var t={582:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(645),r=n.n(i)()(function(t){return t[1]});r.push([t.id,".ql-container{position:relative;overflow:hidden}.ql-cursor.hidden{display:none}.ql-cursor .ql-cursor-caret-container,.ql-cursor .ql-cursor-flag{position:absolute}.ql-cursor .ql-cursor-flag{z-index:1;transform:translate3d(-1px, -100%, 0);opacity:0;visibility:hidden;color:#fff;padding-bottom:2px;border-radius:0 3px 3px 0}.ql-cursor .ql-cursor-flag.flag-flipped{border-radius:3px 0 0 3px;transform:translate3d(calc(-100% + 1px ), -100%, 0)}@media screen{.ql-cursor .ql-cursor-flag{transition:opacity 0ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0ms,visibility 0ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0ms}}.ql-cursor .ql-cursor-flag .ql-cursor-name{margin-left:5px;margin-right:5px;display:inline-block;margin-top:-2px;white-space:nowrap}.ql-cursor .ql-cursor-flag:hover,.ql-cursor .ql-cursor-flag.show-flag,.ql-cursor .ql-cursor-caret-container:hover+.ql-cursor-flag{opacity:1;visibility:visible;transition:none}.ql-cursor .ql-cursor-flag.no-delay[style]{transition-delay:unset !important}.ql-cursor .ql-cursor-caret-container{margin-left:-9px;padding:0 9px;z-index:1}.ql-cursor .ql-cursor-caret-container .ql-cursor-caret{position:absolute;top:0;bottom:0;width:2px;margin-left:-1px;background-color:attr(data-color)}.ql-cursor .ql-cursor-selection-block{position:absolute;pointer-events:none}",""]);const o=r},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n}).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);i&&r[c[0]]||(n&&(c[2]=c[2]?"".concat(n," and ").concat(c[2]):n),e.push(c))}},e}},465:(t,e,n)=>{t=n.nmd(t);var i="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",s="[object Boolean]",a="[object Date]",c="[object Function]",l="[object GeneratorFunction]",h="[object Map]",u="[object Number]",d="[object Object]",p="[object Promise]",b="[object RegExp]",f="[object Set]",g="[object String]",m="[object Symbol]",_="[object WeakMap]",v="[object ArrayBuffer]",y="[object DataView]",x="[object Float32Array]",C="[object Float64Array]",S="[object Int8Array]",w="[object Int16Array]",O="[object Int32Array]",k="[object Uint8Array]",M="[object Uint8ClampedArray]",j="[object Uint16Array]",R="[object Uint32Array]",A=/\w*$/,E=/^\[object .+?Constructor\]$/,I=/^(?:0|[1-9]\d*)$/,P={};P[o]=P["[object Array]"]=P[v]=P[y]=P[s]=P[a]=P[x]=P[C]=P[S]=P[w]=P[O]=P[h]=P[u]=P[d]=P[b]=P[f]=P[g]=P[m]=P[k]=P[M]=P[j]=P[R]=!0,P["[object Error]"]=P[c]=P[_]=!1;var T="object"==typeof self&&self&&self.Object===Object&&self,L="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g||T||Function("return this")(),D=e&&!e.nodeType&&e,F=D&&t&&!t.nodeType&&t,B=F&&F.exports===D;function z(t,e){return t.set(e[0],e[1]),t}function N(t,e){return t.add(e),t}function q(t,e,n,i){var r=-1,o=t?t.length:0;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function $(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function H(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function V(t,e){return function(n){return t(e(n))}}function G(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var Z,W=Array.prototype,U=Function.prototype,K=Object.prototype,Y=L["__core-js_shared__"],X=(Z=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+Z:"",Q=U.toString,J=K.hasOwnProperty,tt=K.toString,et=RegExp("^"+Q.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=B?L.Buffer:void 0,it=L.Symbol,rt=L.Uint8Array,ot=V(Object.getPrototypeOf,Object),st=Object.create,at=K.propertyIsEnumerable,ct=W.splice,lt=Object.getOwnPropertySymbols,ht=nt?nt.isBuffer:void 0,ut=V(Object.keys,Object),dt=Lt(L,"DataView"),pt=Lt(L,"Map"),bt=Lt(L,"Promise"),ft=Lt(L,"Set"),gt=Lt(L,"WeakMap"),mt=Lt(Object,"create"),_t=Nt(dt),vt=Nt(pt),yt=Nt(bt),xt=Nt(ft),Ct=Nt(gt),St=it?it.prototype:void 0,wt=St?St.valueOf:void 0;function Ot(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function kt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Mt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function jt(t){this.__data__=new kt(t)}function Rt(t,e,n){var i=t[e];J.call(t,e)&&qt(i,n)&&(void 0!==n||e in t)||(t[e]=n)}function At(t,e){for(var n=t.length;n--;)if(qt(t[n][0],e))return n;return-1}function Et(t,e,n,i,r,p,_){var E;if(i&&(E=p?i(t,r,p,_):i(t)),void 0!==E)return E;if(!Zt(t))return t;var I=$t(t);if(I){if(E=function(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&J.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!e)return function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}(t,E)}else{var T=Ft(t),L=T==c||T==l;if(Vt(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(T==d||T==o||L&&!p){if($(t))return p?t:{};if(E=function(t){return"function"!=typeof t.constructor||zt(t)?{}:Zt(e=ot(t))?st(e):{};var e}(L?{}:t),!e)return function(t,e){return Pt(t,Dt(t),e)}(t,function(t,e){return t&&Pt(e,Wt(e),t)}(E,t))}else{if(!P[T])return p?t:{};E=function(t,e,n,i){var r=t.constructor;switch(e){case v:return It(t);case s:case a:return new r(+t);case y:return function(t,e){var n=e?It(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,i);case x:case C:case S:case w:case O:case k:case M:case j:case R:return function(t,e){var n=e?It(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,i);case h:return function(t,e,n){return q(e?n(H(t),!0):H(t),z,new t.constructor)}(t,i,n);case u:case g:return new r(t);case b:return function(t){var e=new t.constructor(t.source,A.exec(t));return e.lastIndex=t.lastIndex,e}(t);case f:return function(t,e,n){return q(e?n(G(t),!0):G(t),N,new t.constructor)}(t,i,n);case m:return wt?Object(wt.call(t)):{}}}(t,T,Et,e)}}_||(_=new jt);var D=_.get(t);if(D)return D;if(_.set(t,E),!I)var F=n?function(t){return function(t,e,n){var i=e(t);return $t(t)?i:function(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}(i,n(t))}(t,Wt,Dt)}(t):Wt(t);return function(t,e){for(var n=-1,i=t?t.length:0;++n<i&&!1!==e(t[n],n););}(F||t,function(r,o){F&&(r=t[o=r]),Rt(E,o,Et(r,e,n,i,o,t,_))}),E}function It(t){var e=new t.constructor(t.byteLength);return new rt(e).set(new rt(t)),e}function Pt(t,e,n,i){n||(n={});for(var r=-1,o=e.length;++r<o;){var s=e[r],a=i?i(n[s],t[s],s,n,t):void 0;Rt(n,s,void 0===a?t[s]:a)}return n}function Tt(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function Lt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Zt(t)||(e=t,X&&X in e))&&(Gt(t)||$(t)?et:E).test(Nt(t));var e}(n)?n:void 0}Ot.prototype.clear=function(){this.__data__=mt?mt(null):{}},Ot.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Ot.prototype.get=function(t){var e=this.__data__;if(mt){var n=e[t];return n===i?void 0:n}return J.call(e,t)?e[t]:void 0},Ot.prototype.has=function(t){var e=this.__data__;return mt?void 0!==e[t]:J.call(e,t)},Ot.prototype.set=function(t,e){return this.__data__[t]=mt&&void 0===e?i:e,this},kt.prototype.clear=function(){this.__data__=[]},kt.prototype.delete=function(t){var e=this.__data__,n=At(e,t);return!(n<0||(n==e.length-1?e.pop():ct.call(e,n,1),0))},kt.prototype.get=function(t){var e=this.__data__,n=At(e,t);return n<0?void 0:e[n][1]},kt.prototype.has=function(t){return At(this.__data__,t)>-1},kt.prototype.set=function(t,e){var n=this.__data__,i=At(n,t);return i<0?n.push([t,e]):n[i][1]=e,this},Mt.prototype.clear=function(){this.__data__={hash:new Ot,map:new(pt||kt),string:new Ot}},Mt.prototype.delete=function(t){return Tt(this,t).delete(t)},Mt.prototype.get=function(t){return Tt(this,t).get(t)},Mt.prototype.has=function(t){return Tt(this,t).has(t)},Mt.prototype.set=function(t,e){return Tt(this,t).set(t,e),this},jt.prototype.clear=function(){this.__data__=new kt},jt.prototype.delete=function(t){return this.__data__.delete(t)},jt.prototype.get=function(t){return this.__data__.get(t)},jt.prototype.has=function(t){return this.__data__.has(t)},jt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof kt){var i=n.__data__;if(!pt||i.length<199)return i.push([t,e]),this;n=this.__data__=new Mt(i)}return n.set(t,e),this};var Dt=lt?V(lt,Object):function(){return[]},Ft=function(t){return tt.call(t)};function Bt(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||I.test(t))&&t>-1&&t%1==0&&t<e}function zt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||K)}function Nt(t){if(null!=t){try{return Q.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function qt(t,e){return t===e||t!=t&&e!=e}(dt&&Ft(new dt(new ArrayBuffer(1)))!=y||pt&&Ft(new pt)!=h||bt&&Ft(bt.resolve())!=p||ft&&Ft(new ft)!=f||gt&&Ft(new gt)!=_)&&(Ft=function(t){var e=tt.call(t),n=e==d?t.constructor:void 0,i=n?Nt(n):void 0;if(i)switch(i){case _t:return y;case vt:return h;case yt:return p;case xt:return f;case Ct:return _}return e});var $t=Array.isArray;function Ht(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!Gt(t)}var Vt=ht||function(){return!1};function Gt(t){var e=Zt(t)?tt.call(t):"";return e==c||e==l}function Zt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Wt(t){return Ht(t)?function(t,e){var n=$t(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Ht(t)}(t)&&J.call(t,"callee")&&(!at.call(t,"callee")||tt.call(t)==o)}(t)?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],i=n.length,r=!!i;for(var s in t)!J.call(t,s)||r&&("length"==s||Bt(s,i))||n.push(s);return n}(t):function(t){if(!zt(t))return ut(t);var e=[];for(var n in Object(t))J.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}t.exports=function(t){return Et(t,!0,!0)}},307:(t,e,n)=>{t=n.nmd(t);var i="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",c="[object Date]",l="[object Error]",h="[object Function]",u="[object Map]",d="[object Number]",p="[object Object]",b="[object Promise]",f="[object RegExp]",g="[object Set]",m="[object String]",_="[object WeakMap]",v="[object ArrayBuffer]",y="[object DataView]",x=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,S={};S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S[o]=S[s]=S[v]=S[a]=S[y]=S[c]=S[l]=S[h]=S[u]=S[d]=S[p]=S[f]=S[g]=S[m]=S[_]=!1;var w="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,O="object"==typeof self&&self&&self.Object===Object&&self,k=w||O||Function("return this")(),M=e&&!e.nodeType&&e,j=M&&t&&!t.nodeType&&t,R=j&&j.exports===M,A=R&&w.process,E=function(){try{return A&&A.binding&&A.binding("util")}catch(t){}}(),I=E&&E.isTypedArray;function P(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function T(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function L(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var D,F,B,z=Array.prototype,N=Object.prototype,q=k["__core-js_shared__"],$=Function.prototype.toString,H=N.hasOwnProperty,V=(D=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"",G=N.toString,Z=RegExp("^"+$.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=R?k.Buffer:void 0,U=k.Symbol,K=k.Uint8Array,Y=N.propertyIsEnumerable,X=z.splice,Q=U?U.toStringTag:void 0,J=Object.getOwnPropertySymbols,tt=W?W.isBuffer:void 0,et=(F=Object.keys,B=Object,function(t){return F(B(t))}),nt=Mt(k,"DataView"),it=Mt(k,"Map"),rt=Mt(k,"Promise"),ot=Mt(k,"Set"),st=Mt(k,"WeakMap"),at=Mt(Object,"create"),ct=Et(nt),lt=Et(it),ht=Et(rt),ut=Et(ot),dt=Et(st),pt=U?U.prototype:void 0,bt=pt?pt.valueOf:void 0;function ft(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function gt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function mt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function _t(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new mt;++e<n;)this.add(t[e])}function vt(t){var e=this.__data__=new gt(t);this.size=e.size}function yt(t,e){for(var n=t.length;n--;)if(It(t[n][0],e))return n;return-1}function xt(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Q&&Q in Object(t)?function(t){var e=H.call(t,Q),n=t[Q];try{t[Q]=void 0;var i=!0}catch(t){}var r=G.call(t);return i&&(e?t[Q]=n:delete t[Q]),r}(t):function(t){return G.call(t)}(t)}function Ct(t){return zt(t)&&xt(t)==o}function St(t,e,n,i,r){return t===e||(null==t||null==e||!zt(t)&&!zt(e)?t!=t&&e!=e:function(t,e,n,i,r,h){var b=Tt(t),_=Tt(e),x=b?s:Rt(t),C=_?s:Rt(e),S=(x=x==o?p:x)==p,w=(C=C==o?p:C)==p,O=x==C;if(O&&Lt(t)){if(!Lt(e))return!1;b=!0,S=!1}if(O&&!S)return h||(h=new vt),b||Nt(t)?wt(t,e,n,i,r,h):function(t,e,n,i,r,o,s){switch(n){case y:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case v:return!(t.byteLength!=e.byteLength||!o(new K(t),new K(e)));case a:case c:case d:return It(+t,+e);case l:return t.name==e.name&&t.message==e.message;case f:case m:return t==e+"";case u:var h=T;case g:if(h||(h=L),t.size!=e.size&&!(1&i))return!1;var p=s.get(t);if(p)return p==e;i|=2,s.set(t,e);var b=wt(h(t),h(e),i,r,o,s);return s.delete(t),b;case"[object Symbol]":if(bt)return bt.call(t)==bt.call(e)}return!1}(t,e,x,n,i,r,h);if(!(1&n)){var k=S&&H.call(t,"__wrapped__"),M=w&&H.call(e,"__wrapped__");if(k||M){var j=k?t.value():t,R=M?e.value():e;return h||(h=new vt),r(j,R,n,i,h)}}return!!O&&(h||(h=new vt),function(t,e,n,i,r,o){var s=1&n,a=Ot(t),c=a.length;if(c!=Ot(e).length&&!s)return!1;for(var l=c;l--;){var h=a[l];if(!(s?h in e:H.call(e,h)))return!1}var u=o.get(t);if(u&&o.get(e))return u==e;var d=!0;o.set(t,e),o.set(e,t);for(var p=s;++l<c;){var b=t[h=a[l]],f=e[h];if(i)var g=s?i(f,b,h,e,t,o):i(b,f,h,t,e,o);if(!(void 0===g?b===f||r(b,f,n,i,o):g)){d=!1;break}p||(p="constructor"==h)}if(d&&!p){var m=t.constructor,_=e.constructor;m==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof _&&_ instanceof _||(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,i,r,h))}(t,e,n,i,St,r))}function wt(t,e,n,i,r,o){var s=1&n,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var h=-1,u=!0,d=2&n?new _t:void 0;for(o.set(t,e),o.set(e,t);++h<a;){var p=t[h],b=e[h];if(i)var f=s?i(b,p,h,e,t,o):i(p,b,h,t,e,o);if(void 0!==f){if(f)continue;u=!1;break}if(d){if(!P(e,function(t,e){if(!d.has(e)&&(p===t||r(p,t,n,i,o)))return d.push(e)})){u=!1;break}}else if(p!==b&&!r(p,b,n,i,o)){u=!1;break}}return o.delete(t),o.delete(e),u}function Ot(t){return function(t,e,n){var i=e(t);return Tt(t)?i:function(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}(i,n(t))}(t,qt,jt)}function kt(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function Mt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Bt(t)||function(t){return!!V&&V in t}(t))&&(Dt(t)?Z:x).test(Et(t))}(n)?n:void 0}ft.prototype.clear=function(){this.__data__=at?at(null):{},this.size=0},ft.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ft.prototype.get=function(t){var e=this.__data__;if(at){var n=e[t];return n===i?void 0:n}return H.call(e,t)?e[t]:void 0},ft.prototype.has=function(t){var e=this.__data__;return at?void 0!==e[t]:H.call(e,t)},ft.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=at&&void 0===e?i:e,this},gt.prototype.clear=function(){this.__data__=[],this.size=0},gt.prototype.delete=function(t){var e=this.__data__,n=yt(e,t);return!(n<0||(n==e.length-1?e.pop():X.call(e,n,1),--this.size,0))},gt.prototype.get=function(t){var e=this.__data__,n=yt(e,t);return n<0?void 0:e[n][1]},gt.prototype.has=function(t){return yt(this.__data__,t)>-1},gt.prototype.set=function(t,e){var n=this.__data__,i=yt(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},mt.prototype.clear=function(){this.size=0,this.__data__={hash:new ft,map:new(it||gt),string:new ft}},mt.prototype.delete=function(t){var e=kt(this,t).delete(t);return this.size-=e?1:0,e},mt.prototype.get=function(t){return kt(this,t).get(t)},mt.prototype.has=function(t){return kt(this,t).has(t)},mt.prototype.set=function(t,e){var n=kt(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},_t.prototype.add=_t.prototype.push=function(t){return this.__data__.set(t,i),this},_t.prototype.has=function(t){return this.__data__.has(t)},vt.prototype.clear=function(){this.__data__=new gt,this.size=0},vt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},vt.prototype.get=function(t){return this.__data__.get(t)},vt.prototype.has=function(t){return this.__data__.has(t)},vt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof gt){var i=n.__data__;if(!it||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new mt(i)}return n.set(t,e),this.size=n.size,this};var jt=J?function(t){return null==t?[]:(t=Object(t),function(e,n){for(var i=-1,r=null==e?0:e.length,o=0,s=[];++i<r;){var a=e[i];Y.call(t,a)&&(s[o++]=a)}return s}(J(t)))}:function(){return[]},Rt=xt;function At(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||C.test(t))&&t>-1&&t%1==0&&t<e}function Et(t){if(null!=t){try{return $.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function It(t,e){return t===e||t!=t&&e!=e}(nt&&Rt(new nt(new ArrayBuffer(1)))!=y||it&&Rt(new it)!=u||rt&&Rt(rt.resolve())!=b||ot&&Rt(new ot)!=g||st&&Rt(new st)!=_)&&(Rt=function(t){var e=xt(t),n=e==p?t.constructor:void 0,i=n?Et(n):"";if(i)switch(i){case ct:return y;case lt:return u;case ht:return b;case ut:return g;case dt:return _}return e});var Pt=Ct(function(){return arguments}())?Ct:function(t){return zt(t)&&H.call(t,"callee")&&!Y.call(t,"callee")},Tt=Array.isArray,Lt=tt||function(){return!1};function Dt(t){if(!Bt(t))return!1;var e=xt(t);return e==h||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ft(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}function Bt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function zt(t){return null!=t&&"object"==typeof t}var Nt=I?function(t){return function(e){return t(e)}}(I):function(t){return zt(t)&&Ft(t.length)&&!!S[xt(t)]};function qt(t){return null!=(e=t)&&Ft(e.length)&&!Dt(e)?function(t,e){var n=Tt(t),i=!n&&Pt(t),r=!n&&!i&&Lt(t),o=!n&&!i&&!r&&Nt(t),s=n||i||r||o,a=s?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],c=a.length;for(var l in t)!H.call(t,l)||s&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||At(l,c))||a.push(l);return a}(t):function(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||N))return et(t);var e,n,i=[];for(var r in Object(t))H.call(t,r)&&"constructor"!=r&&i.push(r);return i}(t);var e}t.exports=function(t,e){return St(t,e)}},210:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(n(465)),s=i(n(307));!function(t){t.compose=function(t,e,n){void 0===t&&(t={}),void 0===e&&(e={}),"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var i=o.default(e);for(var r in n||(i=Object.keys(i).reduce(function(t,e){return null!=i[e]&&(t[e]=i[e]),t},{})),t)void 0!==t[r]&&void 0===e[r]&&(i[r]=t[r]);return Object.keys(i).length>0?i:void 0},t.diff=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce(function(n,i){return s.default(t[i],e[i])||(n[i]=void 0===e[i]?null:e[i]),n},{});return Object.keys(n).length>0?n:void 0},t.invert=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),t=t||{};var n=Object.keys(e).reduce(function(n,i){return e[i]!==t[i]&&void 0!==t[i]&&(n[i]=e[i]),n},{});return Object.keys(t).reduce(function(n,i){return t[i]!==e[i]&&void 0===e[i]&&(n[i]=null),n},n)},t.transform=function(t,e,n){if(void 0===n&&(n=!1),"object"!=typeof t)return e;if("object"==typeof e){if(!n)return e;var i=Object.keys(e).reduce(function(n,i){return void 0===t[i]&&(n[i]=e[i]),n},{});return Object.keys(i).length>0?i:void 0}}}(r||(r={})),e.default=r},895:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},r=i(n(103)),o=i(n(465)),s=i(n(307)),a=i(n(210)),c=i(n(430)),l=String.fromCharCode(0),h=function(){function t(t){this.ops=Array.isArray(t)?t:null!=t&&Array.isArray(t.ops)?t.ops:[]}return t.prototype.insert=function(t,e){var n={};return"string"==typeof t&&0===t.length?this:(n.insert=t,null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},t.prototype.delete=function(t){return t<=0?this:this.push({delete:t})},t.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};return null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},t.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=o.default(t),"object"==typeof n){if("number"==typeof t.delete&&"number"==typeof n.delete)return this.ops[e-1]={delete:n.delete+t.delete},this;if("number"==typeof n.delete&&null!=t.insert&&"object"!=typeof(n=this.ops[(e-=1)-1]))return this.ops.unshift(t),this;if(s.default(t.attributes,n.attributes)){if("string"==typeof t.insert&&"string"==typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},t.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},t.prototype.filter=function(t){return this.ops.filter(t)},t.prototype.forEach=function(t){this.ops.forEach(t)},t.prototype.map=function(t){return this.ops.map(t)},t.prototype.partition=function(t){var e=[],n=[];return this.forEach(function(i){(t(i)?e:n).push(i)}),[e,n]},t.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},t.prototype.changeLength=function(){return this.reduce(function(t,e){return e.insert?t+c.default.length(e):e.delete?t-e.delete:t},0)},t.prototype.length=function(){return this.reduce(function(t,e){return t+c.default.length(e)},0)},t.prototype.slice=function(e,n){void 0===e&&(e=0),void 0===n&&(n=1/0);for(var i=[],r=c.default.iterator(this.ops),o=0;o<n&&r.hasNext();){var s=void 0;o<e?s=r.next(e-o):(s=r.next(n-o),i.push(s)),o+=c.default.length(s)}return new t(i)},t.prototype.compose=function(e){var n=c.default.iterator(this.ops),i=c.default.iterator(e.ops),r=[],o=i.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){for(var l=o.retain;"insert"===n.peekType()&&n.peekLength()<=l;)l-=n.peekLength(),r.push(n.next());o.retain-l>0&&i.next(o.retain-l)}for(var h=new t(r);n.hasNext()||i.hasNext();)if("insert"===i.peekType())h.push(i.next());else if("delete"===n.peekType())h.push(n.next());else{var u=Math.min(n.peekLength(),i.peekLength()),d=n.next(u),p=i.next(u);if("number"==typeof p.retain){var b={};"number"==typeof d.retain?b.retain=u:b.insert=d.insert;var f=a.default.compose(d.attributes,p.attributes,"number"==typeof d.retain);if(f&&(b.attributes=f),h.push(b),!i.hasNext()&&s.default(h.ops[h.ops.length-1],b)){var g=new t(n.rest());return h.concat(g).chop()}}else"number"==typeof p.delete&&"number"==typeof d.retain&&h.push(p)}return h.chop()},t.prototype.concat=function(e){var n=new t(this.ops.slice());return e.ops.length>0&&(n.push(e.ops[0]),n.ops=n.ops.concat(e.ops.slice(1))),n},t.prototype.diff=function(e,n){if(this.ops===e.ops)return new t;var i=[this,e].map(function(t){return t.map(function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:l;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")}).join("")}),o=new t,h=r.default(i[0],i[1],n),u=c.default.iterator(this.ops),d=c.default.iterator(e.ops);return h.forEach(function(t){for(var e=t[1].length;e>0;){var n=0;switch(t[0]){case r.default.INSERT:n=Math.min(d.peekLength(),e),o.push(d.next(n));break;case r.default.DELETE:n=Math.min(e,u.peekLength()),u.next(n),o.delete(n);break;case r.default.EQUAL:n=Math.min(u.peekLength(),d.peekLength(),e);var i=u.next(n),c=d.next(n);s.default(i.insert,c.insert)?o.retain(n,a.default.diff(i.attributes,c.attributes)):o.push(c).delete(n)}e-=n}}),o.chop()},t.prototype.eachLine=function(e,n){void 0===n&&(n="\n");for(var i=c.default.iterator(this.ops),r=new t,o=0;i.hasNext();){if("insert"!==i.peekType())return;var s=i.peek(),a=c.default.length(s)-i.peekLength(),l="string"==typeof s.insert?s.insert.indexOf(n,a)-a:-1;if(l<0)r.push(i.next());else if(l>0)r.push(i.next(l));else{if(!1===e(r,i.next(1).attributes||{},o))return;o+=1,r=new t}}r.length()>0&&e(r,{},o)},t.prototype.invert=function(e){var n=new t;return this.reduce(function(t,i){if(i.insert)n.delete(c.default.length(i));else{if(i.retain&&null==i.attributes)return n.retain(i.retain),t+i.retain;if(i.delete||i.retain&&i.attributes){var r=i.delete||i.retain;return e.slice(t,t+r).forEach(function(t){i.delete?n.push(t):i.retain&&i.attributes&&n.retain(c.default.length(t),a.default.invert(i.attributes,t.attributes))}),t+r}}return t},0),n.chop()},t.prototype.transform=function(e,n){if(void 0===n&&(n=!1),n=!!n,"number"==typeof e)return this.transformPosition(e,n);for(var i=e,r=c.default.iterator(this.ops),o=c.default.iterator(i.ops),s=new t;r.hasNext()||o.hasNext();)if("insert"!==r.peekType()||!n&&"insert"===o.peekType())if("insert"===o.peekType())s.push(o.next());else{var l=Math.min(r.peekLength(),o.peekLength()),h=r.next(l),u=o.next(l);if(h.delete)continue;u.delete?s.push(u):s.retain(l,a.default.transform(h.attributes,u.attributes,n))}else s.retain(c.default.length(r.next()));return s.chop()},t.prototype.transformPosition=function(t,e){void 0===e&&(e=!1),e=!!e;for(var n=c.default.iterator(this.ops),i=0;n.hasNext()&&i<=t;){var r=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(i<t||!e)&&(t+=r),i+=r):t-=Math.min(r,t-i)}return t},t.Op=c.default,t.AttributeMap=a.default,t}();t.exports=h},977:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(430)),o=function(){function t(t){this.ops=t,this.index=0,this.offset=0}return t.prototype.hasNext=function(){return this.peekLength()<1/0},t.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,i=r.default.length(e);if(t>=i-n?(t=i-n,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete)return{delete:t};var o={};return e.attributes&&(o.attributes=e.attributes),"number"==typeof e.retain?o.retain=t:o.insert="string"==typeof e.insert?e.insert.substr(n,t):e.insert,o}return{retain:1/0}},t.prototype.peek=function(){return this.ops[this.index]},t.prototype.peekLength=function(){return this.ops[this.index]?r.default.length(this.ops[this.index])-this.offset:1/0},t.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},t.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,n=this.next(),i=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(i)}return[]},t}();e.default=o},430:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(n(977));!function(t){t.iterator=function(t){return new o.default(t)},t.length=function(t){return"number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"string"==typeof t.insert?t.insert.length:1}}(r||(r={})),e.default=r},103:t=>{var e=-1;function n(t,a,c,l){if(t===a)return t?[[0,t]]:[];if(null!=c){var h=function(t,e,n){var i="number"==typeof n?{index:n,length:0}:n.oldRange,r="number"==typeof n?null:n.newRange,o=t.length,s=e.length;if(0===i.length&&(null===r||0===r.length)){var a=i.index,c=t.slice(0,a),l=t.slice(a),h=r?r.index:null,d=a+s-o;if((null===h||h===d)&&!(d<0||d>s)){var p=e.slice(0,d);if((g=e.slice(d))===l){var b=Math.min(a,d);if((_=c.slice(0,b))===(y=p.slice(0,b)))return u(_,c.slice(b),p.slice(b),l)}}if(null===h||h===a){var f=a,g=(p=e.slice(0,f),e.slice(f));if(p===c){var m=Math.min(o-f,s-f);if((v=l.slice(l.length-m))===(x=g.slice(g.length-m)))return u(c,l.slice(0,l.length-m),g.slice(0,g.length-m),v)}}}if(i.length>0&&r&&0===r.length){var _=t.slice(0,i.index),v=t.slice(i.index+i.length);if(!(s<(b=_.length)+(m=v.length))){var y=e.slice(0,b),x=e.slice(s-m);if(_===y&&v===x)return u(_,t.slice(b,o-m),e.slice(b,s-m),v)}}return null}(t,a,c);if(h)return h}var d=r(t,a),p=t.substring(0,d);d=o(t=t.substring(d),a=a.substring(d));var b=t.substring(t.length-d),f=function(t,s){var a;if(!t)return[[1,s]];if(!s)return[[e,t]];var c=t.length>s.length?t:s,l=t.length>s.length?s:t,h=c.indexOf(l);if(-1!==h)return a=[[1,c.substring(0,h)],[0,l],[1,c.substring(h+l.length)]],t.length>s.length&&(a[0][0]=a[2][0]=e),a;if(1===l.length)return[[e,t],[1,s]];var u=function(t,e){var n=t.length>e.length?t:e,i=t.length>e.length?e:t;if(n.length<4||2*i.length<n.length)return null;function s(t,e,n){for(var i,s,a,c,l=t.substring(n,n+Math.floor(t.length/4)),h=-1,u="";-1!==(h=e.indexOf(l,h+1));){var d=r(t.substring(n),e.substring(h)),p=o(t.substring(0,n),e.substring(0,h));u.length<p+d&&(u=e.substring(h-p,h)+e.substring(h,h+d),i=t.substring(0,n-p),s=t.substring(n+d),a=e.substring(0,h-p),c=e.substring(h+d))}return 2*u.length>=t.length?[i,s,a,c,u]:null}var a,c,l,h,u,d=s(n,i,Math.ceil(n.length/4)),p=s(n,i,Math.ceil(n.length/2));return d||p?(a=p?d&&d[4].length>p[4].length?d:p:d,t.length>e.length?(c=a[0],l=a[1],h=a[2],u=a[3]):(h=a[0],u=a[1],c=a[2],l=a[3]),[c,l,h,u,a[4]]):null}(t,s);if(u){var d=u[1],p=u[3],b=u[4],f=n(u[0],u[2]),g=n(d,p);return f.concat([[0,b]],g)}return function(t,n){for(var r=t.length,o=n.length,s=Math.ceil((r+o)/2),a=s,c=2*s,l=new Array(c),h=new Array(c),u=0;u<c;u++)l[u]=-1,h[u]=-1;l[a+1]=0,h[a+1]=0;for(var d=r-o,p=d%2!=0,b=0,f=0,g=0,m=0,_=0;_<s;_++){for(var v=-_+b;v<=_-f;v+=2){for(var y=a+v,x=(k=v===-_||v!==_&&l[y-1]<l[y+1]?l[y+1]:l[y-1]+1)-v;k<r&&x<o&&t.charAt(k)===n.charAt(x);)k++,x++;if(l[y]=k,k>r)f+=2;else if(x>o)b+=2;else if(p&&(w=a+d-v)>=0&&w<c&&-1!==h[w]&&k>=(S=r-h[w]))return i(t,n,k,x)}for(var C=-_+g;C<=_-m;C+=2){for(var S,w=a+C,O=(S=C===-_||C!==_&&h[w-1]<h[w+1]?h[w+1]:h[w-1]+1)-C;S<r&&O<o&&t.charAt(r-S-1)===n.charAt(o-O-1);)S++,O++;if(h[w]=S,S>r)m+=2;else if(O>o)g+=2;else if(!p){var k;if((y=a+d-C)>=0&&y<c&&-1!==l[y]&&(x=a+(k=l[y])-y,k>=(S=r-S)))return i(t,n,k,x)}}}return[[e,t],[1,n]]}(t,s)}(t=t.substring(0,t.length-d),a=a.substring(0,a.length-d));return p&&f.unshift([0,p]),b&&f.push([0,b]),s(f,l),f}function i(t,e,i,r){var o=t.substring(0,i),s=e.substring(0,r),a=t.substring(i),c=e.substring(r),l=n(o,s),h=n(a,c);return l.concat(h)}function r(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,i=Math.min(t.length,e.length),r=i,o=0;n<r;)t.substring(o,r)==e.substring(o,r)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return a(t.charCodeAt(r-1))&&r--,r}function o(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,i=Math.min(t.length,e.length),r=i,o=0;n<r;)t.substring(t.length-r,t.length-o)==e.substring(e.length-r,e.length-o)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return c(t.charCodeAt(t.length-r))&&r--,r}function s(t,n){t.push([0,""]);for(var i,a=0,c=0,u=0,d="",p="";a<t.length;)if(a<t.length-1&&!t[a][1])t.splice(a,1);else switch(t[a][0]){case 1:u++,p+=t[a][1],a++;break;case e:c++,d+=t[a][1],a++;break;case 0:var b=a-u-c-1;if(n){if(b>=0&&h(t[b][1])){var f=t[b][1].slice(-1);if(t[b][1]=t[b][1].slice(0,-1),d=f+d,p=f+p,!t[b][1]){t.splice(b,1),a--;var g=b-1;t[g]&&1===t[g][0]&&(u++,p=t[g][1]+p,g--),t[g]&&t[g][0]===e&&(c++,d=t[g][1]+d,g--),b=g}}l(t[a][1])&&(f=t[a][1].charAt(0),t[a][1]=t[a][1].slice(1),d+=f,p+=f)}if(a<t.length-1&&!t[a][1]){t.splice(a,1);break}if(d.length>0||p.length>0){d.length>0&&p.length>0&&(0!==(i=r(p,d))&&(b>=0?t[b][1]+=p.substring(0,i):(t.splice(0,0,[0,p.substring(0,i)]),a++),p=p.substring(i),d=d.substring(i)),0!==(i=o(p,d))&&(t[a][1]=p.substring(p.length-i)+t[a][1],p=p.substring(0,p.length-i),d=d.substring(0,d.length-i)));var m=u+c;0===d.length&&0===p.length?(t.splice(a-m,m),a-=m):0===d.length?(t.splice(a-m,m,[1,p]),a=a-m+1):0===p.length?(t.splice(a-m,m,[e,d]),a=a-m+1):(t.splice(a-m,m,[e,d],[1,p]),a=a-m+2)}0!==a&&0===t[a-1][0]?(t[a-1][1]+=t[a][1],t.splice(a,1)):a++,u=0,c=0,d="",p=""}""===t[t.length-1][1]&&t.pop();var _=!1;for(a=1;a<t.length-1;)0===t[a-1][0]&&0===t[a+1][0]&&(t[a][1].substring(t[a][1].length-t[a-1][1].length)===t[a-1][1]?(t[a][1]=t[a-1][1]+t[a][1].substring(0,t[a][1].length-t[a-1][1].length),t[a+1][1]=t[a-1][1]+t[a+1][1],t.splice(a-1,1),_=!0):t[a][1].substring(0,t[a+1][1].length)==t[a+1][1]&&(t[a-1][1]+=t[a+1][1],t[a][1]=t[a][1].substring(t[a+1][1].length)+t[a+1][1],t.splice(a+1,1),_=!0)),a++;_&&s(t,n)}function a(t){return t>=55296&&t<=56319}function c(t){return t>=56320&&t<=57343}function l(t){return c(t.charCodeAt(0))}function h(t){return a(t.charCodeAt(t.length-1))}function u(t,n,i,r){return h(t)||l(r)?null:function(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}([[0,t],[e,n],[1,i],[0,r]])}function d(t,e,i){return n(t,e,i,!0)}d.INSERT=1,d.DELETE=e,d.EQUAL=0,t.exports=d},165:function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){var t,e={};function n(t){var e;return t?screen.deviceXDPI===screen.logicalXDPI?t:"length"in t?Array.prototype.map.call(t,n):(e=screen.deviceXDPI/screen.logicalXDPI,{top:t.top/e,bottom:t.bottom/e,left:t.left/e,right:t.right/e,width:t.width/e,height:t.height/e}):t}function i(t,e){var n,i=0,r=1024;if(r>=e.length)return Array.prototype.push.apply(t,e);for(;i<e.length;)n=Array.prototype.push.apply(t,Array.prototype.slice.call(e,i,i+r)),i+=r;return n}return e.isBroken=function(){var e,n,i,r,o,s,a,c;return void 0===t&&(n=document.createElement("p"),i=document.createElement("span"),r=document.createTextNode("aa"),o=document.createTextNode("aa"),(s=document.createElement("img")).setAttribute("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="),a=document.createRange(),t={},n.appendChild(r),n.appendChild(i),i.appendChild(s),i.appendChild(o),document.body.appendChild(n),a.setStart(r,1),a.setEnd(i,0),t.getClientRects=t.getBoundingClientRect=a.getClientRects().length>1,t.getClientRects||(a.setEnd(o,1),t.getClientRects=t.getBoundingClientRect=2===a.getClientRects().length),t.getBoundingClientRect||(a.setEnd(a.startContainer,a.startOffset),e=a.getBoundingClientRect(),t.getBoundingClientRect=0===e.top&&0===e.left),document.body.removeChild(n),c=window.ActiveXObject&&new Function("/*@cc_on return @_jscript_version; @*/")(),t.ieZoom=!!c&&c<=10),t},e.getClientRects=function(t){var e,r,o,s,a,c=this.isBroken();if(c.ieZoom)return n(t.getClientRects());if(!c.getClientRects)return t.getClientRects();function l(t){for(var e=0;t=t.previousSibling;)e++;return e}for(e=[],o=[],r=t.endContainer,s=t.endOffset,a=document.createRange();r!==t.commonAncestorContainer;)a.setStart(r,0),a.setEnd(r,s),i(o,a.getClientRects()),s=l(r),r=r.parentNode;return(a=t.cloneRange()).setEnd(r,s),i(e,a.getClientRects()),i(e,o),e},e.getBoundingClientRect=function(t){var e,i,r,o,s,a,c=this.getClientRects(t);if(0===c.length)return null;if(s=t.getBoundingClientRect(),(a=this.isBroken()).ieZoom)return n(s);if(!a.getBoundingClientRect)return s;if(0===s.width&&0===s.height)return c[0];for(e=0,i=c.length;e<i;e++)o=c[e],r?(r.left=Math.min(r.left,o.left),r.top=Math.min(r.top,o.top),r.right=Math.max(r.right,o.right),r.bottom=Math.max(r.bottom,o.bottom)):r={left:o.left,top:o.top,right:o.right,bottom:o.bottom};return r&&(r.width=r.right-r.left,r.height=r.bottom-r.top),r},e})?i.call(e,n,e,t):i)||(t.exports=r)},33:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>C});var i=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some(function(t,i){return t[0]===e&&(n=i,!0)}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(e,n){var i=t(this.__entries__,e);~i?this.__entries__[i][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,i=t(n,e);~i&&n.splice(i,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];t.call(e,r[1],r[0])}},e}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),s="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},a=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,l=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,i=!1,r=0;function o(){n&&(n=!1,t()),i&&c()}function a(){s(o)}function c(){var t=Date.now();if(n){if(t-r<2)return;i=!0}else n=!0,i=!1,setTimeout(a,20);r=t}return c}(this.refresh.bind(this))}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},t.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;a.some(function(t){return!!~n.indexOf(t)})&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),h=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},u=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||o},d=g(0,0,0,0);function p(t){return parseFloat(t)||0}function b(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(e,n){return e+p(t["border-"+n+"-width"])},0)}var f="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof u(t).SVGGraphicsElement}:function(t){return t instanceof u(t).SVGElement&&"function"==typeof t.getBBox};function g(t,e,n,i){return{x:t,y:e,width:n,height:i}}var m=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=function(t){return r?f(t)?function(t){var e=t.getBBox();return g(0,0,e.width,e.height)}(t):function(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return d;var i=u(t).getComputedStyle(t),r=function(t){for(var e={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n];e[r]=p(t["padding-"+r])}return e}(i),o=r.left+r.right,s=r.top+r.bottom,a=p(i.width),c=p(i.height);if("border-box"===i.boxSizing&&(Math.round(a+o)!==e&&(a-=b(i,"left","right")+o),Math.round(c+s)!==n&&(c-=b(i,"top","bottom")+s)),!function(t){return t===u(t).document.documentElement}(t)){var l=Math.round(a+o)-e,h=Math.round(c+s)-n;1!==Math.abs(l)&&(a-=l),1!==Math.abs(h)&&(c-=h)}return g(r.left,r.top,a,c)}(t):d}(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),_=function(t,e){var n,i,r,o,s,a,c,l=(i=(n=e).x,r=n.y,o=n.width,s=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(a.prototype),h(c,{x:i,y:r,width:o,height:s,top:r,right:i+o,bottom:s+r,left:i}),c);h(this,{target:t,contentRect:l})},v=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new i,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof u(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new m(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof u(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new _(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),y="undefined"!=typeof WeakMap?new WeakMap:new i,x=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=l.getInstance(),i=new v(e,n,this);y.set(this,i)};["observe","unobserve","disconnect"].forEach(function(t){x.prototype[t]=function(){var e;return(e=y.get(this))[t].apply(e,arguments)}});const C=void 0!==o.ResizeObserver?o.ResizeObserver:x},413:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(379),r=n.n(i),o=n(582);r()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}},379:(t,e,n)=>{"use strict";var i,r=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function s(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function a(t,e){for(var n={},i=[],r=0;r<t.length;r++){var a=t[r],c=e.base?a[0]+e.base:a[0],l=n[c]||0,h="".concat(c," ").concat(l);n[c]=l+1;var u=s(h),d={css:a[1],media:a[2],sourceMap:a[3]};-1!==u?(o[u].references++,o[u].updater(d)):o.push({identifier:h,updater:f(d,e),references:1}),i.push(h)}return i}function c(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var o=n.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach(function(t){e.setAttribute(t,i[t])}),"function"==typeof t.insert)t.insert(e);else{var s=r(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var l,h=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function u(t,e,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=h(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function d(t,e,n){var i=n.css,r=n.media,o=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var p=null,b=0;function f(t,e){var n,i,r;if(e.singleton){var o=b++;n=p||(p=c(e)),i=u.bind(null,n,o,!1),r=u.bind(null,n,o,!0)}else n=c(e),i=d.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=a(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var r=s(n[i]);o[r].references--}for(var c=a(t,e),l=0;l<n.length;l++){var h=s(n[l]);0===o[h].references&&(o[h].updater(),o.splice(h,1))}n=c}}}},621:(t,e,n)=>{var i;!function(r){var o=/^\s+/,s=/\s+$/,a=0,c=r.round,l=r.min,h=r.max,u=r.random;function d(t,e){if(e=e||{},(t=t||"")instanceof d)return t;if(!(this instanceof d))return new d(t,e);var n=function(t){var e,n,i={r:0,g:0,b:0},a=1,c=null,u=null,d=null,p=!1,b=!1;return"string"==typeof t&&(t=function(t){t=t.replace(o,"").replace(s,"").toLowerCase();var e,n=!1;if(A[t])t=A[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=H.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=H.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=H.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=H.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=H.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=H.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=H.hex8.exec(t))?{r:L(e[1]),g:L(e[2]),b:L(e[3]),a:z(e[4]),format:n?"name":"hex8"}:(e=H.hex6.exec(t))?{r:L(e[1]),g:L(e[2]),b:L(e[3]),format:n?"name":"hex"}:(e=H.hex4.exec(t))?{r:L(e[1]+""+e[1]),g:L(e[2]+""+e[2]),b:L(e[3]+""+e[3]),a:z(e[4]+""+e[4]),format:n?"name":"hex8"}:!!(e=H.hex3.exec(t))&&{r:L(e[1]+""+e[1]),g:L(e[2]+""+e[2]),b:L(e[3]+""+e[3]),format:n?"name":"hex"}}(t)),"object"==typeof t&&(V(t.r)&&V(t.g)&&V(t.b)?(e=t.g,n=t.b,i={r:255*P(t.r,255),g:255*P(e,255),b:255*P(n,255)},p=!0,b="%"===String(t.r).substr(-1)?"prgb":"rgb"):V(t.h)&&V(t.s)&&V(t.v)?(c=F(t.s),u=F(t.v),i=function(t,e,n){t=6*P(t,360),e=P(e,100),n=P(n,100);var i=r.floor(t),o=t-i,s=n*(1-e),a=n*(1-o*e),c=n*(1-(1-o)*e),l=i%6;return{r:255*[n,a,s,s,c,n][l],g:255*[c,n,n,a,s,s][l],b:255*[s,s,c,n,n,a][l]}}(t.h,c,u),p=!0,b="hsv"):V(t.h)&&V(t.s)&&V(t.l)&&(c=F(t.s),d=F(t.l),i=function(t,e,n){var i,r,o;function s(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=P(t,360),e=P(e,100),n=P(n,100),0===e)i=r=o=n;else{var a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;i=s(c,a,t+1/3),r=s(c,a,t),o=s(c,a,t-1/3)}return{r:255*i,g:255*r,b:255*o}}(t.h,c,d),p=!0,b="hsl"),t.hasOwnProperty("a")&&(a=t.a)),a=I(a),{ok:p,format:t.format||b,r:l(255,h(i.r,0)),g:l(255,h(i.g,0)),b:l(255,h(i.b,0)),a:a}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=c(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=c(this._r)),this._g<1&&(this._g=c(this._g)),this._b<1&&(this._b=c(this._b)),this._ok=n.ok,this._tc_id=a++}function p(t,e,n){t=P(t,255),e=P(e,255),n=P(n,255);var i,r,o=h(t,e,n),s=l(t,e,n),a=(o+s)/2;if(o==s)i=r=0;else{var c=o-s;switch(r=a>.5?c/(2-o-s):c/(o+s),o){case t:i=(e-n)/c+(e<n?6:0);break;case e:i=(n-t)/c+2;break;case n:i=(t-e)/c+4}i/=6}return{h:i,s:r,l:a}}function b(t,e,n){t=P(t,255),e=P(e,255),n=P(n,255);var i,r,o=h(t,e,n),s=l(t,e,n),a=o,c=o-s;if(r=0===o?0:c/o,o==s)i=0;else{switch(o){case t:i=(e-n)/c+(e<n?6:0);break;case e:i=(n-t)/c+2;break;case n:i=(t-e)/c+4}i/=6}return{h:i,s:r,v:a}}function f(t,e,n,i){var r=[D(c(t).toString(16)),D(c(e).toString(16)),D(c(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function g(t,e,n,i){return[D(B(i)),D(c(t).toString(16)),D(c(e).toString(16)),D(c(n).toString(16))].join("")}function m(t,e){e=0===e?0:e||10;var n=d(t).toHsl();return n.s-=e/100,n.s=T(n.s),d(n)}function _(t,e){e=0===e?0:e||10;var n=d(t).toHsl();return n.s+=e/100,n.s=T(n.s),d(n)}function v(t){return d(t).desaturate(100)}function y(t,e){e=0===e?0:e||10;var n=d(t).toHsl();return n.l+=e/100,n.l=T(n.l),d(n)}function x(t,e){e=0===e?0:e||10;var n=d(t).toRgb();return n.r=h(0,l(255,n.r-c(-e/100*255))),n.g=h(0,l(255,n.g-c(-e/100*255))),n.b=h(0,l(255,n.b-c(-e/100*255))),d(n)}function C(t,e){e=0===e?0:e||10;var n=d(t).toHsl();return n.l-=e/100,n.l=T(n.l),d(n)}function S(t,e){var n=d(t).toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,d(n)}function w(t){var e=d(t).toHsl();return e.h=(e.h+180)%360,d(e)}function O(t){var e=d(t).toHsl(),n=e.h;return[d(t),d({h:(n+120)%360,s:e.s,l:e.l}),d({h:(n+240)%360,s:e.s,l:e.l})]}function k(t){var e=d(t).toHsl(),n=e.h;return[d(t),d({h:(n+90)%360,s:e.s,l:e.l}),d({h:(n+180)%360,s:e.s,l:e.l}),d({h:(n+270)%360,s:e.s,l:e.l})]}function M(t){var e=d(t).toHsl(),n=e.h;return[d(t),d({h:(n+72)%360,s:e.s,l:e.l}),d({h:(n+216)%360,s:e.s,l:e.l})]}function j(t,e,n){e=e||6,n=n||30;var i=d(t).toHsl(),r=360/n,o=[d(t)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(d(i));return o}function R(t,e){e=e||6;for(var n=d(t).toHsv(),i=n.h,r=n.s,o=n.v,s=[],a=1/e;e--;)s.push(d({h:i,s:r,v:o})),o=(o+a)%1;return s}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,i=this.toRgb();return e=i.g/255,n=i.b/255,.2126*((t=i.r/255)<=.03928?t/12.92:r.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:r.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:r.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=I(t),this._roundA=c(100*this._a)/100,this},toHsv:function(){var t=b(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=b(this._r,this._g,this._b),e=c(360*t.h),n=c(100*t.s),i=c(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=p(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=p(this._r,this._g,this._b),e=c(360*t.h),n=c(100*t.s),i=c(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return f(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,i,r){var o=[D(c(t).toString(16)),D(c(e).toString(16)),D(c(n).toString(16)),D(B(i))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:c(this._r),g:c(this._g),b:c(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+c(this._r)+", "+c(this._g)+", "+c(this._b)+")":"rgba("+c(this._r)+", "+c(this._g)+", "+c(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:c(100*P(this._r,255))+"%",g:c(100*P(this._g,255))+"%",b:c(100*P(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+c(100*P(this._r,255))+"%, "+c(100*P(this._g,255))+"%, "+c(100*P(this._b,255))+"%)":"rgba("+c(100*P(this._r,255))+"%, "+c(100*P(this._g,255))+"%, "+c(100*P(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(E[f(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+g(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";if(t){var r=d(t);n="#"+g(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1;return e||!(this._a<1&&this._a>=0)||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(C,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(_,arguments)},greyscale:function(){return this._applyModification(v,arguments)},spin:function(){return this._applyModification(S,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(j,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(R,arguments)},splitcomplement:function(){return this._applyCombination(M,arguments)},triad:function(){return this._applyCombination(O,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},d.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]="a"===i?t[i]:F(t[i]));t=n}return d(t,e)},d.equals=function(t,e){return!(!t||!e)&&d(t).toRgbString()==d(e).toRgbString()},d.random=function(){return d.fromRatio({r:u(),g:u(),b:u()})},d.mix=function(t,e,n){n=0===n?0:n||50;var i=d(t).toRgb(),r=d(e).toRgb(),o=n/100;return d({r:(r.r-i.r)*o+i.r,g:(r.g-i.g)*o+i.g,b:(r.b-i.b)*o+i.b,a:(r.a-i.a)*o+i.a})},d.readability=function(t,e){var n=d(t),i=d(e);return(r.max(n.getLuminance(),i.getLuminance())+.05)/(r.min(n.getLuminance(),i.getLuminance())+.05)},d.isReadable=function(t,e,n){var i,r,o,s,a,c=d.readability(t,e);switch(r=!1,(o=n,"AA"!==(s=((o=o||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==s&&(s="AA"),"small"!==(a=(o.size||"small").toLowerCase())&&"large"!==a&&(a="small"),i={level:s,size:a}).level+i.size){case"AAsmall":case"AAAlarge":r=c>=4.5;break;case"AAlarge":r=c>=3;break;case"AAAsmall":r=c>=7}return r},d.mostReadable=function(t,e,n){var i,r,o,s,a=null,c=0;r=(n=n||{}).includeFallbackColors,o=n.level,s=n.size;for(var l=0;l<e.length;l++)(i=d.readability(t,e[l]))>c&&(c=i,a=d(e[l]));return d.isReadable(t,a,{level:o,size:s})||!r?a:(n.includeFallbackColors=!1,d.mostReadable(t,["#fff","#000"],n))};var A=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},E=d.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(A);function I(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function P(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=l(e,h(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),r.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function T(t){return l(1,h(0,t))}function L(t){return parseInt(t,16)}function D(t){return 1==t.length?"0"+t:""+t}function F(t){return t<=1&&(t=100*t+"%"),t}function B(t){return r.round(255*parseFloat(t)).toString(16)}function z(t){return L(t)/255}var N,q,$,H=(q="[\\s|\\(]+("+(N="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",$="[\\s|\\(]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",{CSS_UNIT:new RegExp(N),rgb:new RegExp("rgb"+q),rgba:new RegExp("rgba"+$),hsl:new RegExp("hsl"+q),hsla:new RegExp("hsla"+$),hsv:new RegExp("hsv"+q),hsva:new RegExp("hsva"+$),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function V(t){return!!H.CSS_UNIT.exec(t)}t.exports?t.exports=d:void 0===(i=(function(){return d}).call(e,n,e,t))||(t.exports=i)}(Math)},607:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=e.default=void 0;var r=i(n(678));e.default=r.default;var o=i(n(353));e.Cursor=o.default,n(413)},353:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(621),r=function(){function t(t,e,n){this.id=t,this.name=e,this.color=n}return t.prototype.build=function(e){var n=document.createElement(t.CONTAINER_ELEMENT_TAG);n.classList.add(t.CURSOR_CLASS),n.id="ql-cursor-"+this.id,n.innerHTML=e.template;var i=n.getElementsByClassName(t.SELECTION_CLASS)[0],r=n.getElementsByClassName(t.CARET_CONTAINER_CLASS)[0],o=r.getElementsByClassName(t.CARET_CLASS)[0],s=n.getElementsByClassName(t.FLAG_CLASS)[0];return s.style.backgroundColor=this.color,o.style.backgroundColor=this.color,n.getElementsByClassName(t.NAME_CLASS)[0].textContent=this.name,this._hideDelay=e.hideDelayMs+"ms",this._hideSpeedMs=e.hideSpeedMs,this._positionFlag=e.positionFlag,s.style.transitionDelay=this._hideDelay,s.style.transitionDuration=this._hideSpeedMs+"ms",this._el=n,this._selectionEl=i,this._caretEl=r,this._flagEl=s,this._el},t.prototype.show=function(){this._el.classList.remove(t.HIDDEN_CLASS)},t.prototype.hide=function(){this._el.classList.add(t.HIDDEN_CLASS)},t.prototype.remove=function(){this._el.parentNode.removeChild(this._el)},t.prototype.toggleFlag=function(e){var n=this;this._flagEl.classList.toggle(t.SHOW_FLAG_CLASS,e)||(this._flagEl.classList.add(t.NO_DELAY_CLASS),setTimeout(function(){return n._flagEl.classList.remove(t.NO_DELAY_CLASS)},this._hideSpeedMs))},t.prototype.updateCaret=function(t,e){this._caretEl.style.top=t.top+"px",this._caretEl.style.left=t.left+"px",this._caretEl.style.height=t.height+"px",this._positionFlag?this._positionFlag(this._flagEl,t,e):this._updateCaretFlag(t,e)},t.prototype.updateSelection=function(t,e){var n=this;this._clearSelection(),t=t||[],t=Array.from(t),t=this._sanitize(t),(t=this._sortByDomPosition(t)).forEach(function(t){return n._addSelection(t,e)})},t.prototype._updateCaretFlag=function(e,n){this._flagEl.style.width="";var i=this._flagEl.getBoundingClientRect();this._flagEl.classList.remove(t.FLAG_FLIPPED_CLASS),e.left>n.width-i.width&&this._flagEl.classList.add(t.FLAG_FLIPPED_CLASS),this._flagEl.style.left=e.left+"px",this._flagEl.style.top=e.top+"px",this._flagEl.style.width=Math.ceil(i.width)+"px"},t.prototype._clearSelection=function(){this._selectionEl.innerHTML=""},t.prototype._addSelection=function(t,e){var n=this._selectionBlock(t,e);this._selectionEl.appendChild(n)},t.prototype._selectionBlock=function(e,n){var r=document.createElement(t.SELECTION_ELEMENT_TAG);return r.classList.add(t.SELECTION_BLOCK_CLASS),r.style.top=e.top-n.top+"px",r.style.left=e.left-n.left+"px",r.style.width=e.width+"px",r.style.height=e.height+"px",r.style.backgroundColor=i(this.color).setAlpha(.3).toString(),r},t.prototype._sortByDomPosition=function(t){return t.sort(function(t,e){return t.top===e.top?t.left-e.left:t.top-e.top})},t.prototype._sanitize=function(t){var e=this,n=new Set;return t.filter(function(t){if(!t.width||!t.height)return!1;var i=e._serialize(t);return!n.has(i)&&(n.add(i),!0)})},t.prototype._serialize=function(t){return["top:"+t.top,"right:"+t.right,"bottom:"+t.bottom,"left:"+t.left].join(";")},t.CONTAINER_ELEMENT_TAG="SPAN",t.SELECTION_ELEMENT_TAG="SPAN",t.CURSOR_CLASS="ql-cursor",t.SELECTION_CLASS="ql-cursor-selections",t.SELECTION_BLOCK_CLASS="ql-cursor-selection-block",t.CARET_CLASS="ql-cursor-caret",t.CARET_CONTAINER_CLASS="ql-cursor-caret-container",t.FLAG_CLASS="ql-cursor-flag",t.SHOW_FLAG_CLASS="show-flag",t.FLAG_FLIPPED_CLASS="flag-flipped",t.NAME_CLASS="ql-cursor-name",t.HIDDEN_CLASS="hidden",t.NO_DELAY_CLASS="no-delay",t}();e.default=r},678:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=s(n(353)),c=o(n(165)),l=s(n(338)),h=s(n(33)),u=n(895),d=function(){function t(t,e){void 0===e&&(e={}),this._cursors={},this._isObserving=!1,this.quill=t,this.options=this._setDefaults(e),this._container=this.quill.addContainer(this.options.containerClass),this._boundsContainer=this.options.boundsContainer||this.quill.container,this._currentSelection=this.quill.getSelection(),this._registerSelectionChangeListeners(),this._registerTextChangeListener(),this._registerDomListeners()}return t.prototype.createCursor=function(t,e,n){var i=this._cursors[t];if(!i){i=new a.default(t,e,n),this._cursors[t]=i;var r=i.build(this.options);this._container.appendChild(r)}return i},t.prototype.moveCursor=function(t,e){var n=this._cursors[t];n&&(n.range=e,this._updateCursor(n))},t.prototype.removeCursor=function(t){var e=this._cursors[t];e&&(e.remove(),delete this._cursors[t])},t.prototype.update=function(){var t=this;this.cursors().forEach(function(e){return t._updateCursor(e)})},t.prototype.clearCursors=function(){var t=this;this.cursors().forEach(function(e){return t.removeCursor(e.id)})},t.prototype.toggleFlag=function(t,e){var n=this._cursors[t];n&&n.toggleFlag(e)},t.prototype.cursors=function(){var t=this;return Object.keys(this._cursors).map(function(e){return t._cursors[e]})},t.prototype._registerSelectionChangeListeners=function(){var t=this;this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(e){t._currentSelection=e})},t.prototype._registerTextChangeListener=function(){var t=this;this.quill.on(this.quill.constructor.events.TEXT_CHANGE,function(e){return t._handleTextChange(e)})},t.prototype._registerDomListeners=function(){var t=this;this.quill.container.getElementsByClassName("ql-editor")[0].addEventListener("scroll",function(){return t.update()})},t.prototype._registerResizeObserver=function(){var t=this;if(!this._isObserving){var e=this.quill.container.getElementsByClassName("ql-editor")[0],n=new h.default(function(e){e[0].target.isConnected||(n.disconnect(),t._isObserving=!1),t.update()});n.observe(e),this._isObserving=!0}},t.prototype._updateCursor=function(t){if(this._registerResizeObserver(),!t.range)return t.hide();var e=this._indexWithinQuillBounds(t.range.index),n=this._indexWithinQuillBounds(t.range.index+t.range.length),i=this.quill.getLeaf(e),r=this.quill.getLeaf(n);if(!this._leafIsValid(i)||!this._leafIsValid(r))return t.hide();t.show();var o=this._boundsContainer.getBoundingClientRect(),s=this.quill.getBounds(n);t.updateCaret(s,o);var a=this._lineRanges(t,i,r).reduce(function(t,e){return t.concat(Array.from(c.getClientRects(e)))},[]);t.updateSelection(a,o)},t.prototype._indexWithinQuillBounds=function(t){var e=this.quill.getLength(),n=e?e-1:0;return t=Math.max(t,0),Math.min(t,n)},t.prototype._leafIsValid=function(t){return t&&t[0]&&t[0].domNode&&t[1]>=0},t.prototype._handleTextChange=function(t){var e=this;window.setTimeout(function(){e.options.transformOnTextChange&&e._transformCursors(t),e.options.selectionChangeSource&&(e._emitSelection(),e.update())})},t.prototype._emitSelection=function(){this.quill.emitter.emit(this.quill.constructor.events.SELECTION_CHANGE,this.quill.getSelection(),this._currentSelection,this.options.selectionChangeSource)},t.prototype._setDefaults=function(e){return(e=Object.assign({},e)).template||(e.template=t.DEFAULTS.template),e.containerClass||(e.containerClass=t.DEFAULTS.containerClass),null!==e.selectionChangeSource&&(e.selectionChangeSource||(e.selectionChangeSource=t.DEFAULTS.selectionChangeSource)),e.hideDelayMs=Number.isInteger(e.hideDelayMs)?e.hideDelayMs:t.DEFAULTS.hideDelayMs,e.hideSpeedMs=Number.isInteger(e.hideSpeedMs)?e.hideSpeedMs:t.DEFAULTS.hideSpeedMs,e.transformOnTextChange=!!e.transformOnTextChange,e},t.prototype._lineRanges=function(t,e,n){var i=this.quill.getLines(t.range);return i.reduce(function(t,r,o){if(!r.children){var s=document.createRange();return s.selectNode(r.domNode),t.concat(s)}var a=0===o?e:r.path(0).pop(),c=a[0],l=a[1],h=o===i.length-1?n:r.path(r.length()-1).pop(),u=h[0],d=h[1],p=document.createRange();return c.domNode.nodeType===Node.TEXT_NODE?p.setStart(c.domNode,l):p.setStartBefore(c.domNode),u.domNode.nodeType===Node.TEXT_NODE?p.setEnd(u.domNode,d):p.setEndAfter(u.domNode),t.concat(p)},[])},t.prototype._transformCursors=function(t){var e=this;t=new u(t),this.cursors().filter(function(t){return t.range}).forEach(function(n){n.range.index=t.transformPosition(n.range.index),e._updateCursor(n)})},t.DEFAULTS={template:l.default,containerClass:"ql-cursors",selectionChangeSource:"api",hideDelayMs:3e3,hideSpeedMs:400},t}();e.default=d},338:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(353));e.default='\n  <span class="'+r.default.SELECTION_CLASS+'"></span>\n  <span class="'+r.default.CARET_CONTAINER_CLASS+'">\n    <span class="'+r.default.CARET_CLASS+'"></span>\n  </span>\n  <div class="'+r.default.FLAG_CLASS+'">\n    <small class="'+r.default.NAME_CLASS+'"></small>\n  </div>\n'}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),n(607).default})()}}]);