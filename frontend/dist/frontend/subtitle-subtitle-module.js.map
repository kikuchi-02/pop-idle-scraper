{"version":3,"sources":["./src/app/subtitle/subtitle.component.ts","./src/app/subtitle/subtitle.component.html","./src/app/subtitle/subtitle-routing.module.ts","./src/app/subtitle/subtitle.module.ts"],"names":[],"mappings":"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","file":"subtitle-subtitle-module.js","sourcesContent":["import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  OnInit,\n} from '@angular/core';\n\nconst layouts = ['left', 'right', 'both'] as const;\ntype Layout = typeof layouts[number];\n\n@Component({\n  selector: 'app-subtitle',\n  templateUrl: './subtitle.component.html',\n  styleUrls: ['./subtitle.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SubtitleComponent implements OnInit {\n  inputArea = '';\n  outputArea = '';\n\n  layout: Layout = 'both';\n\n  private subtitleLocalStorageKey = 'subtitleLocalStorageKey';\n\n  constructor(private cd: ChangeDetectorRef) {\n    const input = localStorage.getItem(this.subtitleLocalStorageKey);\n    if (input) {\n      this.inputArea = input;\n      this.outputArea = this.formatSubtitle(input);\n      this.cd.markForCheck();\n    }\n  }\n\n  ngOnInit(): void {}\n\n  generateSubtitle(): void {\n    const input = this.inputArea;\n    localStorage.setItem(this.subtitleLocalStorageKey, input);\n    const output = this.formatSubtitle(input);\n    this.outputArea = output;\n    this.cd.markForCheck();\n  }\n\n  applyLayout(type: Layout): void {\n    if (layouts.includes(type)) {\n      this.layout = type;\n      this.cd.markForCheck();\n    }\n  }\n\n  private formatSubtitle(input: string): string {\n    input = input.replace(/[\\(|（].*[\\)|）]/g, '');\n    input = input.replace(/\\n{3,}/g, '\\n\\n');\n    input = input.replace(/、/g, '、\\n');\n    input = input.replace(/。/g, '。\\n');\n\n    const border = '-'.repeat(20);\n    input = input.replace(\n      /\\n(\\d+_\\d+)\\n/g,\n      (match, p) => `\\n${border}${p}${border}\\n`\n    );\n    input = input.replace(\n      /\\n(\\d+)\\n/g,\n      (match, p) => `\\n${border}${p}${border}\\n`\n    );\n    return input;\n  }\n}\n","<div class=\"subtitle_Wrapper\">\n  <button\n    mat-stroked-button\n    color=\"primary\"\n    class=\"subtitle_MainButton\"\n    type=\"button\"\n    (click)=\"generateSubtitle()\"\n  >\n    generate subtitle\n  </button>\n  <div class=\"subtitle_Layout_Buttons\">\n    <button\n      mat-stroked-button\n      color=\"primary\"\n      (click)=\"applyLayout('left')\"\n      [disabled]=\"layout === 'left'\"\n    >\n      input\n    </button>\n    <button\n      mat-stroked-button\n      color=\"primary\"\n      (click)=\"applyLayout('right')\"\n      [disabled]=\"layout === 'right'\"\n    >\n      output\n    </button>\n    <button\n      mat-stroked-button\n      color=\"primary\"\n      (click)=\"applyLayout('both')\"\n      [disabled]=\"layout === 'both'\"\n    >\n      both\n    </button>\n  </div>\n  <div class=\"subtitle_Inner\">\n    <div class=\"subtitle_Labels\">\n      <label [class.hide]=\"layout === 'right'\">input</label>\n      <label [class.hide]=\"layout === 'left'\">output</label>\n    </div>\n    <div class=\"subtitle_TextAreas\">\n      <textarea\n        class=\"subtitle_TextArea left\"\n        [class.hide]=\"layout === 'right'\"\n        [(ngModel)]=\"inputArea\"\n        placeholder=\"paste subtitle here\"\n      ></textarea>\n      <textarea\n        class=\"subtitle_TextArea right\"\n        [class.hide]=\"layout === 'left'\"\n        [(ngModel)]=\"outputArea\"\n      ></textarea>\n    </div>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { SubtitleComponent } from './subtitle.component';\n\nconst routes: Routes = [{ path: '', component: SubtitleComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SubtitleRoutingModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { MatButtonModule } from '@angular/material/button';\nimport { SharedModule } from '../shared/shared.module';\nimport { SubtitleRoutingModule } from './subtitle-routing.module';\nimport { SubtitleComponent } from './subtitle.component';\n\n@NgModule({\n  declarations: [SubtitleComponent],\n  imports: [\n    CommonModule,\n    SharedModule,\n    SubtitleRoutingModule,\n    FormsModule,\n    MatButtonModule,\n  ],\n})\nexport class SubtitleModule {}\n"],"sourceRoot":"webpack:///"}