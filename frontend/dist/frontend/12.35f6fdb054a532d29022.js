(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"7JkJ":function(t,e,i){"use strict";i.r(e),i.d(e,"ScriptsModule",function(){return On});var n=i("+rOU"),r=i("ofXK"),o=i("fXoL"),s=i("3Pt+"),a=i("bTqV"),c=i("R1ws"),l=i("FKr1");let h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({imports:[[l.g],l.g]}),t})();var u=i("0IaG"),d=i("NFeN"),p=i("qFsG"),b=i("8LU1"),g=i("u47x"),f=i("0EQZ");let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({imports:[[l.m,l.g],l.g]}),t})();var _=i("XNiG"),v=i("VRyK"),y=i("quSY"),x=i("LRne"),C=i("1G5W"),S=i("Kj3r"),w=i("/uUt"),O=i("IzEk"),k=i("pLZG"),M=i("FtGj"),R=i("rDax"),j=i("iadO"),A=i("kmnG"),I=i("cH1L");const E=function(t){return{active:t}};function T(t,e){if(1&t){const t=o.Tb();o.Sb(0,"button",2),o.Zb("click",function(){o.qc(t);const i=e.$implicit;return o.dc().select(i)}),o.Rb()}if(2&t){const t=e.$implicit,i=o.dc();o.uc("background-color",t),o.jc("ngClass",o.lc(3,E,i.selectedColor===t))}}function P(t,e){if(1&t){const t=o.Tb();o.Sb(0,"button",2),o.Zb("click",function(){o.qc(t);const i=e.$implicit;return o.dc().select(i)}),o.Rb()}if(2&t){const t=e.$implicit,i=o.dc();o.uc("background-color",t),o.jc("ngClass",o.lc(3,E,i.selectedColor===t))}}const L=["button"],D=/^\s+/,F=/\s+$/,B=Math.round,z=(Math,Math,Math,/[^0-9]/g),N=255,q=["#ffffff","#ffff00","#ff00ff","#ff0000","#c0c0c0","#808080","#808000","#800080","#800000","#00ffff","#00ff00","#008080","#008000","#0000ff","#000080","#000000"];function $(t,e,i){const n=t.getImageData(e,i,1,1).data;return{r:n[0],g:n[1],b:n[2]}}function H(t){return 1==t.length?"0"+t:""+t}function V(t){return G(t)/255}function G(t){return parseInt(t,16)}function Z(t,e,i,n){var r=[H(B(t).toString(16)),H(B(e).toString(16)),H(B(i).toString(16))];return n&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}const W="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",U="[\\s|\\(]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?",K="[\\s|\\(]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?",Y={CSS_UNIT:new RegExp(W),rgb:new RegExp("rgb"+U),rgba:new RegExp("rgba"+K),hsl:new RegExp("hsl"+U),hsla:new RegExp("hsla"+K),hsv:new RegExp("hsv"+U),hsva:new RegExp("hsva"+K),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function X(t){let e;return t=t.replace(D,"").replace(F,"").toLowerCase(),(e=Y.rgb.exec(t))?{r:e[1],g:e[2],b:e[3],a:1}:(e=Y.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=Y.hex8.exec(t))?{r:G(e[1]),g:G(e[2]),b:G(e[3]),a:V(e[4])}:(e=Y.hex6.exec(t))?{r:G(e[1]),g:G(e[2]),b:G(e[3]),a:1}:(e=Y.hex4.exec(t))?{r:G(e[1]+""+e[1]),g:G(e[2]+""+e[2]),b:G(e[3]+""+e[3]),a:V(e[4]+""+e[4])}:(e=Y.hex3.exec(t))?{r:G(e[1]+""+e[1]),g:G(e[2]+""+e[2]),b:G(e[3]+""+e[3]),a:1}:null}class Q{constructor(t,e,i,n){this.r=t>N?N:t,this.g=e>N?N:e,this.b=i>N?N:i,this.a=null!=n?n>1?1:n:1,this.roundA=Math.round(this.a),this.hex=Z(this.r,this.g,this.b),this.rgba=this.toRgba()}toHex(t){return Z(this.r,this.g,this.b,t)}toRgba(){return`rgba(${this.r},${this.g},${this.b},${this.a})`}toHexString(t){return"#"+this.toHex(t)}toRgbString(){return 1===this.a?"rgb("+Math.round(this.r)+", "+Math.round(this.g)+", "+Math.round(this.b)+")":"rgba("+Math.round(this.r)+", "+Math.round(this.g)+", "+Math.round(this.b)+", "+this.roundA+")"}toHex8(t){return function(t,e,i,n,r){var o,s=[H(B(t).toString(16)),H(B(e).toString(16)),H(B(i).toString(16)),H((o=n,Math.round(255*parseFloat(o)).toString(16)))];return r&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}(this.r,this.g,this.b,this.a,t)}toHex8String(t){return"#"+this.toHex8(t)}toString(t){let e;return t||!(this.a<1&&this.a>=0)||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t?("rgb"===t&&(e=this.toRgbString()),"hex"!==t&&"hex6"!==t||(e=this.toHexString()),"hex3"===t&&(e=this.toHexString(!0)),"hex4"===t&&(e=this.toHex8String(!0)),"hex8"===t&&(e=this.toHex8String()),e||this.toHexString()):this.toRgbString()}}let J=(()=>{class t{constructor(){this.colorChanged=new o.n}ngOnInit(){}handleColorChanged(t){this.colorChanged.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-palette"]],hostAttrs:[1,"ngx-mat-color-palette"],inputs:{color:"color"},outputs:{colorChanged:"colorChanged"},decls:2,vars:2,consts:[[3,"color","colorChanged"]],template:function(t,e){1&t&&(o.Sb(0,"ngx-mat-color-canvas",0),o.Zb("colorChanged",function(t){return e.handleColorChanged(t)}),o.Rb(),o.Sb(1,"ngx-mat-color-collection",0),o.Zb("colorChanged",function(t){return e.handleColorChanged(t)}),o.Rb()),2&t&&(o.jc("color",e.color),o.Bb(1),o.jc("color",e.color))},directives:function(){return[et,it]},styles:[".ngx-mat-color-palette .actions{display:flex;margin-top:10px}.ngx-mat-color-palette .actions .left{display:flex;flex-direction:column;margin-right:15px}.ngx-mat-color-palette .actions .left .preview{flex:2 1 auto;margin-bottom:10px}.ngx-mat-color-palette .actions .right{display:flex;flex-direction:column;width:40px}"],encapsulation:2}),t})(),tt=(()=>{class t{constructor(t,e){this.zone=t,this.colorChanged=new o.n,this.x=0,this.y=0,this.drag=!1,this._destroyed=new _.a,this.elementId=e}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}ngAfterViewInit(){this.canvas=document.getElementById(this.elementId),this.ctx=this.canvas.getContext("2d"),this.width=this.canvas.width,this.height=this.canvas.height,this.draw()}draw(){this.ctx.clearRect(0,0,this.width,this.height),this.ctx.rect(0,0,this.width,this.height),this.fillGradient(),0!=this.y&&this.redrawIndicator(this.x,this.y)}onMousedown(t){this.drag=!0,this.changeColor(t),this.zone.runOutsideAngular(()=>{this.canvas.addEventListener("mousemove",this.onMousemove.bind(this))})}onMousemove(t){this.drag&&this.zone.run(()=>{this.changeColor(t)})}onMouseup(t){this.drag=!1,this.canvas.removeEventListener("mousemove",this.onMousemove)}emitChange(t){this.colorChanged.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.A),o.Mb(String))},t.\u0275dir=o.Hb({type:t,inputs:{color:"color"},outputs:{colorChanged:"colorChanged"}}),t})(),et=(()=>{class t extends tt{constructor(t){super(t,"color-block"),this.zone=t,this._resetBaseColor=!0,this.formGroup=new s.h({r:new s.e(null,[s.u.required]),g:new s.e(null,[s.u.required]),b:new s.e(null,[s.u.required]),a:new s.e(null,[s.u.required]),hex:new s.e(null,[s.u.required,s.u.pattern(Y.hex6)])})}get rCtrl(){return this.formGroup.get("r")}get gCtrl(){return this.formGroup.get("g")}get bCtrl(){return this.formGroup.get("b")}get aCtrl(){return this.formGroup.get("a")}get hexCtrl(){return this.formGroup.get("hex")}ngOnInit(){Object(v.a)(this.rCtrl.valueChanges,this.gCtrl.valueChanges,this.bCtrl.valueChanges,this.aCtrl.valueChanges).pipe(Object(C.a)(this._destroyed),Object(S.a)(400)).subscribe(t=>{const e=new Q(Number(this.rCtrl.value),Number(this.gCtrl.value),Number(this.bCtrl.value),Number(this.aCtrl.value));this.emitChange(e)}),this.hexCtrl.valueChanges.pipe(Object(C.a)(this._destroyed),Object(S.a)(400),Object(w.a)()).subscribe(t=>{const e=X(t);if(null!=e){const t=new Q(e.r,e.g,e.b,e.a);this.emitChange(t)}})}ngOnChanges(t){t.color&&t.color.currentValue&&(this.updateForm(t.color.currentValue),this._resetBaseColor&&(this._baseColor=t.color.currentValue),this._resetBaseColor=!0,t.color.firstChange||this.draw())}updateForm(t){const e={emitEvent:!1};this.rCtrl.setValue(t.r,e),this.gCtrl.setValue(t.g,e),this.bCtrl.setValue(t.b,e),this.aCtrl.setValue(t.a,e),this.hexCtrl.setValue(t.hex,e)}redrawIndicator(t,e){this.ctx.beginPath(),this.ctx.strokeStyle="white",this.ctx.arc(t,e,5,0,2*Math.PI,!1),this.ctx.stroke(),this.ctx.closePath()}fillGradient(){this.ctx.fillStyle=this._baseColor?this._baseColor.rgba:"rgba(255,255,255,1)",this.ctx.fillRect(0,0,this.width,this.height);const t=this.ctx.createLinearGradient(0,0,this.width,0);t.addColorStop(0,"rgba(255,255,255,1)"),t.addColorStop(1,"rgba(255,255,255,0)"),this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.width,this.height);const e=this.ctx.createLinearGradient(0,0,0,this.height);e.addColorStop(0,"rgba(0,0,0,0)"),e.addColorStop(1,"rgba(0,0,0,1)"),this.ctx.fillStyle=e,this.ctx.fillRect(0,0,this.width,this.height)}onSliderColorChanged(t){this._baseColor=t,this.color=t,this.fillGradient(),this.emitChange(t)}changeColor(t){this.x=t.offsetX,this.y=t.offsetY,this._resetBaseColor=!1,this.draw();const{r:e,g:i,b:n}=$(this.ctx,t.offsetX,t.offsetY);this.emitChange(new Q(e,i,n))}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.A))},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-canvas"]],hostAttrs:[1,"ngx-mat-color-canvas"],features:[o.yb,o.zb],decls:30,vars:3,consts:[[3,"formGroup"],[1,"color-canvas-row"],[1,"zone-canvas"],["id","color-block","width","200","height","200",1,"zone-block",3,"mousedown","mouseup"],[3,"colorChanged"],[1,"zone-inputs"],["matInput","","formControlName","r","ngxMatNumericColorInput","","autocomplete","off"],["matInput","","formControlName","g","ngxMatNumericColorInput","","autocomplete","off"],["matInput","","formControlName","b","ngxMatNumericColorInput","","autocomplete","off"],["mat-mini-fab","",1,"preview"],["matPrefix","",1,"symbol"],["matInput","","formControlName","hex","autocomplete","off"],["matInput","","formControlName","a","type","number","min","0","max","1","step","0.1","autocomplete","off"]],template:function(t,e){1&t&&(o.Sb(0,"form",0),o.Sb(1,"div",1),o.Sb(2,"div",2),o.Sb(3,"canvas",3),o.Zb("mousedown",function(t){return e.onMousedown(t)})("mouseup",function(t){return e.onMouseup(t)}),o.Rb(),o.Sb(4,"ngx-mat-color-slider",4),o.Zb("colorChanged",function(t){return e.onSliderColorChanged(t)}),o.Rb(),o.Rb(),o.Sb(5,"div",5),o.Sb(6,"mat-form-field"),o.Sb(7,"mat-label"),o.zc(8,"R"),o.Rb(),o.Nb(9,"input",6),o.Rb(),o.Sb(10,"mat-form-field"),o.Sb(11,"mat-label"),o.zc(12,"G"),o.Rb(),o.Nb(13,"input",7),o.Rb(),o.Sb(14,"mat-form-field"),o.Sb(15,"mat-label"),o.zc(16,"B"),o.Rb(),o.Nb(17,"input",8),o.Rb(),o.Rb(),o.Rb(),o.Sb(18,"div",1),o.Nb(19,"button",9),o.Sb(20,"mat-form-field"),o.Sb(21,"mat-label"),o.zc(22,"HEX6"),o.Rb(),o.Sb(23,"mat-label",10),o.zc(24,"#\xa0"),o.Rb(),o.Nb(25,"input",11),o.Rb(),o.Sb(26,"mat-form-field"),o.Sb(27,"mat-label"),o.zc(28,"A"),o.Rb(),o.Nb(29,"input",12),o.Rb(),o.Rb(),o.Rb()),2&t&&(o.jc("formGroup",e.formGroup),o.Bb(19),o.uc("background-color",(null==e.color?null:e.color.rgba)||"transparent"))},directives:function(){return[s.v,s.o,s.i,nt,A.c,A.f,p.b,s.c,s.n,s.g,mt,a.b,A.g,s.r]},styles:[".ngx-mat-color-canvas .color-canvas-row{display:flex}.ngx-mat-color-canvas .color-canvas-row:first-of-type{height:200px;margin-bottom:12px}.ngx-mat-color-canvas .color-canvas-row:first-of-type .card{height:180px}.ngx-mat-color-canvas .color-canvas-row canvas:hover{cursor:crosshair}.ngx-mat-color-canvas .color-canvas-row .zone{display:flex}.ngx-mat-color-canvas .color-canvas-row .zone-canvas{height:200px}.ngx-mat-color-canvas .color-canvas-row .zone-canvas .zone-block{border:1px solid rgba(0,0,0,.12)}.ngx-mat-color-canvas .color-canvas-row .zone-strip{flex-basis:auto;margin-left:10px}.ngx-mat-color-canvas .color-canvas-row .zone-inputs{display:flex;flex-direction:column;height:200px;margin-left:16px;margin-top:12px;width:40px}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2){display:flex}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2) .preview{height:40px;min-height:40px;min-width:40px;width:40px}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2) .mat-form-field{margin-left:16px}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2) .mat-form-field:first-of-type{width:170px}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2) .mat-form-field:first-of-type .symbol{color:rgba(0,0,0,.54);font-weight:700}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2) .mat-form-field:last-of-type{width:40px}.ngx-mat-color-canvas .mat-form-field-label{font-weight:700}"],encapsulation:2}),t})(),it=(()=>{class t{constructor(){this.colorChanged=new o.n,this.colors1=q.slice(0,8),this.colors2=q.slice(8,16)}set color(t){t&&(this.selectedColor=t.toHexString())}ngOnInit(){}select(t){this.selectedColor=t;const{r:e,g:i,b:n,a:r}=X(t);this.colorChanged.emit(new Q(e,i,n,r))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-collection"]],hostAttrs:[1,"ngx-mat-color-collection"],inputs:{color:"color"},outputs:{colorChanged:"colorChanged"},decls:4,vars:2,consts:[[1,"color-collection-row"],["mat-mini-fab","","class","btn-color",3,"background-color","ngClass","click",4,"ngFor","ngForOf"],["mat-mini-fab","",1,"btn-color",3,"ngClass","click"]],template:function(t,e){1&t&&(o.Sb(0,"div",0),o.xc(1,T,1,5,"button",1),o.Rb(),o.Sb(2,"div",0),o.xc(3,P,1,5,"button",1),o.Rb()),2&t&&(o.Bb(1),o.jc("ngForOf",e.colors1),o.Bb(2),o.jc("ngForOf",e.colors2))},directives:[r.k,a.b,r.j],styles:[".ngx-mat-color-collection .btn-color{box-shadow:none;height:20px;margin-right:11px;opacity:.3;width:20px}.ngx-mat-color-collection .btn-color.active{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12);opacity:1}"],encapsulation:2}),t})(),nt=(()=>{class t extends tt{constructor(t){super(t,"color-strip"),this.zone=t}ngOnInit(){}ngAfterViewInit(){super.ngAfterViewInit()}fillGradient(){const t=this.ctx.createLinearGradient(0,0,0,this.height);t.addColorStop(0,"rgba(255, 0, 0, 1)"),t.addColorStop(.17,"rgba(255, 255, 0, 1)"),t.addColorStop(.34,"rgba(0, 255, 0, 1)"),t.addColorStop(.51,"rgba(0, 255, 255, 1)"),t.addColorStop(.68,"rgba(0, 0, 255, 1)"),t.addColorStop(.85,"rgba(255, 0, 255, 1)"),t.addColorStop(1,"rgba(255, 0, 0, 1)"),this.ctx.fillStyle=t,this.ctx.fill()}redrawIndicator(t,e){this.ctx.beginPath(),this.ctx.strokeStyle="white",this.ctx.lineWidth=2,this.ctx.arc(7.5,e,7.5,0,2*Math.PI,!1),this.ctx.stroke(),this.ctx.closePath()}changeColor(t){this.x=t.offsetX,this.y=t.offsetY,this.draw();const{r:e,g:i,b:n}=$(this.ctx,t.offsetX,t.offsetY);this.emitChange(new Q(e,i,n))}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.A))},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-slider"]],features:[o.yb],decls:1,vars:0,consts:[["id","color-strip","width","15","height","200",1,"zone-strip",3,"mousedown","mouseup"]],template:function(t,e){1&t&&(o.Sb(0,"canvas",0),o.Zb("mousedown",function(t){return e.onMousedown(t)})("mouseup",function(t){return e.onMouseup(t)}),o.Rb())},styles:[""]}),t})(),rt=(()=>{class t{constructor(){}sameColor(t,e){return null==t&&null==e||null!=t&&null!=e&&t.rgba===e.rgba}format(t,e){return t.toString(e)}parse(t){const e=X(t);return e?new Q(e.r,e.g,e.b,e.a):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac}),t})();const ot={display:{colorInput:"hex"}},st=new o.r("mat-color-formats"),at=new o.r("ngx-mat-colorpicker-scroll-strategy"),ct={provide:at,deps:[R.c],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},lt=Object(l.q)(class{constructor(t){this._elementRef=t}});let ht=(()=>{class t extends lt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l))},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-picker-content"]],viewQuery:function(t,e){if(1&t&&o.Dc(J,1),2&t){let t;o.nc(t=o.ac())&&(e._palette=t.first)}},hostAttrs:[1,"ngx-mat-colorpicker-content"],hostVars:3,hostBindings:function(t,e){2&t&&(o.wc("@transformPanel","enter"),o.Eb("ngx-mat-colorpicker-content-touch",e.picker.touchUi))},inputs:{color:"color"},exportAs:["ngxMatColorPickerContent"],features:[o.yb],decls:1,vars:1,consts:[[3,"color","colorChanged"]],template:function(t,e){1&t&&(o.Sb(0,"ngx-mat-color-palette",0),o.Zb("colorChanged",function(t){return e.picker.select(t)}),o.Rb()),2&t&&o.jc("color",e.picker._selected)},directives:[J],styles:[".ngx-mat-colorpicker-content{background-color:#fff;border-radius:4px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);color:rgba(0,0,0,.87);display:block;padding:16px}.ngx-mat-colorpicker-content .ngx-mat-color-palette{height:354px;width:296px}.ngx-mat-colorpicker-content-touch{display:block;max-height:80vh;overflow:auto}.ngx-mat-colorpicker-content-touch .ngx-mat-color-palette{max-height:788px;max-width:750px;min-height:312px;min-width:250px}@media (orientation:landscape){.mat-colorpicker-content-touch .ngx-mat-color-palette{height:80vh;width:64vh}}@media (orientation:portrait){.mat-colorpicker-content-touch .ngx-mat-color-palette{height:100vw;width:80vw}}"],encapsulation:2,data:{animation:[j.e.transformPanel,j.e.fadeInCalendar]},changeDetection:0}),t})(),ut=(()=>{class t{constructor(t,e,i,n,r,s,a,c){this._dialog=t,this._overlay=e,this._zone=i,this._adapter=n,this._dir=r,this._document=a,this._viewContainerRef=c,this.openedStream=new o.n,this.closedStream=new o.n,this._touchUi=!1,this._opened=!1,this._defaultColor="primary",this._validSelected=null,this._disabledChange=new _.a,this._focusedElementBeforeOpen=null,this._inputSubscription=y.a.EMPTY,this._selectedChanged=new _.a,this._scrollStrategy=s}get disabled(){return void 0===this._disabled&&this._pickerInput?this._pickerInput.disabled:!!this._disabled}set disabled(t){const e=Object(b.b)(t);e!==this._disabled&&(this._disabled=e,this._disabledChange.next(e))}get touchUi(){return this._touchUi}set touchUi(t){this._touchUi=Object(b.b)(t)}get opened(){return this._opened}set opened(t){t?this.open():this.close()}get defaultColor(){return this._defaultColor}set defaultColor(t){this._defaultColor=t}get color(){return this._color||(this._pickerInput?this._pickerInput.getThemePalette():void 0)}set color(t){this._color=t}get _selected(){return this._validSelected}set _selected(t){this._validSelected=t}ngOnInit(){}ngOnDestroy(){this.close(),this._inputSubscription.unsubscribe(),this._disabledChange.complete(),this._popupRef&&(this._popupRef.dispose(),this._popupComponentRef=null)}select(t){let e=this._selected;this._selected=t,this._adapter.sameColor(e,this._selected)||this._selectedChanged.next(t)}registerInput(t){if(this._pickerInput)throw Error("A ColorPicker can only be associated with a single input.");this._pickerInput=t,this._inputSubscription=this._pickerInput._valueChange.subscribe(t=>this._selected=t)}open(){if(!this._opened&&!this.disabled){if(!this._pickerInput)throw Error("Attempted to open an ColorPicker with no associated input.");this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this.touchUi?this._openAsDialog():this._openAsPopup(),this._opened=!0,this.openedStream.emit()}}_openAsDialog(){this._dialogRef&&this._dialogRef.close(),this._dialogRef=this._dialog.open(ht,{direction:this._dir?this._dir.value:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"ngx-mat-colorpicker-dialog"}),this._dialogRef.afterClosed().subscribe(()=>this.close()),this._dialogRef.componentInstance.picker=this,this._setColor()}_openAsPopup(){this._portal||(this._portal=new n.d(ht,this._viewContainerRef)),this._popupRef||this._createPopup(),this._popupRef.hasAttached()||(this._popupComponentRef=this._popupRef.attach(this._portal),this._popupComponentRef.instance.picker=this,this._setColor(),this._zone.onStable.asObservable().pipe(Object(O.a)(1)).subscribe(()=>{this._popupRef.updatePosition()}))}_createPopup(){const t=new R.d({positionStrategy:this._createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:"mat-overlay-transparent-backdrop",direction:this._dir,scrollStrategy:this._scrollStrategy(),panelClass:"mat-colorpicker-popup"});this._popupRef=this._overlay.create(t),this._popupRef.overlayElement.setAttribute("role","dialog"),Object(v.a)(this._popupRef.backdropClick(),this._popupRef.detachments(),this._popupRef.keydownEvents().pipe(Object(k.a)(t=>t.keyCode===M.f||this._pickerInput&&t.altKey&&t.keyCode===M.o))).subscribe(t=>{t&&t.preventDefault(),this.close()})}close(){if(!this._opened)return;this._popupRef&&this._popupRef.hasAttached()&&this._popupRef.detach(),this._dialogRef&&(this._dialogRef.close(),this._dialogRef=null),this._portal&&this._portal.isAttached&&this._portal.detach();const t=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(t)):t()}_setColor(){const t=this.color;this._popupComponentRef&&(this._popupComponentRef.instance.color=t),this._dialogRef&&(this._dialogRef.componentInstance.color=t)}_createPopupPositionStrategy(){return this._overlay.position().flexibleConnectedTo(this._pickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".ngx-mat-colorpicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition().withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}])}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(u.a),o.Mb(R.c),o.Mb(o.A),o.Mb(rt),o.Mb(I.b,8),o.Mb(at),o.Mb(r.d,8),o.Mb(o.Q))},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-picker"]],inputs:{disabled:"disabled",touchUi:"touchUi",opened:"opened",defaultColor:"defaultColor",color:"color"},outputs:{openedStream:"opened",closedStream:"closed"},exportAs:["ngxMatColorPicker"],decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0}),t})();class dt{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}const pt={provide:s.l,useExisting:Object(o.U)(()=>gt),multi:!0},bt={provide:s.k,useExisting:Object(o.U)(()=>gt),multi:!0};let gt=(()=>{class t{constructor(t,e,i,n){if(this._elementRef=t,this._formField=e,this._colorFormats=i,this._adapter=n,this.colorChange=new o.n,this.colorInput=new o.n,this._disabledChange=new o.n,this._valueChange=new o.n,this._onTouched=()=>{},this._cvaOnChange=()=>{},this._validatorOnChange=()=>{},this._pickerSubscription=y.a.EMPTY,this._validator=s.u.compose([]),this._lastValueValid=!1,!this._colorFormats)throw Error("NgxMatColorPicker: No provider found for MAT_COLOR_FORMATS. You must define MAT_COLOR_FORMATS in your module")}set ngxMatColorPicker(t){t&&(this._picker=t,this._picker.registerInput(this),this._pickerSubscription.unsubscribe(),this._pickerSubscription=this._picker._selectedChanged.subscribe(t=>{this.value=t,this._cvaOnChange(t),this._onTouched(),this.colorInput.emit(new dt(this,this._elementRef.nativeElement)),this.colorChange.emit(new dt(this,this._elementRef.nativeElement))}))}get disabled(){return!!this._disabled}set disabled(t){const e=Object(b.b)(t),i=this._elementRef.nativeElement;this._disabled!==e&&(this._disabled=e,this._disabledChange.emit(e)),e&&i.blur&&i.blur()}get value(){return this._value}set value(t){const e=this.value;this._value=t,this._formatValue(t),this._adapter.sameColor(e,t)||this._valueChange.emit(t)}getThemePalette(){return this._formField?this._formField.color:void 0}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}getPopupConnectionElementRef(){return this.getConnectedOverlayOrigin()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}ngOnInit(){}ngOnDestroy(){this._pickerSubscription.unsubscribe(),this._valueChange.complete(),this._disabledChange.complete()}writeValue(t){this.value=t}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onChange(){this.colorChange.emit(new dt(this,this._elementRef.nativeElement))}_onKeydown(t){this._picker&&t.altKey&&t.keyCode===M.c&&!this._elementRef.nativeElement.readOnly&&(this._picker.open(),t.preventDefault())}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=t?this._adapter.format(t,this._colorFormats.display.colorInput):""}_onInput(t){const e=this._lastValueValid,i=this._adapter.parse(t);this._adapter.sameColor(i,this._value)?e!==this._lastValueValid&&this._validatorOnChange():(this._value=i,this._cvaOnChange(i),this._valueChange.emit(i),this.colorInput.emit(new dt(this,this._elementRef.nativeElement)))}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(A.c,8),o.Mb(st,8),o.Mb(rt))},t.\u0275dir=o.Hb({type:t,selectors:[["input","ngxMatColorPicker",""]],hostVars:3,hostBindings:function(t,e){1&t&&o.Zb("input",function(t){return e._onInput(t.target.value)})("change",function(){return e._onChange()})("blur",function(){return e._onBlur()})("keydown",function(t){return e._onKeydown(t)}),2&t&&(o.Vb("disabled",e.disabled),o.Cb("aria-haspopup",e._picker?"dialog":null)("aria-owns",(null==e._picker?null:e._picker.opened)&&e._picker.id||null))},inputs:{ngxMatColorPicker:"ngxMatColorPicker",value:"value",disabled:"disabled"},outputs:{colorChange:"colorChange",colorInput:"colorInput"},exportAs:["ngxMatColorPickerInput"],features:[o.Ab([pt,bt,{provide:p.a,useExisting:t}])]}),t})(),ft=(()=>{class t{constructor(t){this._cd=t,this._stateChanges=y.a.EMPTY}get disabled(){if(null==this._disabled&&this.picker)return this.picker.disabled}set disabled(t){this._disabled=t}ngOnInit(){}ngOnChanges(t){t.picker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}open(t){this.picker&&!this.disabled&&(this.picker.open(),t.stopPropagation())}_watchStateChanges(){const t=this.picker?this.picker._disabledChange:Object(x.a)(),e=this.picker&&this.picker._pickerInput?this.picker._pickerInput._disabledChange:Object(x.a)(),i=this.picker?Object(v.a)(this.picker.openedStream,this.picker.closedStream):Object(x.a)();this._stateChanges.unsubscribe(),this._stateChanges=Object(v.a)(t,e,i).subscribe(()=>this._cd.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.h))},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-toggle"]],viewQuery:function(t,e){if(1&t&&o.Dc(L,1),2&t){let t;o.nc(t=o.ac())&&(e._button=t.first)}},hostAttrs:[1,"ngx-mat-color-toggle"],hostVars:7,hostBindings:function(t,e){1&t&&o.Zb("focus",function(){return e._button.focus()}),2&t&&(o.Cb("tabindex",-1),o.Eb("ngx-mat-color-toggle-active",e.picker&&e.picker.opened)("mat-accent",e.picker&&"accent"===e.picker.color)("mat-warn",e.picker&&"warn"===e.picker.color))},inputs:{disabled:"disabled",picker:["for","picker"],tabIndex:"tabIndex"},exportAs:["ngxMatColorPickerToggle"],features:[o.zb],decls:4,vars:5,consts:[["mat-icon-button","","type","button",3,"disabled","click"],["button",""]],template:function(t,e){1&t&&(o.Sb(0,"button",0,1),o.Zb("click",function(t){return e.open(t)}),o.Sb(2,"mat-icon"),o.zc(3,"palette"),o.Rb(),o.Rb()),2&t&&(o.jc("disabled",e.disabled),o.Cb("aria-haspopup",e.picker?"dialog":null)("tabindex",e.disabled?-1:e.tabIndex),o.Bb(2),o.uc("color",null==e.picker||null==e.picker._selected?null:e.picker._selected.rgba))},directives:[a.b,d.a],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .ngx-mat-color-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .ngx-mat-color-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .ngx-mat-color-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .ngx-mat-color-toggle-default-icon{display:block;height:1.5em;width:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .ngx-mat-color-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .ngx-mat-color-toggle-default-icon{margin:auto}"],encapsulation:2}),t})(),mt=(()=>{class t{constructor(){}onInput(t){this._formatInput(t.target)}_formatInput(t){let e=Number(t.value.replace(z,""));e=isNaN(e)?0:e,t.value=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.Hb({type:t,selectors:[["","ngxMatNumericColorInput",""]],hostBindings:function(t,e){1&t&&o.Zb("input",function(t){return e.onInput(t)})}}),t})(),_t=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({providers:[rt,ct],imports:[[r.c,p.c,a.c,h,m,s.j,s.s,u.b,n.f,d.b]]}),t})();var vt=i("7EHt"),yt=i("vxfF"),xt=i("NXyV"),Ct=i("JX91"),St=i("eIep"),wt=i("lJxs"),Ot=i("R0Ic");const kt=["trigger"],Mt=["panel"];function Rt(t,e){if(1&t&&(o.Sb(0,"span",8),o.zc(1),o.Rb()),2&t){const t=o.dc();o.Bb(1),o.Ac(t.placeholder)}}function jt(t,e){if(1&t&&(o.Sb(0,"span",12),o.zc(1),o.Rb()),2&t){const t=o.dc(2);o.Bb(1),o.Ac(t.triggerValue)}}function At(t,e){1&t&&o.hc(0,0,["*ngSwitchCase","true"])}function It(t,e){if(1&t&&(o.Sb(0,"span",9),o.xc(1,jt,2,1,"span",10),o.xc(2,At,1,0,"ng-content",11),o.Rb()),2&t){const t=o.dc();o.jc("ngSwitch",!!t.customTrigger),o.Bb(2),o.jc("ngSwitchCase",!0)}}function Et(t,e){if(1&t){const t=o.Tb();o.Sb(0,"div",13),o.Sb(1,"div",14,15),o.Zb("@transformPanel.done",function(e){return o.qc(t),o.dc()._panelDoneAnimatingStream.next(e.toState)})("keydown",function(e){return o.qc(t),o.dc()._handleKeydown(e)}),o.hc(3,1),o.Rb(),o.Rb()}if(2&t){const t=o.dc();o.jc("@transformPanelWrap",void 0),o.Bb(1),o.Db("mat-select-panel ",t._getPanelTheme(),""),o.uc("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),o.jc("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),o.Cb("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const Tt=[[["mat-select-trigger"]],"*"],Pt=["mat-select-trigger","*"],Lt={transformPanelWrap:Object(Ot.l)("transformPanelWrap",[Object(Ot.k)("* => void",Object(Ot.g)("@transformPanel",[Object(Ot.f)()],{optional:!0}))]),transformPanel:Object(Ot.l)("transformPanel",[Object(Ot.i)("void",Object(Ot.j)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Object(Ot.i)("showing",Object(Ot.j)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Object(Ot.i)("showing-multiple",Object(Ot.j)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Object(Ot.k)("void => *",Object(Ot.e)("120ms cubic-bezier(0, 0, 0.2, 1)")),Object(Ot.k)("* => void",Object(Ot.e)("100ms 25ms linear",Object(Ot.j)({opacity:0})))])};let Dt=0;const Ft=256,Bt=new o.r("mat-select-scroll-strategy"),zt=new o.r("MAT_SELECT_CONFIG"),Nt={provide:Bt,deps:[R.c],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class qt{constructor(t,e){this.source=t,this.value=e}}class $t{constructor(t,e,i,n,r){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=i,this._parentFormGroup=n,this.ngControl=r}}const Ht=Object(l.r)(Object(l.u)(Object(l.s)(Object(l.t)($t)))),Vt=new o.r("MatSelectTrigger");let Gt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.Hb({type:t,selectors:[["mat-select-trigger"]],features:[o.Ab([{provide:Vt,useExisting:t}])]}),t})(),Zt=(()=>{class t extends Ht{constructor(t,e,i,n,r,s,a,c,l,h,u,d,p,b){var g,f,m;super(r,n,a,c,h),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=i,this._dir=s,this._parentFormField=l,this.ngControl=h,this._liveAnnouncer=p,this._defaultOptions=b,this._panelOpen=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+Dt++,this._triggerAriaLabelledBy=null,this._destroy=new _.a,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Dt++,this._panelDoneAnimatingStream=new _.a,this._overlayPanelClass=(null===(g=this._defaultOptions)||void 0===g?void 0:g.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(m=null===(f=this._defaultOptions)||void 0===f?void 0:f.disableOptionCentering)&&void 0!==m&&m,this.ariaLabel="",this.optionSelectionChanges=Object(xt.a)(()=>{const t=this.options;return t?t.changes.pipe(Object(Ct.a)(t),Object(St.a)(()=>Object(v.a)(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.pipe(Object(O.a)(1),Object(St.a)(()=>this.optionSelectionChanges))}),this.openedChange=new o.n,this._openedStream=this.openedChange.pipe(Object(k.a)(t=>t),Object(wt.a)(()=>{})),this._closedStream=this.openedChange.pipe(Object(k.a)(t=>!t),Object(wt.a)(()=>{})),this.selectionChange=new o.n,this.valueChange=new o.n,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==b?void 0:b.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=b.typeaheadDebounceInterval),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(u)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=Object(b.b)(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Object(b.b)(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Object(b.b)(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Object(b.e)(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new f.b(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Object(w.a)(),Object(C.a)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Object(C.a)(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Object(Ct.a)(null),Object(C.a)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?e.setAttribute("aria-labelledby",t):e.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,i=e===M.c||e===M.o||e===M.h||e===M.l,n=e===M.e||e===M.m,r=this._keyManager;if(!r.isTyping()&&n&&!Object(M.r)(t)||(this.multiple||t.altKey)&&i)t.preventDefault(),this.open();else if(!this.multiple){const e=this.selected;r.onKeydown(t);const i=this.selected;i&&e!==i&&this._liveAnnouncer.announce(i.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,i=t.keyCode,n=i===M.c||i===M.o,r=e.isTyping();if(n&&t.altKey)t.preventDefault(),this.close();else if(r||i!==M.e&&i!==M.m||!e.activeItem||Object(M.r)(t))if(!r&&this._multiple&&i===M.a&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const i=e.activeItemIndex;e.onKeydown(t),this._multiple&&n&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==i&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Object(O.a)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(t=>this._selectValue(t)),this._sortValues();else{const e=this._selectValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{if(this._selectionModel.isSelected(e))return!1;try{return null!=e.value&&this._compareWith(e.value,t)}catch(i){return!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new g.b(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Object(C.a)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Object(C.a)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Object(v.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Object(C.a)(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object(v.a)(...this.options.map(t=>t._stateChanges)).pipe(Object(C.a)(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,e){const i=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(i!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),i!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,i)=>this.sortComparator?this.sortComparator(e,i,t):t.indexOf(e)-t.indexOf(i)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(this._getChangeEvent(e)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(yt.d),o.Mb(o.h),o.Mb(o.A),o.Mb(l.b),o.Mb(o.l),o.Mb(I.b,8),o.Mb(s.p,8),o.Mb(s.i,8),o.Mb(A.a,8),o.Mb(s.m,10),o.Xb("tabindex"),o.Mb(Bt),o.Mb(g.j),o.Mb(zt,8))},t.\u0275dir=o.Hb({type:t,viewQuery:function(t,e){if(1&t&&(o.Dc(kt,1),o.Dc(Mt,1),o.Dc(R.a,1)),2&t){let t;o.nc(t=o.ac())&&(e.trigger=t.first),o.nc(t=o.ac())&&(e.panel=t.first),o.nc(t=o.ac())&&(e.overlayDir=t.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.yb,o.zb]}),t})(),Wt=(()=>{class t extends Zt{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,e,i){const n=this._getItemHeight();return Math.min(Math.max(0,n*t-e+n/2),i)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Object(C.a)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Object(O.a)(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const e=Object(l.o)(t,this.options,this.optionGroups),i=this._getItemHeight();this.panel.nativeElement.scrollTop=Object(l.p)((t+e)*i,i,this.panel.nativeElement.scrollTop,Ft)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new qt(this,t)}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),i=this._isRtl(),n=this.multiple?56:32;let r;if(this.multiple)r=40;else if(this.disableOptionCentering)r=16;else{let t=this._selectionModel.selected[0]||this.options.first;r=t&&t.group?32:16}i||(r*=-1);const o=0-(t.left+r-(i?n:0)),s=t.right+r-e.width+(i?0:n);o>0?r+=o+8:s>0&&(r-=s+8),this.overlayDir.offsetX=Math.round(r),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,i){const n=this._getItemHeight(),r=(n-this._triggerRect.height)/2,o=Math.floor(Ft/n);let s;return this.disableOptionCentering?0:(s=0===this._scrollTop?t*n:this._scrollTop===i?(t-(this._getItemCount()-o))*n+(n-(this._getItemCount()*n-Ft)%n):e-n/2,Math.round(-1*s-r))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),i=this._viewportRuler.getViewportSize(),n=this._triggerRect.top-8,r=i.height-this._triggerRect.bottom-8,o=Math.abs(this._offsetY),s=Math.min(this._getItemCount()*e,Ft)-o-this._triggerRect.height;s>r?this._adjustPanelUp(s,r):o>n?this._adjustPanelDown(o,n,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const i=Math.round(t-e);this._scrollTop-=i,this._offsetY-=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,i){const n=Math.round(t-e);if(this._scrollTop+=n,this._offsetY+=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=i)return this._scrollTop=i,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),i=Math.min(e*t,Ft),n=e*t-i;let r;r=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),r+=Object(l.o)(r,this.options,this.optionGroups);const o=i/2;this._scrollTop=this._calculateOverlayScroll(r,o,n),this._offsetY=this._calculateOverlayOffsetY(r,o,n),this._checkOverlayWithinViewport(n)}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(e){return Ut(e||t)},t.\u0275cmp=o.Gb({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,i){if(1&t&&(o.Fb(i,Vt,1),o.Fb(i,l.i,1),o.Fb(i,l.d,1)),2&t){let t;o.nc(t=o.ac())&&(e.customTrigger=t.first),o.nc(t=o.ac())&&(e.options=t),o.nc(t=o.ac())&&(e.optionGroups=t)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,e){1&t&&o.Zb("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e._onFocus()})("blur",function(){return e._onBlur()}),2&t&&(o.Cb("id",e.id)("tabindex",e.tabIndex)("aria-controls",e.panelOpen?e.id+"-panel":null)("aria-expanded",e.panelOpen)("aria-label",e.ariaLabel||null)("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),o.Eb("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty)("mat-select-multiple",e.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[o.Ab([{provide:A.d,useExisting:t},{provide:l.e,useExisting:t}]),o.yb],ngContentSelectors:Pt,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(o.ic(Tt),o.Sb(0,"div",0,1),o.Zb("click",function(){return e.toggle()}),o.Sb(3,"div",2),o.xc(4,Rt,2,1,"span",3),o.xc(5,It,3,2,"span",4),o.Rb(),o.Sb(6,"div",5),o.Nb(7,"div",6),o.Rb(),o.Rb(),o.xc(8,Et,4,14,"ng-template",7),o.Zb("backdropClick",function(){return e.close()})("attach",function(){return e._onAttached()})("detach",function(){return e.close()})),2&t){const t=o.oc(1);o.Cb("aria-owns",e.panelOpen?e.id+"-panel":null),o.Bb(3),o.jc("ngSwitch",e.empty),o.Cb("id",e._valueId),o.Bb(1),o.jc("ngSwitchCase",!0),o.Bb(1),o.jc("ngSwitchCase",!1),o.Bb(3),o.jc("cdkConnectedOverlayPanelClass",e._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[R.b,r.m,r.n,R.a,r.o,r.j],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px}\n'],encapsulation:2,data:{animation:[Lt.transformPanelWrap,Lt.transformPanel]},changeDetection:0}),t})();const Ut=o.Ub(Wt);let Kt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({providers:[Nt],imports:[[r.c,R.f,l.j,l.g],yt.a,A.e,l.j,l.g]}),t})();var Yt=i("GU7r");const Xt=["thumbContainer"],Qt=["toggleBar"],Jt=["input"],te=function(){return{enterDuration:150}},ee=["*"],ie=new o.r("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let ne=0;const re={provide:s.l,useExisting:Object(o.U)(()=>ce),multi:!0};class oe{constructor(t,e){this.source=t,this.checked=e}}class se{constructor(t){this._elementRef=t}}const ae=Object(l.u)(Object(l.q)(Object(l.r)(Object(l.s)(se)),"accent"));let ce=(()=>{class t extends ae{constructor(t,e,i,n,r,s){super(t),this._focusMonitor=e,this._changeDetectorRef=i,this.defaults=r,this._animationMode=s,this._onChange=t=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++ne,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new o.n,this.toggleChange=new o.n,this.tabIndex=parseInt(n)||0}get required(){return this._required}set required(t){this._required=Object(b.b)(t)}get checked(){return this._checked}set checked(t){this._checked=Object(b.b)(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?this._inputElement.nativeElement.focus():t||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(t){t.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}focus(t,e){e?this._focusMonitor.focusVia(this._inputElement,e,t):this._inputElement.nativeElement.focus(t)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new oe(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(g.g),o.Mb(o.h),o.Xb("tabindex"),o.Mb(ie),o.Mb(c.a,8))},t.\u0275cmp=o.Gb({type:t,selectors:[["mat-slide-toggle"]],viewQuery:function(t,e){if(1&t&&(o.Dc(Xt,1),o.Dc(Qt,1),o.Dc(Jt,1)),2&t){let t;o.nc(t=o.ac())&&(e._thumbEl=t.first),o.nc(t=o.ac())&&(e._thumbBarEl=t.first),o.nc(t=o.ac())&&(e._inputElement=t.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(t,e){2&t&&(o.Vb("id",e.id),o.Cb("tabindex",e.disabled?null:-1)("aria-label",null)("aria-labelledby",null),o.Eb("mat-checked",e.checked)("mat-disabled",e.disabled)("mat-slide-toggle-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[o.Ab([re]),o.yb],ngContentSelectors:ee,decls:16,vars:18,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(t,e){if(1&t&&(o.ic(),o.Sb(0,"label",0,1),o.Sb(2,"div",2,3),o.Sb(4,"input",4,5),o.Zb("change",function(t){return e._onChangeEvent(t)})("click",function(t){return e._onInputClick(t)}),o.Rb(),o.Sb(6,"div",6,7),o.Nb(8,"div",8),o.Sb(9,"div",9),o.Nb(10,"div",10),o.Rb(),o.Rb(),o.Rb(),o.Sb(11,"span",11,12),o.Zb("cdkObserveContent",function(){return e._onLabelTextChange()}),o.Sb(13,"span",13),o.zc(14,"\xa0"),o.Rb(),o.hc(15),o.Rb(),o.Rb()),2&t){const t=o.oc(1),i=o.oc(12);o.Cb("for",e.inputId),o.Bb(2),o.Eb("mat-slide-toggle-bar-no-side-margin",!i.textContent||!i.textContent.trim()),o.Bb(2),o.jc("id",e.inputId)("required",e.required)("tabIndex",e.tabIndex)("checked",e.checked)("disabled",e.disabled),o.Cb("name",e.name)("aria-checked",e.checked.toString())("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),o.Bb(5),o.jc("matRippleTrigger",t)("matRippleDisabled",e.disableRipple||e.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",o.kc(17,te))}},directives:[l.l,Yt.a],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),t})(),le=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({}),t})(),he=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({imports:[[le,l.m,l.g,Yt.c],le,l.g]}),t})();var ue=i("xgIS"),de=i("PqYM"),pe=i("nLfN");function be(t,e){1&t&&o.hc(0)}const ge=["*"];function fe(t,e){}const me=function(t){return{animationDuration:t}},_e=function(t,e){return{value:t,params:e}},ve=["tabBodyWrapper"],ye=["tabHeader"];function xe(t,e){}function Ce(t,e){if(1&t&&o.xc(0,xe,0,0,"ng-template",9),2&t){const t=o.dc().$implicit;o.jc("cdkPortalOutlet",t.templateLabel)}}function Se(t,e){if(1&t&&o.zc(0),2&t){const t=o.dc().$implicit;o.Ac(t.textLabel)}}function we(t,e){if(1&t){const t=o.Tb();o.Sb(0,"div",6),o.Zb("click",function(){o.qc(t);const i=e.$implicit,n=e.index,r=o.dc(),s=o.oc(1);return r._handleClick(i,s,n)})("cdkFocusChange",function(i){o.qc(t);const n=e.index;return o.dc()._tabFocusChanged(i,n)}),o.Sb(1,"div",7),o.xc(2,Ce,1,1,"ng-template",8),o.xc(3,Se,1,1,"ng-template",8),o.Rb(),o.Rb()}if(2&t){const t=e.$implicit,i=e.index,n=o.dc();o.Eb("mat-tab-label-active",n.selectedIndex==i),o.jc("id",n._getTabLabelId(i))("disabled",t.disabled)("matRippleDisabled",t.disabled||n.disableRipple),o.Cb("tabIndex",n._getTabIndex(t,i))("aria-posinset",i+1)("aria-setsize",n._tabs.length)("aria-controls",n._getTabContentId(i))("aria-selected",n.selectedIndex==i)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),o.Bb(2),o.jc("ngIf",t.templateLabel),o.Bb(1),o.jc("ngIf",!t.templateLabel)}}function Oe(t,e){if(1&t){const t=o.Tb();o.Sb(0,"mat-tab-body",10),o.Zb("_onCentered",function(){return o.qc(t),o.dc()._removeTabBodyWrapperHeight()})("_onCentering",function(e){return o.qc(t),o.dc()._setTabBodyWrapperHeight(e)}),o.Rb()}if(2&t){const t=e.$implicit,i=e.index,n=o.dc();o.Eb("mat-tab-body-active",n.selectedIndex==i),o.jc("id",n._getTabContentId(i))("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",n.animationDuration),o.Cb("aria-labelledby",n._getTabLabelId(i))}}const ke=["tabListContainer"],Me=["tabList"],Re=["nextPaginator"],je=["previousPaginator"],Ae=new o.r("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let Ie=(()=>{class t{constructor(t,e,i,n){this._elementRef=t,this._ngZone=e,this._inkBarPositioner=i,this._animationMode=n}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const e=this._inkBarPositioner(t),i=this._elementRef.nativeElement;i.style.left=e.left,i.style.width=e.width}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(o.A),o.Mb(Ae),o.Mb(c.a,8))},t.\u0275dir=o.Hb({type:t,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,e){2&t&&o.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode)}}),t})();const Ee=new o.r("MatTabContent"),Te=new o.r("MatTabLabel");class Pe{}const Le=Object(l.s)(Pe),De=new o.r("MAT_TAB_GROUP");let Fe=(()=>{class t extends Le{constructor(t,e){super(),this._viewContainerRef=t,this._closestTabGroup=e,this.textLabel="",this._contentPortal=null,this._stateChanges=new _.a,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new n.g(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&(this._templateLabel=t)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.Q),o.Mb(De))},t.\u0275cmp=o.Gb({type:t,selectors:[["mat-tab"]],contentQueries:function(t,e,i){if(1&t&&(o.Fb(i,Te,1),o.Fb(i,Ee,3,o.M)),2&t){let t;o.nc(t=o.ac())&&(e.templateLabel=t.first),o.nc(t=o.ac())&&(e._explicitContent=t.first)}},viewQuery:function(t,e){if(1&t&&o.Dc(o.M,3),2&t){let t;o.nc(t=o.ac())&&(e._implicitContent=t.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[o.yb,o.zb],ngContentSelectors:ge,decls:1,vars:0,template:function(t,e){1&t&&(o.ic(),o.xc(0,be,1,0,"ng-template"))},encapsulation:2}),t})();const Be={translateTab:Object(Ot.l)("translateTab",[Object(Ot.i)("center, void, left-origin-center, right-origin-center",Object(Ot.j)({transform:"none"})),Object(Ot.i)("left",Object(Ot.j)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Object(Ot.i)("right",Object(Ot.j)({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Object(Ot.k)("* => left, * => right, left => center, right => center",Object(Ot.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Object(Ot.k)("void => left-origin-center",[Object(Ot.j)({transform:"translate3d(-100%, 0, 0)"}),Object(Ot.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Object(Ot.k)("void => right-origin-center",[Object(Ot.j)({transform:"translate3d(100%, 0, 0)"}),Object(Ot.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let ze=(()=>{class t extends n.c{constructor(t,e,i,n){super(t,e,n),this._host=i,this._centeringSub=y.a.EMPTY,this._leavingSub=y.a.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Object(Ct.a)(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.j),o.Mb(o.Q),o.Mb(Object(o.U)(()=>qe)),o.Mb(r.d))},t.\u0275dir=o.Hb({type:t,selectors:[["","matTabBodyHost",""]],features:[o.yb]}),t})(),Ne=(()=>{class t{constructor(t,e,i){this._elementRef=t,this._dir=e,this._dirChangeSubscription=y.a.EMPTY,this._translateTabComplete=new _.a,this._onCentering=new o.n,this._beforeCentering=new o.n,this._afterLeavingCenter=new o.n,this._onCentered=new o.n(!0),this.animationDuration="500ms",e&&(this._dirChangeSubscription=e.change.subscribe(t=>{this._computePositionAnimationState(t),i.markForCheck()})),this._translateTabComplete.pipe(Object(w.a)((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{this._isCenterPosition(t.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(t.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const e=this._getLayoutDirection();return"ltr"==e&&t<=0||"rtl"==e&&t>0?"left-origin-center":"right-origin-center"}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(I.b,8),o.Mb(o.h))},t.\u0275dir=o.Hb({type:t,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t})(),qe=(()=>{class t extends Ne{constructor(t,e,i){super(t,e,i)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(I.b,8),o.Mb(o.h))},t.\u0275cmp=o.Gb({type:t,selectors:[["mat-tab-body"]],viewQuery:function(t,e){if(1&t&&o.Dc(n.c,1),2&t){let t;o.nc(t=o.ac())&&(e._portalHost=t.first)}},hostAttrs:[1,"mat-tab-body"],features:[o.yb],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,e){1&t&&(o.Sb(0,"div",0,1),o.Zb("@translateTab.start",function(t){return e._onTranslateTabStarted(t)})("@translateTab.done",function(t){return e._translateTabComplete.next(t)}),o.xc(2,fe,0,0,"ng-template",2),o.Rb()),2&t&&o.jc("@translateTab",o.mc(3,_e,e._position,o.lc(1,me,e.animationDuration)))},directives:[ze],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[Be.translateTab]}}),t})();const $e=new o.r("MAT_TABS_CONFIG");let He=0;class Ve{}class Ge{constructor(t){this._elementRef=t}}const Ze=Object(l.q)(Object(l.r)(Ge),"primary");let We=(()=>{class t extends Ze{constructor(t,e,i,n){super(t),this._changeDetectorRef=e,this._animationMode=n,this._tabs=new o.E,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=y.a.EMPTY,this._tabLabelSubscription=y.a.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new o.n,this.focusChange=new o.n,this.animationDone=new o.n,this.selectedTabChange=new o.n(!0),this._groupId=He++,this.animationDuration=i&&i.animationDuration?i.animationDuration:"500ms",this.disablePagination=!(!i||null==i.disablePagination)&&i.disablePagination,this.dynamicHeight=!(!i||null==i.dynamicHeight)&&i.dynamicHeight}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=Object(b.b)(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=Object(b.e)(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement;e.classList.remove(`mat-background-${this.backgroundColor}`),t&&e.classList.add(`mat-background-${t}`),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const e=null==this._selectedIndex;if(!e){this.selectedTabChange.emit(this._createChangeEvent(t));const e=this._tabBodyWrapper.nativeElement;e.style.minHeight=e.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((e,i)=>e.isActive=i===t),e||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((e,i)=>{e.position=i-t,null==this._selectedIndex||0!=e.position||e.origin||(e.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const t=this._tabs.toArray();for(let e=0;e<t.length;e++)if(t[e].isActive){this._indexToSelect=this._selectedIndex=e;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Object(Ct.a)(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(t=>t._closestTabGroup===this)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}_focusChanged(t){this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const e=new Ve;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Object(v.a)(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,e,i){t.disabled||(this.selectedIndex=e.focusIndex=i)}_getTabIndex(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}_tabFocusChanged(t,e){t&&(this._tabHeader.focusIndex=e)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(o.h),o.Mb($e,8),o.Mb(c.a,8))},t.\u0275dir=o.Hb({type:t,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[o.yb]}),t})(),Ue=(()=>{class t extends We{constructor(t,e,i,n){super(t,e,i,n)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(o.h),o.Mb($e,8),o.Mb(c.a,8))},t.\u0275cmp=o.Gb({type:t,selectors:[["mat-tab-group"]],contentQueries:function(t,e,i){if(1&t&&o.Fb(i,Fe,1),2&t){let t;o.nc(t=o.ac())&&(e._allTabs=t)}},viewQuery:function(t,e){if(1&t&&(o.Dc(ve,1),o.Dc(ye,1)),2&t){let t;o.nc(t=o.ac())&&(e._tabBodyWrapper=t.first),o.nc(t=o.ac())&&(e._tabHeader=t.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,e){2&t&&o.Eb("mat-tab-group-dynamic-height",e.dynamicHeight)("mat-tab-group-inverted-header","below"===e.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[o.Ab([{provide:De,useExisting:t}]),o.yb],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,e){1&t&&(o.Sb(0,"mat-tab-header",0,1),o.Zb("indexFocused",function(t){return e._focusChanged(t)})("selectFocusedIndex",function(t){return e.selectedIndex=t}),o.xc(2,we,4,14,"div",2),o.Rb(),o.Sb(3,"div",3,4),o.xc(5,Oe,1,8,"mat-tab-body",5),o.Rb()),2&t&&(o.jc("selectedIndex",e.selectedIndex||0)("disableRipple",e.disableRipple)("disablePagination",e.disablePagination),o.Bb(2),o.jc("ngForOf",e._tabs),o.Bb(1),o.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode),o.Bb(2),o.jc("ngForOf",e._tabs))},directives:function(){return[ei,r.k,Xe,l.l,g.d,r.l,n.c,qe]},styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),t})();class Ke{}const Ye=Object(l.s)(Ke);let Xe=(()=>{class t extends Ye{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l))},t.\u0275dir=o.Hb({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,e){2&t&&(o.Cb("aria-disabled",!!e.disabled),o.Eb("mat-tab-disabled",e.disabled))},inputs:{disabled:"disabled"},features:[o.yb]}),t})();const Qe=Object(pe.f)({passive:!0});let Je=(()=>{class t{constructor(t,e,i,n,r,s,a){this._elementRef=t,this._changeDetectorRef=e,this._viewportRuler=i,this._dir=n,this._ngZone=r,this._platform=s,this._animationMode=a,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new _.a,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new _.a,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new o.n,this.indexFocused=new o.n,r.runOutsideAngular(()=>{Object(ue.a)(t.nativeElement,"mouseleave").pipe(Object(C.a)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=Object(b.e)(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){Object(ue.a)(this._previousPaginator.nativeElement,"touchstart",Qe).pipe(Object(C.a)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Object(ue.a)(this._nextPaginator.nativeElement,"touchstart",Qe).pipe(Object(C.a)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:Object(x.a)(null),e=this._viewportRuler.change(150),i=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new g.f(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(i):i(),Object(v.a)(t,e,this._items.changes).pipe(Object(C.a)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(i)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Object(C.a)(this._destroyed)).subscribe(t=>{this.indexFocused.emit(t),this._setTabFocus(t)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!Object(M.r)(t))switch(t.keyCode){case M.e:case M.m:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const e=this._items?this._items.toArray()[t]:null;return!!e&&!e.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const e=this._tabListContainer.nativeElement,i=this._getLayoutDirection();e.scrollLeft="ltr"==i?0:e.scrollWidth-e.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,e="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(e)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const e=this._items?this._items.toArray()[t]:null;if(!e)return;const i=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:n,offsetWidth:r}=e.elementRef.nativeElement;let o,s;"ltr"==this._getLayoutDirection()?(o=n,s=o+r):(s=this._tabList.nativeElement.offsetWidth-n,o=s-r);const a=this.scrollDistance,c=this.scrollDistance+i;o<a?this.scrollDistance-=a-o+60:s>c&&(this.scrollDistance+=s-c+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,e){e&&null!=e.button&&0!==e.button||(this._stopInterval(),Object(de.a)(650,100).pipe(Object(C.a)(Object(v.a)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:e,distance:i}=this._scrollHeader(t);(0===i||i>=e)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(o.h),o.Mb(yt.d),o.Mb(I.b,8),o.Mb(o.A),o.Mb(pe.a),o.Mb(c.a,8))},t.\u0275dir=o.Hb({type:t,inputs:{disablePagination:"disablePagination"}}),t})(),ti=(()=>{class t extends Je{constructor(t,e,i,n,r,o,s){super(t,e,i,n,r,o,s),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Object(b.b)(t)}_itemSelected(t){t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(o.h),o.Mb(yt.d),o.Mb(I.b,8),o.Mb(o.A),o.Mb(pe.a),o.Mb(c.a,8))},t.\u0275dir=o.Hb({type:t,inputs:{disableRipple:"disableRipple"},features:[o.yb]}),t})(),ei=(()=>{class t extends ti{constructor(t,e,i,n,r,o,s){super(t,e,i,n,r,o,s)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(o.h),o.Mb(yt.d),o.Mb(I.b,8),o.Mb(o.A),o.Mb(pe.a),o.Mb(c.a,8))},t.\u0275cmp=o.Gb({type:t,selectors:[["mat-tab-header"]],contentQueries:function(t,e,i){if(1&t&&o.Fb(i,Xe,0),2&t){let t;o.nc(t=o.ac())&&(e._items=t)}},viewQuery:function(t,e){if(1&t&&(o.Dc(Ie,3),o.Dc(ke,3),o.Dc(Me,3),o.Dc(Re,1),o.Dc(je,1)),2&t){let t;o.nc(t=o.ac())&&(e._inkBar=t.first),o.nc(t=o.ac())&&(e._tabListContainer=t.first),o.nc(t=o.ac())&&(e._tabList=t.first),o.nc(t=o.ac())&&(e._nextPaginator=t.first),o.nc(t=o.ac())&&(e._previousPaginator=t.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,e){2&t&&o.Eb("mat-tab-header-pagination-controls-enabled",e._showPaginationControls)("mat-tab-header-rtl","rtl"==e._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[o.yb],ngContentSelectors:ge,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,e){1&t&&(o.ic(),o.Sb(0,"div",0,1),o.Zb("click",function(){return e._handlePaginatorClick("before")})("mousedown",function(t){return e._handlePaginatorPress("before",t)})("touchend",function(){return e._stopInterval()}),o.Nb(2,"div",2),o.Rb(),o.Sb(3,"div",3,4),o.Zb("keydown",function(t){return e._handleKeydown(t)}),o.Sb(5,"div",5,6),o.Zb("cdkObserveContent",function(){return e._onContentChanges()}),o.Sb(7,"div",7),o.hc(8),o.Rb(),o.Nb(9,"mat-ink-bar"),o.Rb(),o.Rb(),o.Sb(10,"div",8,9),o.Zb("mousedown",function(t){return e._handlePaginatorPress("after",t)})("click",function(){return e._handlePaginatorClick("after")})("touchend",function(){return e._stopInterval()}),o.Nb(12,"div",2),o.Rb()),2&t&&(o.Eb("mat-tab-header-pagination-disabled",e._disableScrollBefore),o.jc("matRippleDisabled",e._disableScrollBefore||e.disableRipple),o.Bb(5),o.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode),o.Bb(5),o.Eb("mat-tab-header-pagination-disabled",e._disableScrollAfter),o.jc("matRippleDisabled",e._disableScrollAfter||e.disableRipple))},directives:[l.l,Yt.a,Ie],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),t})(),ii=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({imports:[[r.c,l.g,n.f,l.m,Yt.c,g.a],l.g]}),t})();var ni=i("CzEO"),ri=i("kzlf"),oi=i.n(ri),si=i("X607"),ai=i.n(si),ci=i("PCNd");const li=oi.a.import("blots/inline");let hi=(()=>{class t extends li{static create(t){const e=super.create();return t.uuid&&e.setAttribute("data-comment-uuid",t.uuid),t.message&&e.setAttribute("data-comment-message",t.message),e}static formats(t){const e={},i=t.getAttribute("data-comment-uuid");i&&(e.uuid=i);const n=t.getAttribute("data-comment-message");return n&&(e.message=n),e}format(t,e){"comment"===t?e?(e.uuid?this.domNode.setAttribute("data-comment-uuid",e.uuid):this.domNode.removeAttribute("data-comment-uuid"),e.message?this.domNode.setAttribute("data-comment-message",e.message):this.domNode.removeAttribute("data-comment-message")):(this.domNode.removeAttribute("data-comment-uuid"),this.domNode.removeAttribute("data-comment-message")):super.format(t,e)}}return t.blotName="comment",t.tagName="span",t})(),ui=(()=>{class t extends li{static create(t){const e=super.create();return t.uuid&&e.setAttribute("data-lint-uuid",t.uuid),t.message&&e.setAttribute("data-lint-message",t.message),e}static formats(t){const e={},i=t.getAttribute("data-lint-uuid");i&&(e.uuid=i);const n=t.getAttribute("data-lint-message");return n&&(e.message=n),e}format(t,e){"lint"===t?e?(e.uuid?this.domNode.setAttribute("data-lint-uuid",e.uuid):this.domNode.removeAttribute("data-lint-uuid"),e.message?this.domNode.setAttribute("data-lint-message",e.message):this.domNode.removeAttribute("data-lint-message")):(this.domNode.removeAttribute("data-lint-uuid"),this.domNode.removeAttribute("data-lint-message")):super.format(t,e)}}return t.blotName="lint",t.tagName="span",t})();var di=i("tyNb");let pi=(()=>{class t{canDeactivate(t,e,i,n){return t.canDeactivate?t.canDeactivate():window.confirm("Are you sure you want to leave this page")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var bi=i("tk/3");let gi=(()=>{class t{constructor(t){this.http=t}getScripts(t){return this.http.get(`api/v1/scripts?page=${t}`)}deleteScripts(t){const e=t.map(t=>`id[]=${t}`).join("&");return this.http.delete(`api/v1/scripts?${e}`)}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(bi.b))},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function fi(t,e){if(1&t){const t=o.Tb();o.Sb(0,"li",5),o.Sb(1,"input",6),o.Zb("change",function(i){o.qc(t);const n=e.$implicit;return o.dc().checkScript(i,n.id)}),o.Rb(),o.Sb(2,"div",7),o.Sb(3,"a",8),o.zc(4),o.Rb(),o.Sb(5,"span",9),o.zc(6),o.Rb(),o.Sb(7,"div"),o.Sb(8,"span",10),o.zc(9),o.ec(10,"date"),o.Rb(),o.Sb(11,"span",10),o.zc(12),o.ec(13,"date"),o.Rb(),o.Rb(),o.Rb(),o.Rb()}if(2&t){const t=e.$implicit,i=o.dc();o.Bb(1),o.jc("value",i.deleteScriptIds.includes(t.id)),o.Bb(2),o.jc("routerLink",t.id.toString()),o.Bb(1),o.Bc(" ",t.title," "),o.Bb(2),o.Bc("author: ",null==t.author?null:t.author.name,""),o.Bb(3),o.Bc("created: ",o.fc(10,6,t.created),""),o.Bb(3),o.Bc("updated: ",o.fc(13,8,t.updated),"")}}let mi=(()=>{class t{constructor(t,e){this.scriptListService=t,this.cd=e,this.deleteScriptIds=[],this.unsubscriber$=new _.a,this.scriptListService.getScripts(1).pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.scripts=t,this.cd.markForCheck()})}ngOnInit(){}ngOnDestroy(){this.unsubscriber$.next()}checkScript(t,e){t.target.checked?this.deleteScriptIds.push(e):this.deleteScriptIds=this.deleteScriptIds.filter(t=>t!==e)}deleteScripts(){this.scriptListService.deleteScripts(this.deleteScriptIds).pipe(Object(C.a)(this.unsubscriber$)).subscribe(()=>{this.scripts=this.scripts.filter(t=>!this.deleteScriptIds.includes(t.id)),this.deleteScriptIds=[],this.cd.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(gi),o.Mb(o.h))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-script-list"]],decls:7,vars:2,consts:[[1,"wrapper"],["mat-stroked-button","","color","primary",3,"routerLink"],["mat-stroked-button","","color","primary",3,"click"],[1,"list"],["class","list-detail",4,"ngFor","ngForOf"],[1,"list-detail"],["type","checkbox",1,"list-detail__checkbox",3,"value","change"],[1,"list-detail__body"],[1,"list-detail__body-main",3,"routerLink"],[1,"list-detail__body-main-author"],[1,"list-detail__body-sub-date"]],template:function(t,e){1&t&&(o.Sb(0,"div",0),o.Sb(1,"a",1),o.zc(2,"new script"),o.Rb(),o.Sb(3,"button",2),o.Zb("click",function(){return e.deleteScripts()}),o.zc(4," Bulk Delete "),o.Rb(),o.Sb(5,"ul",3),o.xc(6,fi,14,10,"li",4),o.Rb(),o.Rb()),2&t&&(o.Bb(1),o.jc("routerLink","new"),o.Bb(5),o.jc("ngForOf",e.scripts))},directives:[a.a,di.c,a.b,r.k],pipes:[r.e],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}.wrapper[_ngcontent-%COMP%]{width:100%;max-width:1080px;margin:0 auto;padding:0 30px}.wrapper[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{list-style-type:none;padding-left:5px}.wrapper[_ngcontent-%COMP%]   .list-detail[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:5px;border-bottom:1px solid}.wrapper[_ngcontent-%COMP%]   .list-detail__checkbox[_ngcontent-%COMP%]{display:block}.wrapper[_ngcontent-%COMP%]   .list-detail__body[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .list-detail__body-main-author[_ngcontent-%COMP%]{margin-left:20px}.wrapper[_ngcontent-%COMP%]   .list-detail__body-sub-date[_ngcontent-%COMP%]{margin-right:20px}"],changeDetection:0}),t})();var _i=i("mrSG"),vi=i("jtHE"),yi=i("5+tZ"),xi=i("SxV6"),Ci=i("7o/Q");class Si{constructor(t){this.total=t}call(t,e){return e.subscribe(new wi(t,this.total))}}class wi extends Ci.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}var Oi=i("2Xbf");class ki{constructor(t={}){this.title="",this.deltaOps=[],Object.assign(this,t)}clone(){return Object.assign(Object.create(Object.getPrototypeOf(this)),this)}isEqual(t){return JSON.stringify(this)===JSON.stringify(t)}}var Mi=i("7Cbv"),Ri=i("Ptse"),ji=i("dCgF");i("8kjx");const Ai=(t,e,i,n,r)=>{try{if(e&&e.cursor&&i!==n.clientID){const o=e.user||{},s=o.color||"#ffa500",a=o.name||`User: ${i}`;t.createCursor(i.toString(),a,s);const c=ji.e(ji.f(e.cursor.anchor),n),l=ji.e(ji.f(e.cursor.head),n);c&&l&&c.type===r&&t.moveCursor(i.toString(),{index:c.index,length:l.index-c.index})}else t.removeCursor(i.toString())}catch(o){console.error(o)}};class Ii{constructor(t,e,i){const n=Object(Ri.a)(),r=t.doc;this.mux=n,this.type=t,this.doc=r,this.quill=e;const o=e.getModule("cursors")||null;this.quillCursors=o,this._negatedUsedFormats={},this.awareness=i,this._awarenessChange=({added:e,removed:n,updated:s})=>{const a=i.getStates();e.forEach(e=>{Ai(o,a.get(e),e,r,t)}),s.forEach(e=>{Ai(o,a.get(e),e,r,t)}),n.forEach(t=>{o.removeCursor(t.toString())})},this._typeObserver=t=>{n(()=>{const i=t.delta,n=[];for(let t=0;t<i.length;t++){const e=i[t];n.push(void 0!==e.insert?Object.assign({},e,{attributes:Object.assign({},this._negatedUsedFormats,e.attributes||{})}):e)}e.updateContents(n,"yjs")})},t.observe(this._typeObserver),this._quillObserver=(s,a)=>{if(a&&a.ops){const e=a.ops;e.forEach(t=>{if(void 0!==t.attributes)for(let e in t.attributes)void 0===this._negatedUsedFormats[e]&&(this._negatedUsedFormats[e]=!1)}),n(()=>{t.applyDelta(e)})}if(i&&o){const n=e.getSelection(),s=i.getLocalState();if(null===n)null!==i.getLocalState()&&i.setLocalStateField("cursor",null);else{const e=ji.g(t,n.index),r=ji.g(t,n.index+n.length);s&&s.cursor&&ji.d(e,s.cursor.anchor)&&ji.d(r,s.cursor.head)||i.setLocalStateField("cursor",{anchor:e,head:r})}i.getStates().forEach((e,i)=>{Ai(o,e,i,r,t)})}},e.on("editor-change",this._quillObserver),n(()=>{e.setContents(t.toDelta())}),null!==o&&i&&(i.getStates().forEach((e,i)=>{Ai(o,e,i,r,t)}),i.on("change",this._awarenessChange))}destroy(){this.type.unobserve(this._typeObserver),this.quill.off("editor-change",this._quillObserver),this.awareness&&this.awareness.off("change",this._awarenessChange)}}var Ei=i("OaWH"),Ti=i("2Vo4");let Pi=(()=>{class t{constructor(t){this.http=t,this.loadingStateSubject$=new Ti.a(!1),this.loadingState$=this.loadingStateSubject$.asObservable(),this.loadingUuids=[]}loadingStateChange(t){if(t){const e=this.loadingUuids.indexOf(t);e>-1&&this.loadingUuids.splice(e,1)}else t=Object(Mi.a)(),this.loadingUuids.push(t);return this.loadingStateSubject$.next(this.loadingUuids.length>0),t}constituencyParse(t){return this.http.post("api/v2/constituency-parse",{textBlocks:t})}textLint(t){return this.http.post("api/v1/textlint",{text:t}).pipe(Object(wt.a)(t=>t[0]))}splitTextByNewline(t){if(t.length<2)return t;let e=t;[/\u300c[^\u300d]*\u300d/g,/\uff08[^\uff09]*\uff09/g,/\([^\)]*\)/g,/\[[^\]]*\]/g,/"[^"]*"/g,/\u201d[^\u201d]*\u201d/g].forEach(t=>{e=e.replace(t,t=>"#".repeat(t.length))});let i="",n=0;return[...Array(e.length-1)].forEach((r,o)=>{"\u3002"===e.charAt(o)&&(i+=t.substring(n,o+1)+"\n",n=o+1)}),i+=t.substring(n),i}getScript(t){return this.http.get(`api/v1/scripts/${t}`).pipe(Object(wt.a)(t=>new ki(t)))}putScript(t){return this.http.put(`api/v1/scripts/${t.id}`,{title:t.title,deltaOps:t.deltaOps}).pipe(Object(wt.a)(t=>new ki(t)))}postScript(t){return this.http.post("api/v1/scripts",{title:t.title,deltaOps:t.deltaOps}).pipe(Object(wt.a)(t=>new ki(t)))}deleteScript(t){return this.http.delete(`api/v1/scripts/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(bi.b))},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Li=i("ZZLe");let Di=(()=>{class t{constructor(t,e,i){this.appService=t,this.scriptService=e,this.tokenizeService=i,this.commentSubject$=new _.a,this.focusChatMessage$=new _.a,this.editorFocus$=new _.a,this.initialized$=new vi.a(1)}get wsConnected(){return this.appService.wsProvider.wsconnected}initialize(t,e,i){const n=this.scriptService.loadingStateChange();this.editor=e,this.editor.getModule("text-marking"),this.ytext=this.appService.ydoc.getText(`script-${t}`),this.undoManager=new ji.b(this.ytext),this.binding=new Ii(this.ytext,e,this.appService.wsProvider.awareness),this.appService.wsSynced().subscribe(()=>{"\n"!==this.editor.getText()&&void 0!==t||this.editor.setContents(i),this.initialized$.next(),this.scriptService.loadingStateChange(n)})}onContentChanged(t){}getText(){return this.editor.getText()}getDelta(){return this.editor.getContents().ops}undo(){this.checkInitialized(),this.undoManager.undo()}redo(){this.checkInitialized(),this.undoManager.redo()}reformat(){const t=this.editor.getText();let e=0,i=t.indexOf("\u3002");for(;i>-1;)"\n"!==t.charAt(i+1)&&(this.editor.insertText(i+e+1,"\n"),e+=1),i=t.indexOf("\u3002",i+1)}selectionReformat(){const t=this.editor.getText(),e=this.editor.getSelection();let i=0,n=t.indexOf("\u3002",e.index);for(;n>-1&&n<e.index+e.length;)"\n"!==t.charAt(n+1)&&(this.editor.insertText(n+i+1,"\n"),i+=1),n=t.indexOf("\u3002",n+1)}highlight(t,e="#FFAF7A"){t.forEach(t=>{const i=t.length;let n=this.editor.getText().indexOf(t);for(;n>-1;)this.editor.formatText(n,i,"background-color",e),n=this.editor.getText().indexOf(t,n+1)})}highlightByBaseForm(t,e="#FFAF7A"){const i=this.editor.getText();return this.tokenizeService.tokenize(i).pipe(Object(wt.a)(i=>{i.forEach(i=>{t.includes(i.basic_form)&&this.editor.formatText(i.word_position-1,i.surface_form.length,"background-color",e)})}))}removeHighlight(){const t=this.editor.getContents();t.ops=t.ops.map(t=>{var e;return(null===(e=t.attributes)||void 0===e?void 0:e.background)&&delete t.attributes.background,t}),this.editor.setContents(t)}underline(t){t.forEach(t=>{const e=t.length;let i=this.editor.getText().indexOf(t);for(;i>-1;)this.editor.formatText(i,e,"underline",!0),i=this.editor.getText().indexOf(t,i+1)})}removeUnderline(){const t=this.editor.getContents();t.ops=t.ops.map(t=>{var e;return(null===(e=t.attributes)||void 0===e?void 0:e.underline)&&delete t.attributes.underline,t}),this.editor.setContents(t)}removeStrikes(){const t=this.editor.getContents();t.ops=t.ops.filter(t=>{var e;return!(null===(e=t.attributes)||void 0===e?void 0:e.strike)}),this.editor.setContents(t)}onChangeTextColor(t){this.textColor=t}onChangeBackgroundColor(t){this.backgroundColor=t}onSelectionChange(t){t.range&&(this.selectionRange=t.range)}selectionBold(){const t=this.selectionRange;this.editor.formatText(t.index,t.length,"bold",!0)}selectionColorUp(){const t=this.selectionRange;this.editor.formatText(t.index,t.length,"color",this.textColor)}selectionBackgroundColorUp(){const t=this.selectionRange;this.editor.formatText(t.index,t.length,"background",this.backgroundColor)}selectionStrike(){const t=this.selectionRange;this.editor.formatText(t.index,t.length,"strike",!0)}selectionComment(){const t=Object(Mi.a)(),e=this.selectionRange;this.editor.formatText(e.index,e.length,"comment",{uuid:t}),this.commentSubject$.next(t)}unselectComment(t){const e=this.editor.getContents();e.ops=e.ops.map(e=>{var i,n;return(null===(n=null===(i=e.attributes)||void 0===i?void 0:i.comment)||void 0===n?void 0:n.uuid)===t&&delete e.attributes.comment,e}),this.editor.setContents(e)}focusChatMessage(t){this.focusChatMessage$.next(t)}initialComments(t){const e=t.reduce((t,e,i)=>(t[e.uuid]=i,t),{}),i=this.editor.getContents();return i.ops=i.ops.map(i=>{var n,r;if(!(null===(r=null===(n=i.attributes)||void 0===n?void 0:n.comment)||void 0===r?void 0:r.uuid))return;const o=e[i.attributes.comment.uuid];return o?(t[o].selectedText=(t[o].selectedText||"")+i.insert,i.attributes.comment.message=t[o].body):delete i.attributes.comment,i}),t}selectionCommentFocused(t){this.editorFocus$.next({uuid:t,type:"comment"})}selectionCommentText(t){return this.editor.getContents().ops.filter(e=>{var i,n;return(null===(n=null===(i=e.attributes)||void 0===i?void 0:i.comment)||void 0===n?void 0:n.uuid)===t}).map(t=>t.insert).join()}applySelectionCommentMessage(t,e){const i=this.editor.getContents();i.ops=i.ops.map(i=>{var n,r;return(null===(r=null===(n=i.attributes)||void 0===n?void 0:n.comment)||void 0===r?void 0:r.uuid)===t&&(i.attributes.comment.message=e),i}),this.editor.setContents(i)}applyTextLintResult(t){const e=this.editor.getText(),i=e.split("\n").reduce((t,e,i)=>{let n=0;return i>0&&(n+=t[i-1].end+1),t.push({start:n,end:n+e.length}),t},[]);return t.messages=t.messages.map(t=>{t.uuid=Object(Mi.a)();const n=i[t.line-1];this.editor.formatText(n.start,n.end-n.start,"lint",{uuid:t.uuid,message:t.message});const r=Math.min(n.end,n.start+10);return t.target=e.slice(n.start,r)+"..",t}),t}removeTextLintResult(){const t=this.editor.getContents();let e=!1;t.ops=t.ops.map(t=>{var i;return(null===(i=t.attributes)||void 0===i?void 0:i.lint)&&(e=!0,delete t.attributes.lint),t}),e&&this.editor.setContents(t)}focusTextLintMessage(t){this.editorFocus$.next({uuid:t.uuid,type:"textlint"})}checkInitialized(){if(!this.editor)throw new Error("ytext is not initialized")}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(Ei.a),o.Wb(Pi),o.Wb(Li.a))},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac}),t})(),Fi=(()=>{class t{constructor(t,e){this.cd=t,this.editorService=e,this.display="none"}ngOnInit(){}selectionChange(t){this.selection=window.getSelection();const e=this.selection.getRangeAt(0);if(this.selection.isCollapsed)return this.display="none",void this.cd.markForCheck();const i=e.getBoundingClientRect();this.top=i.top+window.pageYOffset-50+"px",this.left=i.left+"px",this.display="block",this.cd.markForCheck()}clickDocument(t){t.target.closest(".editor__main")||(this.display="none",this.cd.markForCheck())}bold(){this.editorService.selectionBold()}colorUp(){this.editorService.selectionColorUp()}backColor(){this.editorService.selectionBackgroundColorUp()}comment(){this.editorService.selectionComment()}format(){this.editorService.selectionReformat()}strike(){this.editorService.selectionStrike()}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.h),o.Mb(Di))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-balloon"]],hostVars:6,hostBindings:function(t,e){1&t&&o.Zb("click",function(t){return e.clickDocument(t)},!1,o.pc),2&t&&o.uc("top",e.top)("left",e.left)("display",e.display)},decls:18,vars:0,consts:[[1,"wrapper"],[1,"svg__icon","item",3,"click"],[1,"item",3,"click"]],template:function(t,e){1&t&&(o.Sb(0,"div",0),o.Sb(1,"div",1),o.Zb("click",function(){return e.bold()}),o.Sb(2,"mat-icon"),o.zc(3,"format_bold"),o.Rb(),o.Rb(),o.Sb(4,"div",1),o.Zb("click",function(){return e.colorUp()}),o.Sb(5,"mat-icon"),o.zc(6,"format_color_text"),o.Rb(),o.Rb(),o.Sb(7,"div",1),o.Zb("click",function(){return e.backColor()}),o.Sb(8,"mat-icon"),o.zc(9,"format_color_fill"),o.Rb(),o.Rb(),o.Sb(10,"div",1),o.Zb("click",function(){return e.strike()}),o.Sb(11,"mat-icon"),o.zc(12,"strikethrough_s"),o.Rb(),o.Rb(),o.Sb(13,"div",1),o.Zb("click",function(){return e.comment()}),o.Sb(14,"mat-icon"),o.zc(15,"comment"),o.Rb(),o.Rb(),o.Sb(16,"button",2),o.Zb("click",function(){return e.format()}),o.zc(17,"format"),o.Rb(),o.Rb())},directives:[d.a],styles:["[_nghost-%COMP%]{position:absolute;z-index:30}.wrapper[_ngcontent-%COMP%]{border:1px solid #000;background-color:#fff;box-shadow:0 0 10px;height:20px;padding:8px 10px;display:flex}.wrapper[_ngcontent-%COMP%]     mat-form-field .mat-form-field-infix{display:none}.wrapper[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin-right:5px;cursor:pointer}.svg__icon[_ngcontent-%COMP%]:hover{color:#3f51b5}"],changeDetection:0}),t})();var Bi=i("cp0P"),zi=i("JIr8");const Ni=["\u3060\u304b\u3089","\u305d\u308c\u3067","\u305d\u306e\u305f\u3081","\u3053\u306e\u305f\u3081","\u305d\u3053\u3067","\u3057\u305f\u304c\u3063\u3066","\u3086\u3048\u306b","\u305d\u308c\u3086\u3048\u306b","\u3059\u308b\u3068","\u305d\u308c\u306a\u3089","\u305d\u308c\u3067\u306f","\u3057\u304b\u3057","\u3057\u304b\u3057\u306a\u304c\u3089","\u3060\u3051\u3069","\u3051\u308c\u3069\u3082","\u3068\u3053\u308d\u304c","\u306e\u306b","\u306a\u306e\u306b","\u305d\u308c\u306a\u306e\u306b","\u306b\u3082\u304b\u304b\u308f\u3089\u305a","\u305d\u308c\u306b\u3082\u304b\u304b\u308f\u3089\u305a","\u3082\u306e\u306e","\u3068\u306f\u3044\u3046\u3082\u306e\u306e","\u3067\u3082","\u305d\u308c\u3067\u3082","\u307e\u305f","\u304a\u3088\u3073","\u304b\u3064","\u306a\u3089\u3073\u306b","\u540c\u3058\u304f","\u7b2c\uff11\u306b","\u7b2c\uff12\u306b","\u7b2c\uff13\u306b","\uff11\u3064\u76ee\u306f","\uff12\u3064\u76ee\u306f","\uff13\u3064\u76ee\u306f","\uff11\u70b9\u76ee\u306f","\uff12\u70b9\u76ee\u306f","\uff13\u70b9\u76ee\u306f","\uff11\u3064\u306f","\u3082\u3046\uff11\u3064\u306f","\uff11\u70b9\u306f","\u3082\u3046\uff11\u70b9\u306f","\u6700\u521d\u306b","\u6b21\u306b","\u6700\u5f8c\u306b","\u306f\u3058\u3081\u306b","\u305d\u306e\u3042\u3068\u306b","\u304a\u308f\u308a\u306b","\u305d\u3057\u3066","\u305d\u308c\u306b","\u305d\u308c\u306b\u3057\u3066\u3082","\u305d\u308c\u304b\u3089","\u3057\u304b\u3082","\u304a\u307e\u3051\u306b","\u3055\u3089\u306b","\u305d\u306e\u3046\u3048","\u52a0\u3048\u3066","\u305d\u308c\u3069\u3053\u308d\u304b","\u3069\u3053\u308d\u304b","\u305d\u308c\u3070\u304b\u308a\u304b","\u305d\u308c\u3070\u304b\u308a\u3067\u306a\u304f","\u305d\u306e\u4e0a\u3067","\u4e00\u65b9","\u4ed6\u65b9","\u9006\u306b","\u53cd\u5bfe\u306b","\u53cd\u9762","\u305d\u306e\u304b\u308f\u308a","\u307e\u305f\u306f","\u305d\u308c\u3068\u3082","\u3042\u308b\u3044\u306f","\u3082\u3057\u304f\u306f","\u306a\u305c\u306a\u3089","\u3060\u3063\u3066","\u3068\u3044\u3046\u306e\u306f","\u3068\u3044\u3046\u306e\u3082","\u306a\u305c\u304b\u3068\u3044\u3046\u3068","\u3069\u3046\u3057\u3066\u304b\u3068\u3044\u3046\u3068","\u306a\u3093\u3067\u304b\u3068\u3044\u3046\u3068","\u305d\u306e\u305f\u3081\u306b\u306f","\u305d\u308c\u306b\u306f","\u306a\u304a","\u305f\u3060\u3057","\u305f\u3060","\u3082\u3063\u3068\u3082","\u3061\u306a\u307f\u306b","\u305d\u3082\u305d\u3082","\u5b9f\u306f","\u5b9f\u306e\u3068\u3053\u308d","\u3064\u307e\u308a","\u3059\u306a\u308f\u3061","\u8981\u3059\u308b\u306b","\u4f8b\u3048\u3070","\u3044\u308f\u3070","\u7279\u306b","\u3068\u308a\u308f\u3051","\u306a\u304b\u3067\u3082","\u305d\u308c\u3067\u306f","\u3067\u306f","\u3055\u3066","\u3068\u3053\u308d\u3067","\u3053\u306e\u3088\u3046\u306b","\u4ee5\u4e0a\u306e\u3088\u3046\u306b","\u3044\u305a\u308c\u306b\u3057\u3066\u3082","\u3044\u305a\u308c\u306b\u305b\u3088","\u3068\u3082\u3042\u308c","\u78ba\u304b\u306b","\u3057\u304b\u3057","\u4e00\u65b9\u3067\u306f","\u4ed6\u65b9\u3067\u306f"];function qi(t,e){if(1&t){const t=o.Tb();o.Sb(0,"button",19),o.Zb("click",function(){return o.qc(t),o.dc().highlightValue.reset()}),o.Sb(1,"mat-icon"),o.zc(2,"close"),o.Rb(),o.Rb()}}function $i(t,e){if(1&t){const t=o.Tb();o.Sb(0,"button",19),o.Zb("click",function(){return o.qc(t),o.dc().baseFormValue.reset()}),o.Sb(1,"mat-icon"),o.zc(2,"close"),o.Rb(),o.Rb()}}function Hi(t,e){if(1&t&&(o.Sb(0,"mat-option",20),o.zc(1),o.Rb()),2&t){const t=e.$implicit;o.jc("value",t),o.Bb(1),o.Ac(t)}}function Vi(t,e){if(1&t&&(o.Sb(0,"mat-option",20),o.zc(1),o.Rb()),2&t){const t=e.$implicit;o.jc("value",t),o.Bb(1),o.Ac(t)}}let Gi=(()=>{class t{constructor(t,e,i){this.scriptService=t,this.editorService=e,this.tokenizeService=i,this.highlightValue=new s.e(""),this.baseFormValue=new s.e(""),this.keys=["\u8003\u3048\u308b","\u601d\u3046"],this.keywordValues=new s.e(this.keys),this.conjunctions=Ni,this.conjunctionValues=new s.e(this.conjunctions),this.textColorCtr=new s.e,this.backgroundColorCtr=new s.e,this.color="primary",this.toggleSubtitleButton=new o.n,this.toolBoxHighlightKey="tool-box-highlight-key",this.toolBoxBaseFormKey="tool-box-base-form-key",this.toolBoxTextColorCodeKey="tool-box-text-color-code-key",this.toolBoxBackgroundColorCodeKey="tool-box-background-color-code-key",this.unsubscriber$=new _.a;const n=localStorage.getItem(this.toolBoxHighlightKey);n&&this.highlightValue.setValue(n);const r=localStorage.getItem(this.toolBoxBaseFormKey);r&&this.baseFormValue.setValue(r),this.textColorCtr.valueChanges.pipe(Object(k.a)(t=>t),Object(C.a)(this.unsubscriber$)).subscribe(t=>{const e=`#${t.toHex()}`;this.editorService.onChangeTextColor(e),localStorage.setItem(this.toolBoxTextColorCodeKey,e)}),this.backgroundColorCtr.valueChanges.pipe(Object(k.a)(t=>t),Object(C.a)(this.unsubscriber$)).subscribe(t=>{const e=`#${t.toHex()}`;this.editorService.onChangeBackgroundColor(e),localStorage.setItem(this.toolBoxBackgroundColorCodeKey,e)});const a=localStorage.getItem(this.toolBoxTextColorCodeKey),c=this.hex2rgb(a?`${a}`:"#000000");this.textColorCtr.setValue(new Q(c[0],c[1],c[2]));const l=localStorage.getItem(this.toolBoxBackgroundColorCodeKey),h=this.hex2rgb(l?`${l}`:"#000000");this.backgroundColorCtr.setValue(new Q(h[0],h[1],h[2]))}ngOnInit(){}ngOnDestroy(){this.unsubscriber$.next()}highlight(t,e){this.highlightValue.value&&this.editorService.highlight(t,e)}removeOldHighlighted(){this.editorService.removeHighlight()}highlightBaseForm(t,e){if(0===t.length)return;const i=this.scriptService.loadingStateChange();Object(Bi.a)(t.map(t=>this.tokenizeService.tokenize(t))).pipe(Object(wt.a)(t=>{const e=t.map(t=>t[0].basic_form),i=e.filter(t=>"*"===t);return i.length>0&&alert(`\u4ee5\u4e0b\u306e\u8a9e\u53e5\u306e\u8868\u5c64\u7cfb\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3002\n${i.join}`),e.filter(t=>"*"!==t)}),Object(yi.a)(t=>this.editorService.highlightByBaseForm(t,e)),Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.scriptService.loadingStateChange(i)},t=>{this.scriptService.loadingStateChange(i)})}bulkUnderline(t){if(0===t.length)return;const e=this.scriptService.loadingStateChange();Object(Bi.a)(t.map(t=>this.tokenizeService.tokenize(t))).pipe(Object(wt.a)(t=>t.map(t=>t[0].basic_form).filter(t=>"*"!==t)),Object(zi.a)(t=>Object(x.a)([])),Object(C.a)(this.unsubscriber$)).subscribe(t=>{t.length>0&&this.editorService.underline(t),this.scriptService.loadingStateChange(e)})}removeAllUnderlinedSentences(){this.editorService.removeUnderline()}removeStrike(){this.editorService.removeStrikes()}reformat(){this.editorService.reformat()}hex2rgb(t){return"#"===t.slice(0,1)&&(t=t.slice(1)),3===t.length&&(t=t.slice(0,1)+t.slice(0,1)+t.slice(1,2)+t.slice(1,2)+t.slice(2,3)+t.slice(2,3)),[t.slice(0,2),t.slice(2,4),t.slice(4,6)].map(t=>parseInt(t,16))}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(Pi),o.Mb(Di),o.Mb(Li.a))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-tool-box"]],outputs:{toggleSubtitleButton:"toggleSubtitleButton"},decls:79,vars:21,consts:[[1,"wrapper"],[1,"row"],[1,"row__item"],[3,"ngSubmit"],["matInput","",3,"formControl"],["type","reset","mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["multiple","",3,"formControl"],[1,"keywords"],[3,"value",4,"ngFor","ngForOf"],[1,"svg__icon",3,"click"],["matInput","",3,"ngxMatColorPicker","formControl"],["matSuffix","",3,"for"],[3,"touchUi","color"],["picker1",""],["picker2",""],[1,"row__label"],["mat-button","","color","primary",1,"row__item",3,"click"],["color","primary",1,"row__item",3,"checked","toggleChange"],[1,"row__item","row__item-remove"],["type","reset","mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(o.Sb(0,"mat-expansion-panel",0),o.Sb(1,"mat-expansion-panel-header"),o.Sb(2,"mat-panel-title"),o.zc(3," Toolbox "),o.Rb(),o.Rb(),o.Sb(4,"div",1),o.Sb(5,"div",2),o.Sb(6,"form",3),o.Zb("ngSubmit",function(){return e.highlight([e.highlightValue.value])}),o.Sb(7,"mat-form-field"),o.Sb(8,"mat-label"),o.zc(9,"Highlight"),o.Rb(),o.Nb(10,"input",4),o.xc(11,qi,3,0,"button",5),o.Rb(),o.Rb(),o.Rb(),o.Sb(12,"div",2),o.Sb(13,"form",3),o.Zb("ngSubmit",function(){return e.highlightBaseForm([e.baseFormValue.value])}),o.Sb(14,"mat-form-field"),o.Sb(15,"mat-label"),o.zc(16,"Highlight base form"),o.Rb(),o.Nb(17,"input",4),o.xc(18,$i,3,0,"button",5),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(19,"div",1),o.Sb(20,"div",2),o.Sb(21,"mat-form-field"),o.Sb(22,"mat-label"),o.zc(23,"Keywords"),o.Rb(),o.Sb(24,"mat-select",6),o.Sb(25,"mat-select-trigger"),o.Sb(26,"span",7),o.zc(27),o.Rb(),o.Rb(),o.xc(28,Hi,2,2,"mat-option",8),o.Rb(),o.Rb(),o.Sb(29,"div",9),o.Zb("click",function(){return e.highlight(e.keywordValues.value,"orange")}),o.Sb(30,"mat-icon"),o.zc(31,"border_color"),o.Rb(),o.Rb(),o.Rb(),o.Sb(32,"div",2),o.Sb(33,"mat-form-field"),o.Sb(34,"mat-label"),o.zc(35,"conjunctions"),o.Rb(),o.Sb(36,"mat-select",6),o.Sb(37,"mat-select-trigger"),o.Sb(38,"span",7),o.zc(39),o.Rb(),o.Rb(),o.xc(40,Vi,2,2,"mat-option",8),o.Rb(),o.Rb(),o.Sb(41,"div",9),o.Zb("click",function(){return e.highlight(e.conjunctionValues.value,"green")}),o.Sb(42,"mat-icon"),o.zc(43,"border_color"),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(44,"div",1),o.Sb(45,"mat-form-field",2),o.Sb(46,"mat-label"),o.zc(47,"text color"),o.Rb(),o.Nb(48,"input",10),o.Nb(49,"ngx-mat-color-toggle",11),o.Nb(50,"ngx-mat-color-picker",12,13),o.Rb(),o.Sb(52,"mat-form-field",2),o.Sb(53,"mat-label"),o.zc(54,"background color"),o.Rb(),o.Nb(55,"input",10),o.Nb(56,"ngx-mat-color-toggle",11),o.Nb(57,"ngx-mat-color-picker",12,14),o.Rb(),o.Rb(),o.Sb(59,"div",1),o.Sb(60,"div",15),o.zc(61,"buttons:"),o.Rb(),o.Sb(62,"button",16),o.Zb("click",function(){return e.reformat()}),o.zc(63," format "),o.Rb(),o.Sb(64,"mat-slide-toggle",17),o.Zb("toggleChange",function(){return e.toggleSubtitleButton.emit()}),o.zc(65," subtitle "),o.Rb(),o.Rb(),o.Sb(66,"div",1),o.Sb(67,"div",18),o.Sb(68,"div",15),o.zc(69,"remove:"),o.Rb(),o.Sb(70,"div",9),o.Zb("click",function(){return e.removeOldHighlighted()}),o.Sb(71,"mat-icon"),o.zc(72,"format_color_fill"),o.Rb(),o.Rb(),o.Sb(73,"div",9),o.Zb("click",function(){return e.removeAllUnderlinedSentences()}),o.Sb(74,"mat-icon"),o.zc(75,"format_underlined"),o.Rb(),o.Rb(),o.Sb(76,"div",9),o.Zb("click",function(){return e.removeStrike()}),o.Sb(77,"mat-icon"),o.zc(78,"strikethrough_s"),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&t){const t=o.oc(51),i=o.oc(58);o.Bb(10),o.jc("formControl",e.highlightValue),o.Bb(1),o.jc("ngIf",e.highlightValue.value),o.Bb(6),o.jc("formControl",e.baseFormValue),o.Bb(1),o.jc("ngIf",e.baseFormValue.value),o.Bb(6),o.jc("formControl",e.keywordValues),o.Bb(3),o.Ac(null==e.keywordValues.value?null:e.keywordValues.value.length),o.Bb(1),o.jc("ngForOf",e.keys),o.Bb(8),o.jc("formControl",e.conjunctionValues),o.Bb(3),o.Ac(null==e.conjunctionValues.value?null:e.conjunctionValues.value.length),o.Bb(1),o.jc("ngForOf",e.conjunctions),o.Bb(8),o.jc("ngxMatColorPicker",t)("formControl",e.textColorCtr),o.Bb(1),o.jc("for",t),o.Bb(1),o.jc("touchUi",!1)("color",e.color),o.Bb(5),o.jc("ngxMatColorPicker",i)("formControl",e.backgroundColorCtr),o.Bb(1),o.jc("for",i),o.Bb(1),o.jc("touchUi",!1)("color",e.color),o.Bb(7),o.jc("checked",!0)}},directives:[vt.c,vt.d,vt.e,s.v,s.o,s.p,A.c,A.f,p.b,s.c,s.n,s.f,r.l,Wt,Gt,r.k,d.a,gt,ft,A.h,ut,a.b,ce,l.i],styles:[".wrapper[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #000;text-align:center}.wrapper[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;align-items:center}.wrapper[_ngcontent-%COMP%]   .row__item[_ngcontent-%COMP%]{margin-right:30px;display:flex}.wrapper[_ngcontent-%COMP%]   .row__item[_ngcontent-%COMP%]   .svg__icon[_ngcontent-%COMP%]{display:block;align-self:center}.wrapper[_ngcontent-%COMP%]   .row__item-remove[_ngcontent-%COMP%]   .svg__icon[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .row__label[_ngcontent-%COMP%]{margin-right:20px}.wrapper[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{margin-left:5px}.svg__icon[_ngcontent-%COMP%]{cursor:pointer}.svg__icon[_ngcontent-%COMP%]:hover{color:#3f51b5}"],changeDetection:0}),t})(),Zi=(()=>{class t{constructor(t,e){this.http=t,this.appService=e}createArray(t){this.yarray=this.appService.ydoc.getArray(t);const e=new vi.a(1);return this.yarray.observe((t,i)=>{const n=this.yarray.toArray();e.next(n)}),e.next(this.yarray.toArray()),this.appService.wsSynced().pipe(Object(yi.a)(()=>e.asObservable()),Object(w.a)())}insertArray(t,...e){this.yarray.insert(t,e)}pushArray(...t){this.yarray.push(t)}spliceArray(t,e,...i){this.yarray.delete(t,e),this.yarray.insert(t,i)}getMessages(t){return this.http.get(`api/v1/messages?scriptId=${t}`)}postMessage(t){return this.http.post("api/v1/messages",t)}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(bi.b),o.Wb(Ei.a))},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac}),t})();var Wi=i("ej43");const Ui=["form"],Ki=["chatMessage"];function Yi(t,e){1&t&&o.Ob(0)}const Xi=function(t){return{message:t}};function Qi(t,e){if(1&t&&(o.Qb(0),o.xc(1,Yi,1,0,"ng-container",13),o.Pb()),2&t){const t=e.$implicit;o.dc(2);const i=o.oc(11);o.Bb(1),o.jc("ngTemplateOutlet",i)("ngTemplateOutletContext",o.lc(2,Xi,t))}}function Ji(t,e){if(1&t&&(o.Qb(0),o.Sb(1,"div",10,11),o.xc(3,Qi,2,4,"ng-container",12),o.Rb(),o.Pb()),2&t){const t=o.dc();o.Bb(3),o.jc("ngForOf",t.messages)}}function tn(t,e){if(1&t&&(o.Qb(0),o.zc(1),o.Pb()),2&t){const t=o.dc();o.Bb(1),o.Bc(" Target: ",t.selected.text," ")}}function en(t,e){1&t&&(o.Qb(0),o.zc(1,"Reply: "),o.Pb())}function nn(t,e){if(1&t&&(o.Sb(0,"p",26),o.zc(1),o.Rb()),2&t){const t=o.dc().message;o.Bb(1),o.Bc(" ",t.selectedText.length>15?t.selectedText.slice(0,15)+"..":t.selectedText," ")}}function rn(t,e){1&t&&o.Ob(0)}function on(t,e){if(1&t&&(o.Qb(0),o.xc(1,rn,1,0,"ng-container",13),o.Pb()),2&t){const t=e.$implicit;o.dc(3);const i=o.oc(11);o.Bb(1),o.jc("ngTemplateOutlet",i)("ngTemplateOutletContext",o.lc(2,Xi,t))}}function sn(t,e){if(1&t&&(o.Sb(0,"div",27),o.xc(1,on,2,4,"ng-container",12),o.Rb()),2&t){const t=o.dc().message;o.Bb(1),o.jc("ngForOf",t.children)}}function an(t,e){if(1&t){const t=o.Tb();o.Sb(0,"div",14),o.Sb(1,"div",15),o.Zb("click",function(){o.qc(t);const i=e.message;return o.dc().messageClick(i)}),o.Sb(2,"mat-icon",16),o.zc(3,"arrow_right"),o.Rb(),o.Rb(),o.Sb(4,"div",17),o.Sb(5,"div",18),o.Zb("click",function(){o.qc(t);const i=e.message;return o.dc().messageClick(i)}),o.Sb(6,"p",19),o.zc(7),o.Rb(),o.Rb(),o.xc(8,nn,2,1,"p",20),o.Sb(9,"div",21),o.Sb(10,"span",22),o.zc(11),o.Rb(),o.Sb(12,"span",23),o.zc(13),o.Rb(),o.Sb(14,"span",24),o.zc(15),o.ec(16,"date"),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.xc(17,sn,2,1,"div",25)}if(2&t){const t=e.message,i=o.dc();o.Bb(1),o.Eb("chat-message__expand-icon--expanded",t.expanded),o.Bb(4),o.Eb("chat-message__text--active",i.activeMessage===t),o.Bb(2),o.Ac(t.body),o.Bb(1),o.jc("ngIf",t.selectedText),o.Bb(3),o.Ac((null==t.children?null:t.children.length)||0),o.Bb(2),o.Ac(t.author.name),o.Bb(2),o.Ac(o.gc(16,10,t.created,"short")),o.Bb(2),o.jc("ngIf",t.expanded&&!(null==t.children||!t.children.length))}}function cn(t,e){1&t&&o.zc(0,"loading")}let ln=(()=>{class t{constructor(t,e,i,n,r,o){this.cd=t,this.authenticationService=e,this.route=i,this.chatService=n,this.editorService=r,this.scriptService=o,this.messages=[],this.disable=!0,this.chatForm=new s.h({body:new s.e({value:"",disabled:this.disabled},[s.u.required,s.u.minLength(1)])}),this.selected={uuid:void 0,text:void 0},this.unsubscriber$=new _.a,this.initialized$=new Ti.a(!1),this.route.paramMap.pipe(Object(k.a)(t=>"new"!==t.get("id")),Object(St.a)(t=>{const e=t.get("id");return this.scriptId=parseInt(e,10),Object(Bi.a)([this.chatService.getMessages(this.scriptId),this.editorService.initialized$.pipe(Object(xi.a)())])}),Object(zi.a)(t=>{}),Object(k.a)(t=>!!t),Object(xi.a)(),Object(yi.a)(([t,e])=>this.chatService.createArray(this.wsMessageType).pipe(Object(wt.a)((e,i)=>{0===i?(t.length>0&&0===e.length&&this.chatService.insertArray(0,...t),this.disabled=!1,this.messages=this.editorService.initialComments(t),this.initialized$.next(!0)):this.messages=e}))),Object(C.a)(this.unsubscriber$)).subscribe(()=>{this.cd.markForCheck()},t=>{this.initialized$.next(!0)})}get disabled(){return this.disable}set disabled(t){this.disable=t,this.chatForm.controls.body.enable()}get wsMessageType(){return`chat-${this.scriptId}`}ngOnInit(){}ngAfterViewInit(){Object(ue.a)(this.formElement.nativeElement,"keydown").pipe(Object(k.a)(t=>t.ctrlKey&&"Enter"===t.key),Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.submit()}),this.editorService.commentSubject$.pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.selected.uuid=t,this.selected.text=this.editorService.selectionCommentText(t),this.formElement.nativeElement.querySelector("textarea").focus(),this.cd.markForCheck()}),this.initialized$.pipe(Object(k.a)(t=>t),Object(yi.a)(()=>this.editorService.focusChatMessage$),Object(C.a)(this.unsubscriber$)).subscribe(t=>{const e=this.messages.find(e=>e.uuid===t);e&&(e.expanded=!0,this.activeMessage=e,this.cd.markForCheck())})}onClick(t){if(!t.target.closest("app-chat")){const e=this.formElement.nativeElement.querySelector("textarea");void 0!==this.selected.uuid&&document.activeElement!==e&&(this.editorService.unselectComment(this.selected.uuid),this.selected.uuid=void 0,this.selected.text=void 0),this.activeMessage&&(t.target.closest("[data-comment-uuid]")||(this.activeMessage=void 0,this.cd.markForCheck()))}}messageClick(t){const e=t.uuid;t.expanded?(this.activeMessage=void 0,t.expanded=!1,this.cd.markForCheck()):(t.expanded=!0,this.activeMessage=t,this.formElement.nativeElement.querySelector("textarea").focus()),e&&(this.editorService.selectionCommentFocused(e),this.selected.text=this.editorService.selectionCommentText(e),this.cd.markForCheck())}ngOnDestroy(){this.unsubscriber$.next()}submit(){var t;if(!this.chatForm.valid||this.disabled)return;const e={body:this.chatForm.get("body").value,author:this.authenticationService.user,scriptId:this.scriptId,uuid:this.selected.uuid,parentId:null===(t=this.activeMessage)||void 0===t?void 0:t.id};this.chatService.postMessage(e).pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{var e;if(t.selectedText=this.selected.text,null===(e=this.activeMessage)||void 0===e?void 0:e.id){const e=this.messages.findIndex(t=>t.id===this.activeMessage.id);this.messages[e].children?this.messages[e].children.push(t):this.messages[e].children=[t],this.chatService.spliceArray(e,1,this.messages[e])}else this.chatService.pushArray(t);t.uuid&&(this.editorService.applySelectionCommentMessage(t.uuid,t.body),this.selected.uuid=void 0,this.selected.text=void 0),this.chatForm.reset(),this.cd.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.h),o.Mb(Wi.a),o.Mb(di.a),o.Mb(Zi),o.Mb(Di),o.Mb(Pi))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-chat"]],viewQuery:function(t,e){if(1&t&&(o.Dc(Ui,1),o.Dc(Ki,1)),2&t){let t;o.nc(t=o.ac())&&(e.formElement=t.first),o.nc(t=o.ac())&&(e.chatMessageElement=t.first)}},hostBindings:function(t,e){1&t&&o.Zb("click",function(t){return e.onClick(t)},!1,o.pc)},features:[o.Ab([Zi])],decls:14,vars:7,consts:[[1,"wrapper"],[4,"ngIf","ngIfElse"],[1,"chat-form"],[1,"chat-form__status"],[4,"ngIf"],[1,"chat-form__form",3,"formGroup","ngSubmit"],["form",""],["formControlName","body",1,"chat-form__textarea"],["messageTemplate",""],["loadingTmp",""],[1,"chat-messages"],["chatMessage",""],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"chat-message"],[1,"chat-message__expand-icon",3,"click"],[1,"svg__icon"],[1,"chat-message__body"],[1,"chat-message__text",3,"click"],[1,"chat-message__text-p"],["class","chat-message__selected-text",4,"ngIf"],[1,"chat-message__sub"],[1,"chat-message__sub-reply"],[1,"chat-message__sub-author"],[1,"chat-message__sub-created"],["class","chat-message__replay",4,"ngIf"],[1,"chat-message__selected-text"],[1,"chat-message__replay"]],template:function(t,e){if(1&t&&(o.Sb(0,"div",0),o.xc(1,Ji,4,1,"ng-container",1),o.ec(2,"async"),o.Sb(3,"div",2),o.Sb(4,"p",3),o.xc(5,tn,2,1,"ng-container",4),o.xc(6,en,2,0,"ng-container",4),o.Rb(),o.Sb(7,"form",5,6),o.Zb("ngSubmit",function(){return e.submit()}),o.Nb(9,"textarea",7),o.Rb(),o.Rb(),o.Rb(),o.xc(10,an,18,13,"ng-template",null,8,o.yc),o.xc(12,cn,1,0,"ng-template",null,9,o.yc)),2&t){const t=o.oc(13);o.Bb(1),o.jc("ngIf",o.fc(2,5,e.initialized$))("ngIfElse",t),o.Bb(4),o.jc("ngIf",e.selected.text),o.Bb(1),o.jc("ngIf",!!e.activeMessage),o.Bb(1),o.jc("formGroup",e.chatForm)}},directives:[r.l,s.v,s.o,s.i,s.c,s.n,s.g,r.k,r.p,d.a],pipes:[r.b,r.e],styles:[".wrapper[_ngcontent-%COMP%]{position:relative}.wrapper[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]{max-height:700px;margin-top:10px;overflow:auto;padding-bottom:100px}.wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]{display:flex;align-items:center}.wrapper[_ngcontent-%COMP%]   .chat-message__expand-icon--expanded[_ngcontent-%COMP%]{transform:rotate(90deg)}.wrapper[_ngcontent-%COMP%]   .chat-message__body[_ngcontent-%COMP%]{flex-grow:1}.wrapper[_ngcontent-%COMP%]   .chat-message__selected-text[_ngcontent-%COMP%]{color:#6c6c6c;font-size:10px;margin:3px 0 3px 30px}.wrapper[_ngcontent-%COMP%]   .chat-message__text[_ngcontent-%COMP%]{padding:10px;background-color:#fff;border-radius:30px;cursor:pointer}.wrapper[_ngcontent-%COMP%]   .chat-message__text-p[_ngcontent-%COMP%]{word-break:break-all}.wrapper[_ngcontent-%COMP%]   .chat-message__text--active[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .chat-message__text[_ngcontent-%COMP%]:hover{box-sizing:border-box;border:1px solid #9acd32}.wrapper[_ngcontent-%COMP%]   .chat-message__sub[_ngcontent-%COMP%]{text-align:right;font-size:10px;color:#6c6c6e;align-items:center}.wrapper[_ngcontent-%COMP%]   .chat-message__sub-reply[_ngcontent-%COMP%]{display:inline-block;margin-right:20px;border-radius:50%;width:15px;height:15px;background:#fff;color:#666;text-align:center}.wrapper[_ngcontent-%COMP%]   .chat-message__sub-author[_ngcontent-%COMP%]{margin-right:20px}.wrapper[_ngcontent-%COMP%]   .chat-message__sub-created[_ngcontent-%COMP%]{margin-right:5px}.wrapper[_ngcontent-%COMP%]   .chat-message__replay[_ngcontent-%COMP%]{padding-left:20px}.wrapper[_ngcontent-%COMP%]   .chat-form[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;height:80px;width:100%}.wrapper[_ngcontent-%COMP%]   .chat-form__status[_ngcontent-%COMP%]{margin:0;font-size:10px;height:20%;color:#6c6c6e}.wrapper[_ngcontent-%COMP%]   .chat-form__form[_ngcontent-%COMP%]{height:80%}.wrapper[_ngcontent-%COMP%]   .chat-form__textarea[_ngcontent-%COMP%]{height:100%;width:100%;box-sizing:border-box}.svg__icon[_ngcontent-%COMP%]{cursor:pointer}.svg__icon[_ngcontent-%COMP%]:hover{color:#3f51b5}"],changeDetection:0}),t})();function hn(t,e){if(1&t){const t=o.Tb();o.Sb(0,"li",13),o.Zb("click",function(){o.qc(t);const i=e.$implicit;return o.dc(3).onClickMessage(i)}),o.zc(1),o.Rb()}if(2&t){const t=e.$implicit;o.Bb(1),o.Cc(" ",t.line,"-",t.message,"(",t.target,") ")}}function un(t,e){if(1&t&&(o.Qb(0),o.zc(1),o.Sb(2,"ul",11),o.xc(3,hn,2,3,"li",12),o.Rb(),o.Pb()),2&t){const t=o.dc(2);o.Bb(1),o.Bc(" ","count: "+t.textLintErrors.length," "),o.Bb(2),o.jc("ngForOf",t.textLintErrors)}}function dn(t,e){1&t&&(o.Sb(0,"p"),o.zc(1,"no text lint errors"),o.Rb())}function pn(t,e){if(1&t&&(o.Qb(0),o.xc(1,un,4,2,"ng-container",8),o.xc(2,dn,2,0,"ng-template",null,10,o.yc),o.Pb()),2&t){const t=o.oc(3),e=o.dc();o.Bb(1),o.jc("ngIf",e.textLintErrors.length>0)("ngIfElse",t)}}function bn(t,e){1&t&&(o.Qb(0),o.Sb(1,"p"),o.zc(2,"textlint something went wrong"),o.Rb(),o.Sb(3,"p"),o.zc(4,"please try again latter"),o.Rb(),o.Pb())}function gn(t,e){1&t&&(o.Sb(0,"p"),o.zc(1,"try text lint"),o.Rb())}function fn(t,e){if(1&t&&(o.xc(0,bn,5,0,"ng-container",8),o.xc(1,gn,2,0,"ng-template",null,14,o.yc)),2&t){const t=o.oc(2),e=o.dc();o.jc("ngIf",e.textLintRaisedError)("ngIfElse",t)}}let mn=(()=>{class t{constructor(t,e,i){this.scriptService=t,this.cd=e,this.editorService=i,this.unsubscriber$=new _.a,this.textLintRaisedError=!1}ngOnInit(){this.editorService.initialized$.pipe(Object(xi.a)(),Object(C.a)(this.unsubscriber$)).subscribe(()=>{this.textLint()})}ngOnDestroy(){this.unsubscriber$.next()}textLint(){const t=this.editorService.getText();if(!t)return;this.removeOldLint();const e=this.scriptService.loadingStateChange();this.scriptService.textLint(t).pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{const i=this.editorService.applyTextLintResult(t);this.textLintErrors=i.messages,this.cd.markForCheck(),this.scriptService.loadingStateChange(e)},t=>{this.textLintRaisedError=!0,this.textLintErrors=void 0,this.cd.markForCheck(),this.scriptService.loadingStateChange(e)})}removeOldLint(){this.editorService.removeTextLintResult()}onClickMessage(t){this.editorService.focusTextLintMessage(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(Pi),o.Mb(o.h),o.Mb(Di))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-console"]],decls:14,vars:2,consts:[[1,"wrapper"],["mat-stretch-tabs",""],["label","chat"],["label","textlint"],[1,"textlint-result"],["type","button",1,"textlint-result__button","textlint-result__show-button",3,"click"],["type","button",1,"textlint-result__button","textlint-result__remove-button",3,"click"],[1,"textlint-result__content"],[4,"ngIf","ngIfElse"],["NoResult",""],["NoTextLintErrors",""],[1,"textlint-detail"],["class","textlint-detail__li",3,"click",4,"ngFor","ngForOf"],[1,"textlint-detail__li",3,"click"],["tryTextLint",""]],template:function(t,e){if(1&t&&(o.Sb(0,"div",0),o.Sb(1,"mat-tab-group",1),o.Sb(2,"mat-tab",2),o.Nb(3,"app-chat"),o.Rb(),o.Sb(4,"mat-tab",3),o.Sb(5,"div",4),o.Sb(6,"button",5),o.Zb("click",function(){return e.textLint()}),o.zc(7," Refresh "),o.Rb(),o.Sb(8,"button",6),o.Zb("click",function(){return e.removeOldLint()}),o.zc(9," Remove "),o.Rb(),o.Sb(10,"div",7),o.xc(11,pn,4,2,"ng-container",8),o.xc(12,fn,3,2,"ng-template",null,9,o.yc),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&t){const t=o.oc(13);o.Bb(11),o.jc("ngIf",!!e.textLintErrors)("ngIfElse",t)}},directives:[Ue,Fe,ln,r.l,r.k],styles:[".wrapper[_ngcontent-%COMP%]{background-color:#dcdde0;border:1px solid #000;padding:5px}.wrapper[_ngcontent-%COMP%]   .textlint-result__button[_ngcontent-%COMP%]{background-color:#777;color:#fff;cursor:pointer;padding:18px;border:none;text-align:left;outline:none;font-size:15px}.wrapper[_ngcontent-%COMP%]   .textlint-result__button[_ngcontent-%COMP%]:hover{background-color:#555}.wrapper[_ngcontent-%COMP%]   .textlint-result__remove-button[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .textlint-result__show-button[_ngcontent-%COMP%]{width:50%}.wrapper[_ngcontent-%COMP%]   .textlint-result__content[_ngcontent-%COMP%]{padding:0 18px;overflow:hidden;background-color:#f1f1f1}.wrapper[_ngcontent-%COMP%]   .textlint-result__content[_ngcontent-%COMP%]   .textlint-detail__li[_ngcontent-%COMP%]{padding-bottom:5px}.wrapper[_ngcontent-%COMP%]   .textlint-result__content[_ngcontent-%COMP%]   .textlint-detail__li[_ngcontent-%COMP%]:hover{border-bottom:1px solid #000;cursor:pointer}"],changeDetection:0}),t})();function _n(t,e){1&t&&(o.Sb(0,"mat-error"),o.zc(1," Title is "),o.Sb(2,"strong"),o.zc(3,"required"),o.Rb(),o.Rb())}function vn(t,e){if(1&t&&(o.Sb(0,"div",21),o.Sb(1,"p"),o.zc(2,"last update:"),o.Rb(),o.Sb(3,"p"),o.zc(4),o.ec(5,"date"),o.Rb(),o.Rb()),2&t){const t=o.dc(2);o.Bb(4),o.Ac(o.gc(5,1,t.script.updated,"short"))}}function yn(t,e){1&t&&(o.Sb(0,"div",22),o.Nb(1,"div",23),o.Rb())}function xn(t,e){if(1&t){const t=o.Tb();o.Sb(0,"div",4),o.Sb(1,"div",5),o.Sb(2,"form",6),o.Sb(3,"div",7),o.Sb(4,"mat-form-field",8),o.Sb(5,"mat-label"),o.zc(6,"Title"),o.Rb(),o.Nb(7,"input",9),o.xc(8,_n,4,0,"mat-error",10),o.Rb(),o.Rb(),o.Sb(9,"div",7),o.Sb(10,"div",11),o.Zb("click",function(){return o.qc(t),o.dc().save()}),o.Sb(11,"mat-icon",12),o.zc(12,"save"),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(13,"div",6),o.Sb(14,"div",11),o.Zb("click",function(){return o.qc(t),o.dc().deleteScript()}),o.Sb(15,"mat-icon",12),o.zc(16,"inventory_2"),o.Rb(),o.Rb(),o.Rb(),o.Sb(17,"div",6),o.Sb(18,"div",11),o.Zb("click",function(){return o.qc(t),o.dc().copy2Clipboard()}),o.Sb(19,"mat-icon",12),o.zc(20,"content_copy"),o.Rb(),o.Rb(),o.Rb(),o.Sb(21,"div",6),o.Sb(22,"div",11),o.Zb("click",function(){return o.qc(t),o.dc().undo()}),o.Sb(23,"mat-icon",12),o.zc(24,"undo"),o.Rb(),o.Rb(),o.Rb(),o.Sb(25,"div",6),o.Sb(26,"div",11),o.Zb("click",function(){return o.qc(t),o.dc().redo()}),o.Sb(27,"mat-icon",12),o.zc(28,"redo"),o.Rb(),o.Rb(),o.Rb(),o.Sb(29,"div",6),o.Sb(30,"button",3),o.Zb("click",function(){return o.qc(t),o.dc().navigateSubtitle()}),o.zc(31," To subtitle "),o.Rb(),o.Rb(),o.xc(32,vn,6,4,"div",13),o.Rb(),o.Sb(33,"main",14),o.Sb(34,"div",15),o.Sb(35,"app-tool-box",16),o.Zb("toggleSubtitleButton",function(){o.qc(t);const e=o.dc();return e.showSubtitleLine=!e.showSubtitleLine}),o.Rb(),o.Rb(),o.Sb(36,"div",17),o.xc(37,yn,2,0,"div",18),o.Sb(38,"quill-editor",19),o.Zb("onEditorCreated",function(e){return o.qc(t),o.dc().onEditorCreated(e)})("onContentChanged",function(e){return o.qc(t),o.dc().onContentChanged(e)})("onSelectionChanged",function(e){return o.qc(t),o.dc().onSelectionChanged(e)}),o.Rb(),o.Sb(39,"div",20),o.Nb(40,"app-console"),o.Rb(),o.Rb(),o.Nb(41,"app-balloon"),o.Rb(),o.Rb()}if(2&t){const t=o.dc();o.Bb(7),o.jc("formControl",t.titleFormControl),o.Bb(1),o.jc("ngIf",t.titleFormControl.hasError("required")),o.Bb(24),o.jc("ngIf",t.script.updated),o.Bb(5),o.jc("ngIf",t.showSubtitleLine)}}function Cn(t,e){1&t&&(o.Sb(0,"div",24),o.zc(1,"loading"),o.Rb())}const Sn=[{path:"",component:mi},{path:":id",component:(()=>{class t{constructor(t,e,i,n,r,o,a){this.route=t,this.router=e,this.cd=i,this.scriptService=n,this.renderer=r,this.editorService=o,this.elementRef=a,this.blurred=!1,this.focused=!1,this.showSubtitleLine=!0,this.loading=!1,this.titleFormControl=new s.e("",[s.u.required]),this.consolePositionTop=0,this.initialized$=new vi.a(1),this.unsubscriber$=new _.a,this.autoSave$=new _.a,this.scriptService.loadingState$.pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.loading=t,this.cd.markForCheck()});const c=this.route.snapshot.paramMap.get("id");"new"===c?(this.script=new ki,this.initialScript=new ki,this.cd.markForCheck(),this.initialized$.next()):this.scriptService.getScript(parseInt(c,10)).pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.script=t,this.initialScript=this.script.clone(),this.titleFormControl.setValue(this.script.title),this.cd.markForCheck(),this.initialized$.next()}),this.initialized$.pipe(Object(yi.a)(()=>this.autoSave$),Object(S.a)(3e4),Object(C.a)(this.unsubscriber$)).subscribe(()=>{this.save()})}onEditorCreated(t){this.initialized$.pipe(Object(xi.a)(),Object(C.a)(this.unsubscriber$)).subscribe(()=>{const e=t.getContents();e.ops=this.script.deltaOps,this.editorService.initialize(this.script.id,t,e)})}onContentChanged(t){this.editorService.onContentChanged(t),this.autoSave$.next()}onSelectionChanged(t){this.editorService.onSelectionChange(t)}ngOnInit(){}ngOnDestroy(){this.unsubscriber$.next()}ngAfterViewInit(){this.initialized$.pipe(Object(xi.a)(),Object(C.a)(this.unsubscriber$)).subscribe(()=>Object(_i.a)(this,void 0,void 0,function*(){this.cd.detectChanges(),this.registerEditorEventListener(),this.consolePositionTop=document.querySelector(".tool-box__wrapper").getBoundingClientRect().height})),Object(ue.a)(window,"resize").pipe(Object(wt.a)(()=>window.innerWidth),Object(w.a)(),Object(S.a)(300),Object(C.a)(this.unsubscriber$)).subscribe(t=>{t<400&&(this.showSubtitleLine=!1,this.cd.markForCheck())})}canDeactivate(){return this.script.deltaOps=this.editorService.getDelta(),!!this.script.isEqual(this.initialScript)||window.confirm("Are you sure you want to leave this page before you save this script")}save(){this.script.title=this.titleFormControl.value,this.script.deltaOps=this.editorService.getDelta(),0!==this.script.deltaOps.length&&this.script.title&&(this.script.isEqual(this.initialScript)||(this.script.id?this.scriptService.putScript(this.script).pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.script=t,this.initialScript=t.clone(),this.cd.markForCheck()}):this.scriptService.postScript(this.script).pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.script=t,this.initialScript=t.clone(),this.cd.markForCheck(),this.router.navigate([`../${t.id}`],{relativeTo:this.route})})))}copy2Clipboard(){this.renderer.createElement("div").innerHTML=this.script.deltaOps.map(t=>t.insert).join("");const t=document.createElement("textarea");t.value=this.editorService.getText(),document.body.appendChild(t),t.select(),t.setSelectionRange(0,9999),document.execCommand("copy"),document.body.removeChild(t)}deleteScript(){window.confirm("Are you sure you want to delete")&&this.scriptService.deleteScript(this.script.id).pipe(Object(C.a)(this.unsubscriber$)).subscribe(()=>{this.router.navigate(["../"],{relativeTo:this.route})})}scrollTop(){window.scroll({top:0,behavior:"smooth"})}navigateSubtitle(){this.renderer.createElement("div").innerHTML=this.script.deltaOps.map(t=>t.insert).join("");const t=this.editorService.getText();localStorage.setItem(Oi.a.subtitleLocalStorageKey,t),this.router.navigate(["/subtitle"])}undo(){this.editorService.undo()}redo(){this.editorService.redo()}registerEditorEventListener(){Object(ue.a)(this.editorComponent.elementRef.nativeElement,"mouseup").pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.balloonComponent.selectionChange(t);const e=t.target.closest("[data-comment-uuid]");if(e){const t=e.getAttribute("data-comment-uuid");this.editorService.focusChatMessage(t)}}),Object(ue.a)(this.editorComponent.elementRef.nativeElement,"keydown").pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{if(t.ctrlKey)switch(t.key){case"z":t.shiftKey?this.editorService.undo():this.editorService.redo(),t.preventDefault();break;case"s":this.autoSave$.next(),this.save(),t.preventDefault()}}),this.editorService.editorFocus$.pipe(Object(C.a)(this.unsubscriber$)).subscribe(({uuid:t,type:e})=>{let i;switch(e){case"textlint":i=this.elementRef.nativeElement.querySelector(`[data-lint-uuid="${t}"]`);break;case"comment":i=this.elementRef.nativeElement.querySelector(`[data-comment-uuid="${t}"]`)}if(!i)return;this.renderer.addClass(i,"focused");const n=i.getBoundingClientRect().y+window.scrollY-300;window.scroll({top:n<300?0:n,behavior:"smooth"}),Object(ue.a)(document,"click").pipe(t=>t.lift(new Si(1)),Object(k.a)(t=>!i.contains(t.target)),Object(xi.a)(),Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.renderer.removeClass(i,"focused")})})}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(di.a),o.Mb(di.b),o.Mb(o.h),o.Mb(Pi),o.Mb(o.F),o.Mb(Di),o.Mb(o.l))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-script"]],viewQuery:function(t,e){if(1&t&&(o.Dc(Fi,1),o.Dc(ni.a,1)),2&t){let t;o.nc(t=o.ac())&&(e.balloonComponent=t.first),o.nc(t=o.ac())&&(e.editorComponent=t.first)}},features:[o.Ab([Di])],decls:5,vars:2,consts:[["class","wrapper",4,"ngIf"],["class","loading-modal",4,"ngIf"],[1,"scroller"],["mat-raised-button","","color","primary",3,"click"],[1,"wrapper"],[1,"tool"],[1,"tool__item"],[1,"form__item"],["appearance","fill"],["matInput","",3,"formControl"],[4,"ngIf"],[3,"click"],[1,"svg__icon"],["class","tool__item tool__item--right",4,"ngIf"],[1,"main"],[1,"tool-box__wrapper"],[3,"toggleSubtitleButton"],[1,"editor"],["class","editor__subtitle",4,"ngIf"],[1,"editor__main",3,"onEditorCreated","onContentChanged","onSelectionChanged"],[1,"console__wrapper"],[1,"tool__item","tool__item--right"],[1,"editor__subtitle"],[1,"editor__subtitle-line"],[1,"loading-modal"]],template:function(t,e){1&t&&(o.xc(0,xn,42,4,"div",0),o.xc(1,Cn,2,0,"div",1),o.Sb(2,"div",2),o.Sb(3,"button",3),o.Zb("click",function(){return e.scrollTop()}),o.zc(4,"\u2191"),o.Rb(),o.Rb()),2&t&&(o.jc("ngIf",!!e.script),o.Bb(1),o.jc("ngIf",e.loading))},directives:[r.l,a.b,s.v,s.o,s.p,A.c,A.f,p.b,s.c,s.n,s.f,d.a,Gi,ni.a,mn,Fi,A.b],pipes:[r.e],styles:['body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}.tool[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.tool__item[_ngcontent-%COMP%]{margin-right:20px}.tool__item--right[_ngcontent-%COMP%]{margin-left:auto}form[_ngcontent-%COMP%]{display:flex}form[_ngcontent-%COMP%]   .form__item[_ngcontent-%COMP%]{margin-right:20px}.wrapper[_ngcontent-%COMP%]{margin:10px}.tool-box__wrapper[_ngcontent-%COMP%]{height:60px;position:sticky;top:0;z-index:2;box-sizing:border-box;background-color:#fff}.editor[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}@media screen and (min-width:400px){.editor[_ngcontent-%COMP%]{flex-wrap:nowrap}}.editor__subtitle[_ngcontent-%COMP%]{align-self:stretch;position:relative}.editor__subtitle-line[_ngcontent-%COMP%]{position:absolute;left:450px;width:3px;height:100%;background-color:rgba(255,0,0,.2)}  .editor__main{min-height:600px;width:100%;border:1px solid #000;white-space:pre-line}@media screen and (min-width:400px){  .editor__main{flex:70%;width:auto}}  .editor__main .ql-toolbar{position:sticky;top:60px;background:#fff;z-index:1}  .editor__main [data-comment-uuid]{position:relative;border-bottom:2px dotted green;padding-bottom:2px}  .editor__main [data-comment-uuid]:hover:after{content:attr(data-comment-message) "";position:absolute;top:20px;left:10px;z-index:25;background-color:silver;box-shadow:0 0 10px;width:200px;border:1px solid green}  .editor__main [data-comment-uuid].focused{border:5px solid green}  .editor__main [data-lint-uuid]{position:relative;border-bottom:2px dotted red}  .editor__main [data-lint-uuid]:hover:after{content:attr(data-lint-message) "";position:absolute;bottom:20px;left:10px;z-index:25;background-color:silver;box-shadow:0 0 10px;width:200px;border:1px solid red}  .editor__main [data-lint-uuid].focused{border:5px solid red}  .editor__main .ql-editor{padding-top:30px}  .editor__main .text--highlighted{background-color:red;opacity:1}  .editor__main .text--underlined{border-bottom:2px solid orange}  .editor__main .text__tooltip-relative{position:relative}  .editor__main .text__tooltip-relative:hover .text__tooltip-absolute{display:inline-block}  .editor__main .text__tooltip-absolute{position:absolute;display:none;padding:2px;background-color:orange;left:20px;bottom:20px}.editor[_ngcontent-%COMP%]   .console__wrapper[_ngcontent-%COMP%]{width:100%;order:-1}@media screen and (min-width:400px){.editor[_ngcontent-%COMP%]   .console__wrapper[_ngcontent-%COMP%]{order:0;flex:30%;width:auto;height:100%;position:sticky;top:60px}}.loading-modal[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:150px;color:red;opacity:.7;z-index:1000}.scroller[_ngcontent-%COMP%]{position:fixed;bottom:10px;left:10px}.svg__icon[_ngcontent-%COMP%]{cursor:pointer}.svg__icon[_ngcontent-%COMP%]:hover{color:#3f51b5}'],changeDetection:0}),t})(),canDeactivate:[pi]}];let wn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({imports:[[di.d.forChild(Sn)],di.d]}),t})();oi.a.register(hi),oi.a.register(ui),oi.a.register("modules/cursors",ai.a);let On=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({providers:[{provide:st,useValue:ot}],imports:[[r.c,_t,s.s,s.j,A.e,p.c,wn,a.c,ii,ci.a,he,d.b,Kt,vt.b,ni.b.forRoot({modules:{cursors:!0,toolbar:[["bold","italic","underline","strike"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}]]}})]]}),t})()},X607:function(t,e,i){self,t.exports=(()=>{var t={582:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var n=i(645),r=i.n(n)()(function(t){return t[1]});r.push([t.id,".ql-container{position:relative;overflow:hidden}.ql-cursor.hidden{display:none}.ql-cursor .ql-cursor-caret-container,.ql-cursor .ql-cursor-flag{position:absolute}.ql-cursor .ql-cursor-flag{z-index:1;transform:translate3d(-1px, -100%, 0);opacity:0;visibility:hidden;color:#fff;padding-bottom:2px;border-radius:0 3px 3px 0}.ql-cursor .ql-cursor-flag.flag-flipped{border-radius:3px 0 0 3px;transform:translate3d(calc(-100% + 1px ), -100%, 0)}@media screen{.ql-cursor .ql-cursor-flag{transition:opacity 0ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0ms,visibility 0ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0ms}}.ql-cursor .ql-cursor-flag .ql-cursor-name{margin-left:5px;margin-right:5px;display:inline-block;margin-top:-2px;white-space:nowrap}.ql-cursor .ql-cursor-flag:hover,.ql-cursor .ql-cursor-flag.show-flag,.ql-cursor .ql-cursor-caret-container:hover+.ql-cursor-flag{opacity:1;visibility:visible;transition:none}.ql-cursor .ql-cursor-flag.no-delay[style]{transition-delay:unset !important}.ql-cursor .ql-cursor-caret-container{margin-left:-9px;padding:0 9px;z-index:1}.ql-cursor .ql-cursor-caret-container .ql-cursor-caret{position:absolute;top:0;bottom:0;width:2px;margin-left:-1px;background-color:attr(data-color)}.ql-cursor .ql-cursor-selection-block{position:absolute;pointer-events:none}",""]);const o=r},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=t(e);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i}).join("")},e.i=function(t,i,n){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(n)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);n&&r[c[0]]||(i&&(c[2]=c[2]?"".concat(i," and ").concat(c[2]):i),e.push(c))}},e}},465:(t,e,i)=>{t=i.nmd(t);var n="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",s="[object Boolean]",a="[object Date]",c="[object Function]",l="[object GeneratorFunction]",h="[object Map]",u="[object Number]",d="[object Object]",p="[object Promise]",b="[object RegExp]",g="[object Set]",f="[object String]",m="[object Symbol]",_="[object WeakMap]",v="[object ArrayBuffer]",y="[object DataView]",x="[object Float32Array]",C="[object Float64Array]",S="[object Int8Array]",w="[object Int16Array]",O="[object Int32Array]",k="[object Uint8Array]",M="[object Uint8ClampedArray]",R="[object Uint16Array]",j="[object Uint32Array]",A=/\w*$/,I=/^\[object .+?Constructor\]$/,E=/^(?:0|[1-9]\d*)$/,T={};T[o]=T["[object Array]"]=T[v]=T[y]=T[s]=T[a]=T[x]=T[C]=T[S]=T[w]=T[O]=T[h]=T[u]=T[d]=T[b]=T[g]=T[f]=T[m]=T[k]=T[M]=T[R]=T[j]=!0,T["[object Error]"]=T[c]=T[_]=!1;var P="object"==typeof self&&self&&self.Object===Object&&self,L="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g||P||Function("return this")(),D=e&&!e.nodeType&&e,F=D&&t&&!t.nodeType&&t,B=F&&F.exports===D;function z(t,e){return t.set(e[0],e[1]),t}function N(t,e){return t.add(e),t}function q(t,e,i,n){var r=-1,o=t?t.length:0;for(n&&o&&(i=t[++r]);++r<o;)i=e(i,t[r],r,t);return i}function $(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function H(t){var e=-1,i=Array(t.size);return t.forEach(function(t,n){i[++e]=[n,t]}),i}function V(t,e){return function(i){return t(e(i))}}function G(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=t}),i}var Z,W=Array.prototype,U=Function.prototype,K=Object.prototype,Y=L["__core-js_shared__"],X=(Z=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+Z:"",Q=U.toString,J=K.hasOwnProperty,tt=K.toString,et=RegExp("^"+Q.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),it=B?L.Buffer:void 0,nt=L.Symbol,rt=L.Uint8Array,ot=V(Object.getPrototypeOf,Object),st=Object.create,at=K.propertyIsEnumerable,ct=W.splice,lt=Object.getOwnPropertySymbols,ht=it?it.isBuffer:void 0,ut=V(Object.keys,Object),dt=Lt(L,"DataView"),pt=Lt(L,"Map"),bt=Lt(L,"Promise"),gt=Lt(L,"Set"),ft=Lt(L,"WeakMap"),mt=Lt(Object,"create"),_t=Nt(dt),vt=Nt(pt),yt=Nt(bt),xt=Nt(gt),Ct=Nt(ft),St=nt?nt.prototype:void 0,wt=St?St.valueOf:void 0;function Ot(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function kt(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Mt(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Rt(t){this.__data__=new kt(t)}function jt(t,e,i){var n=t[e];J.call(t,e)&&qt(n,i)&&(void 0!==i||e in t)||(t[e]=i)}function At(t,e){for(var i=t.length;i--;)if(qt(t[i][0],e))return i;return-1}function It(t,e,i,n,r,p,_){var I;if(n&&(I=p?n(t,r,p,_):n(t)),void 0!==I)return I;if(!Zt(t))return t;var E=$t(t);if(E){if(I=function(t){var e=t.length,i=t.constructor(e);return e&&"string"==typeof t[0]&&J.call(t,"index")&&(i.index=t.index,i.input=t.input),i}(t),!e)return function(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e}(t,I)}else{var P=Ft(t),L=P==c||P==l;if(Vt(t))return function(t,e){if(e)return t.slice();var i=new t.constructor(t.length);return t.copy(i),i}(t,e);if(P==d||P==o||L&&!p){if($(t))return p?t:{};if(I=function(t){return"function"!=typeof t.constructor||zt(t)?{}:Zt(e=ot(t))?st(e):{};var e}(L?{}:t),!e)return function(t,e){return Tt(t,Dt(t),e)}(t,function(t,e){return t&&Tt(e,Wt(e),t)}(I,t))}else{if(!T[P])return p?t:{};I=function(t,e,i,n){var r=t.constructor;switch(e){case v:return Et(t);case s:case a:return new r(+t);case y:return function(t,e){var i=e?Et(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}(t,n);case x:case C:case S:case w:case O:case k:case M:case R:case j:return function(t,e){var i=e?Et(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}(t,n);case h:return function(t,e,i){return q(e?i(H(t),!0):H(t),z,new t.constructor)}(t,n,i);case u:case f:return new r(t);case b:return function(t){var e=new t.constructor(t.source,A.exec(t));return e.lastIndex=t.lastIndex,e}(t);case g:return function(t,e,i){return q(e?i(G(t),!0):G(t),N,new t.constructor)}(t,n,i);case m:return wt?Object(wt.call(t)):{}}}(t,P,It,e)}}_||(_=new Rt);var D=_.get(t);if(D)return D;if(_.set(t,I),!E)var F=i?function(t){return function(t,e,i){var n=e(t);return $t(t)?n:function(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t}(n,i(t))}(t,Wt,Dt)}(t):Wt(t);return function(t,e){for(var i=-1,n=t?t.length:0;++i<n&&!1!==e(t[i],i););}(F||t,function(r,o){F&&(r=t[o=r]),jt(I,o,It(r,e,i,n,o,t,_))}),I}function Et(t){var e=new t.constructor(t.byteLength);return new rt(e).set(new rt(t)),e}function Tt(t,e,i,n){i||(i={});for(var r=-1,o=e.length;++r<o;){var s=e[r],a=n?n(i[s],t[s],s,i,t):void 0;jt(i,s,void 0===a?t[s]:a)}return i}function Pt(t,e){var i,n,r=t.__data__;return("string"==(n=typeof(i=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?r["string"==typeof e?"string":"hash"]:r.map}function Lt(t,e){var i=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Zt(t)||(e=t,X&&X in e))&&(Gt(t)||$(t)?et:I).test(Nt(t));var e}(i)?i:void 0}Ot.prototype.clear=function(){this.__data__=mt?mt(null):{}},Ot.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Ot.prototype.get=function(t){var e=this.__data__;if(mt){var i=e[t];return i===n?void 0:i}return J.call(e,t)?e[t]:void 0},Ot.prototype.has=function(t){var e=this.__data__;return mt?void 0!==e[t]:J.call(e,t)},Ot.prototype.set=function(t,e){return this.__data__[t]=mt&&void 0===e?n:e,this},kt.prototype.clear=function(){this.__data__=[]},kt.prototype.delete=function(t){var e=this.__data__,i=At(e,t);return!(i<0||(i==e.length-1?e.pop():ct.call(e,i,1),0))},kt.prototype.get=function(t){var e=this.__data__,i=At(e,t);return i<0?void 0:e[i][1]},kt.prototype.has=function(t){return At(this.__data__,t)>-1},kt.prototype.set=function(t,e){var i=this.__data__,n=At(i,t);return n<0?i.push([t,e]):i[n][1]=e,this},Mt.prototype.clear=function(){this.__data__={hash:new Ot,map:new(pt||kt),string:new Ot}},Mt.prototype.delete=function(t){return Pt(this,t).delete(t)},Mt.prototype.get=function(t){return Pt(this,t).get(t)},Mt.prototype.has=function(t){return Pt(this,t).has(t)},Mt.prototype.set=function(t,e){return Pt(this,t).set(t,e),this},Rt.prototype.clear=function(){this.__data__=new kt},Rt.prototype.delete=function(t){return this.__data__.delete(t)},Rt.prototype.get=function(t){return this.__data__.get(t)},Rt.prototype.has=function(t){return this.__data__.has(t)},Rt.prototype.set=function(t,e){var i=this.__data__;if(i instanceof kt){var n=i.__data__;if(!pt||n.length<199)return n.push([t,e]),this;i=this.__data__=new Mt(n)}return i.set(t,e),this};var Dt=lt?V(lt,Object):function(){return[]},Ft=function(t){return tt.call(t)};function Bt(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||E.test(t))&&t>-1&&t%1==0&&t<e}function zt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||K)}function Nt(t){if(null!=t){try{return Q.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function qt(t,e){return t===e||t!=t&&e!=e}(dt&&Ft(new dt(new ArrayBuffer(1)))!=y||pt&&Ft(new pt)!=h||bt&&Ft(bt.resolve())!=p||gt&&Ft(new gt)!=g||ft&&Ft(new ft)!=_)&&(Ft=function(t){var e=tt.call(t),i=e==d?t.constructor:void 0,n=i?Nt(i):void 0;if(n)switch(n){case _t:return y;case vt:return h;case yt:return p;case xt:return g;case Ct:return _}return e});var $t=Array.isArray;function Ht(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!Gt(t)}var Vt=ht||function(){return!1};function Gt(t){var e=Zt(t)?tt.call(t):"";return e==c||e==l}function Zt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Wt(t){return Ht(t)?function(t,e){var i=$t(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Ht(t)}(t)&&J.call(t,"callee")&&(!at.call(t,"callee")||tt.call(t)==o)}(t)?function(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}(t.length,String):[],n=i.length,r=!!n;for(var s in t)!J.call(t,s)||r&&("length"==s||Bt(s,n))||i.push(s);return i}(t):function(t){if(!zt(t))return ut(t);var e=[];for(var i in Object(t))J.call(t,i)&&"constructor"!=i&&e.push(i);return e}(t)}t.exports=function(t){return It(t,!0,!0)}},307:(t,e,i)=>{t=i.nmd(t);var n="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",c="[object Date]",l="[object Error]",h="[object Function]",u="[object Map]",d="[object Number]",p="[object Object]",b="[object Promise]",g="[object RegExp]",f="[object Set]",m="[object String]",_="[object WeakMap]",v="[object ArrayBuffer]",y="[object DataView]",x=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,S={};S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S[o]=S[s]=S[v]=S[a]=S[y]=S[c]=S[l]=S[h]=S[u]=S[d]=S[p]=S[g]=S[f]=S[m]=S[_]=!1;var w="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,O="object"==typeof self&&self&&self.Object===Object&&self,k=w||O||Function("return this")(),M=e&&!e.nodeType&&e,R=M&&t&&!t.nodeType&&t,j=R&&R.exports===M,A=j&&w.process,I=function(){try{return A&&A.binding&&A.binding("util")}catch(t){}}(),E=I&&I.isTypedArray;function T(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}function P(t){var e=-1,i=Array(t.size);return t.forEach(function(t,n){i[++e]=[n,t]}),i}function L(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=t}),i}var D,F,B,z=Array.prototype,N=Object.prototype,q=k["__core-js_shared__"],$=Function.prototype.toString,H=N.hasOwnProperty,V=(D=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"",G=N.toString,Z=RegExp("^"+$.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=j?k.Buffer:void 0,U=k.Symbol,K=k.Uint8Array,Y=N.propertyIsEnumerable,X=z.splice,Q=U?U.toStringTag:void 0,J=Object.getOwnPropertySymbols,tt=W?W.isBuffer:void 0,et=(F=Object.keys,B=Object,function(t){return F(B(t))}),it=Mt(k,"DataView"),nt=Mt(k,"Map"),rt=Mt(k,"Promise"),ot=Mt(k,"Set"),st=Mt(k,"WeakMap"),at=Mt(Object,"create"),ct=It(it),lt=It(nt),ht=It(rt),ut=It(ot),dt=It(st),pt=U?U.prototype:void 0,bt=pt?pt.valueOf:void 0;function gt(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function ft(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function mt(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function _t(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new mt;++e<i;)this.add(t[e])}function vt(t){var e=this.__data__=new ft(t);this.size=e.size}function yt(t,e){for(var i=t.length;i--;)if(Et(t[i][0],e))return i;return-1}function xt(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Q&&Q in Object(t)?function(t){var e=H.call(t,Q),i=t[Q];try{t[Q]=void 0;var n=!0}catch(t){}var r=G.call(t);return n&&(e?t[Q]=i:delete t[Q]),r}(t):function(t){return G.call(t)}(t)}function Ct(t){return zt(t)&&xt(t)==o}function St(t,e,i,n,r){return t===e||(null==t||null==e||!zt(t)&&!zt(e)?t!=t&&e!=e:function(t,e,i,n,r,h){var b=Pt(t),_=Pt(e),x=b?s:jt(t),C=_?s:jt(e),S=(x=x==o?p:x)==p,w=(C=C==o?p:C)==p,O=x==C;if(O&&Lt(t)){if(!Lt(e))return!1;b=!0,S=!1}if(O&&!S)return h||(h=new vt),b||Nt(t)?wt(t,e,i,n,r,h):function(t,e,i,n,r,o,s){switch(i){case y:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case v:return!(t.byteLength!=e.byteLength||!o(new K(t),new K(e)));case a:case c:case d:return Et(+t,+e);case l:return t.name==e.name&&t.message==e.message;case g:case m:return t==e+"";case u:var h=P;case f:if(h||(h=L),t.size!=e.size&&!(1&n))return!1;var p=s.get(t);if(p)return p==e;n|=2,s.set(t,e);var b=wt(h(t),h(e),n,r,o,s);return s.delete(t),b;case"[object Symbol]":if(bt)return bt.call(t)==bt.call(e)}return!1}(t,e,x,i,n,r,h);if(!(1&i)){var k=S&&H.call(t,"__wrapped__"),M=w&&H.call(e,"__wrapped__");if(k||M){var R=k?t.value():t,j=M?e.value():e;return h||(h=new vt),r(R,j,i,n,h)}}return!!O&&(h||(h=new vt),function(t,e,i,n,r,o){var s=1&i,a=Ot(t),c=a.length;if(c!=Ot(e).length&&!s)return!1;for(var l=c;l--;){var h=a[l];if(!(s?h in e:H.call(e,h)))return!1}var u=o.get(t);if(u&&o.get(e))return u==e;var d=!0;o.set(t,e),o.set(e,t);for(var p=s;++l<c;){var b=t[h=a[l]],g=e[h];if(n)var f=s?n(g,b,h,e,t,o):n(b,g,h,t,e,o);if(!(void 0===f?b===g||r(b,g,i,n,o):f)){d=!1;break}p||(p="constructor"==h)}if(d&&!p){var m=t.constructor,_=e.constructor;m==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof _&&_ instanceof _||(d=!1)}return o.delete(t),o.delete(e),d}(t,e,i,n,r,h))}(t,e,i,n,St,r))}function wt(t,e,i,n,r,o){var s=1&i,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var h=-1,u=!0,d=2&i?new _t:void 0;for(o.set(t,e),o.set(e,t);++h<a;){var p=t[h],b=e[h];if(n)var g=s?n(b,p,h,e,t,o):n(p,b,h,t,e,o);if(void 0!==g){if(g)continue;u=!1;break}if(d){if(!T(e,function(t,e){if(!d.has(e)&&(p===t||r(p,t,i,n,o)))return d.push(e)})){u=!1;break}}else if(p!==b&&!r(p,b,i,n,o)){u=!1;break}}return o.delete(t),o.delete(e),u}function Ot(t){return function(t,e,i){var n=e(t);return Pt(t)?n:function(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t}(n,i(t))}(t,qt,Rt)}function kt(t,e){var i,n,r=t.__data__;return("string"==(n=typeof(i=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?r["string"==typeof e?"string":"hash"]:r.map}function Mt(t,e){var i=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Bt(t)||function(t){return!!V&&V in t}(t))&&(Dt(t)?Z:x).test(It(t))}(i)?i:void 0}gt.prototype.clear=function(){this.__data__=at?at(null):{},this.size=0},gt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},gt.prototype.get=function(t){var e=this.__data__;if(at){var i=e[t];return i===n?void 0:i}return H.call(e,t)?e[t]:void 0},gt.prototype.has=function(t){var e=this.__data__;return at?void 0!==e[t]:H.call(e,t)},gt.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=at&&void 0===e?n:e,this},ft.prototype.clear=function(){this.__data__=[],this.size=0},ft.prototype.delete=function(t){var e=this.__data__,i=yt(e,t);return!(i<0||(i==e.length-1?e.pop():X.call(e,i,1),--this.size,0))},ft.prototype.get=function(t){var e=this.__data__,i=yt(e,t);return i<0?void 0:e[i][1]},ft.prototype.has=function(t){return yt(this.__data__,t)>-1},ft.prototype.set=function(t,e){var i=this.__data__,n=yt(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this},mt.prototype.clear=function(){this.size=0,this.__data__={hash:new gt,map:new(nt||ft),string:new gt}},mt.prototype.delete=function(t){var e=kt(this,t).delete(t);return this.size-=e?1:0,e},mt.prototype.get=function(t){return kt(this,t).get(t)},mt.prototype.has=function(t){return kt(this,t).has(t)},mt.prototype.set=function(t,e){var i=kt(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this},_t.prototype.add=_t.prototype.push=function(t){return this.__data__.set(t,n),this},_t.prototype.has=function(t){return this.__data__.has(t)},vt.prototype.clear=function(){this.__data__=new ft,this.size=0},vt.prototype.delete=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i},vt.prototype.get=function(t){return this.__data__.get(t)},vt.prototype.has=function(t){return this.__data__.has(t)},vt.prototype.set=function(t,e){var i=this.__data__;if(i instanceof ft){var n=i.__data__;if(!nt||n.length<199)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new mt(n)}return i.set(t,e),this.size=i.size,this};var Rt=J?function(t){return null==t?[]:(t=Object(t),function(e,i){for(var n=-1,r=null==e?0:e.length,o=0,s=[];++n<r;){var a=e[n];Y.call(t,a)&&(s[o++]=a)}return s}(J(t)))}:function(){return[]},jt=xt;function At(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||C.test(t))&&t>-1&&t%1==0&&t<e}function It(t){if(null!=t){try{return $.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Et(t,e){return t===e||t!=t&&e!=e}(it&&jt(new it(new ArrayBuffer(1)))!=y||nt&&jt(new nt)!=u||rt&&jt(rt.resolve())!=b||ot&&jt(new ot)!=f||st&&jt(new st)!=_)&&(jt=function(t){var e=xt(t),i=e==p?t.constructor:void 0,n=i?It(i):"";if(n)switch(n){case ct:return y;case lt:return u;case ht:return b;case ut:return f;case dt:return _}return e});var Tt=Ct(function(){return arguments}())?Ct:function(t){return zt(t)&&H.call(t,"callee")&&!Y.call(t,"callee")},Pt=Array.isArray,Lt=tt||function(){return!1};function Dt(t){if(!Bt(t))return!1;var e=xt(t);return e==h||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ft(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}function Bt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function zt(t){return null!=t&&"object"==typeof t}var Nt=E?function(t){return function(e){return t(e)}}(E):function(t){return zt(t)&&Ft(t.length)&&!!S[xt(t)]};function qt(t){return null!=(e=t)&&Ft(e.length)&&!Dt(e)?function(t,e){var i=Pt(t),n=!i&&Tt(t),r=!i&&!n&&Lt(t),o=!i&&!n&&!r&&Nt(t),s=i||n||r||o,a=s?function(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}(t.length,String):[],c=a.length;for(var l in t)!H.call(t,l)||s&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||At(l,c))||a.push(l);return a}(t):function(t){if(i=(e=t)&&e.constructor,e!==("function"==typeof i&&i.prototype||N))return et(t);var e,i,n=[];for(var r in Object(t))H.call(t,r)&&"constructor"!=r&&n.push(r);return n}(t);var e}t.exports=function(t,e){return St(t,e)}},210:function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(i(465)),s=n(i(307));!function(t){t.compose=function(t,e,i){void 0===t&&(t={}),void 0===e&&(e={}),"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var n=o.default(e);for(var r in i||(n=Object.keys(n).reduce(function(t,e){return null!=n[e]&&(t[e]=n[e]),t},{})),t)void 0!==t[r]&&void 0===e[r]&&(n[r]=t[r]);return Object.keys(n).length>0?n:void 0},t.diff=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var i=Object.keys(t).concat(Object.keys(e)).reduce(function(i,n){return s.default(t[n],e[n])||(i[n]=void 0===e[n]?null:e[n]),i},{});return Object.keys(i).length>0?i:void 0},t.invert=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),t=t||{};var i=Object.keys(e).reduce(function(i,n){return e[n]!==t[n]&&void 0!==t[n]&&(i[n]=e[n]),i},{});return Object.keys(t).reduce(function(i,n){return t[n]!==e[n]&&void 0===e[n]&&(i[n]=null),i},i)},t.transform=function(t,e,i){if(void 0===i&&(i=!1),"object"!=typeof t)return e;if("object"==typeof e){if(!i)return e;var n=Object.keys(e).reduce(function(i,n){return void 0===t[n]&&(i[n]=e[n]),i},{});return Object.keys(n).length>0?n:void 0}}}(r||(r={})),e.default=r},895:function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},r=n(i(103)),o=n(i(465)),s=n(i(307)),a=n(i(210)),c=n(i(430)),l=String.fromCharCode(0),h=function(){function t(t){this.ops=Array.isArray(t)?t:null!=t&&Array.isArray(t.ops)?t.ops:[]}return t.prototype.insert=function(t,e){var i={};return"string"==typeof t&&0===t.length?this:(i.insert=t,null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(i.attributes=e),this.push(i))},t.prototype.delete=function(t){return t<=0?this:this.push({delete:t})},t.prototype.retain=function(t,e){if(t<=0)return this;var i={retain:t};return null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(i.attributes=e),this.push(i)},t.prototype.push=function(t){var e=this.ops.length,i=this.ops[e-1];if(t=o.default(t),"object"==typeof i){if("number"==typeof t.delete&&"number"==typeof i.delete)return this.ops[e-1]={delete:i.delete+t.delete},this;if("number"==typeof i.delete&&null!=t.insert&&"object"!=typeof(i=this.ops[(e-=1)-1]))return this.ops.unshift(t),this;if(s.default(t.attributes,i.attributes)){if("string"==typeof t.insert&&"string"==typeof i.insert)return this.ops[e-1]={insert:i.insert+t.insert},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof i.retain)return this.ops[e-1]={retain:i.retain+t.retain},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},t.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},t.prototype.filter=function(t){return this.ops.filter(t)},t.prototype.forEach=function(t){this.ops.forEach(t)},t.prototype.map=function(t){return this.ops.map(t)},t.prototype.partition=function(t){var e=[],i=[];return this.forEach(function(n){(t(n)?e:i).push(n)}),[e,i]},t.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},t.prototype.changeLength=function(){return this.reduce(function(t,e){return e.insert?t+c.default.length(e):e.delete?t-e.delete:t},0)},t.prototype.length=function(){return this.reduce(function(t,e){return t+c.default.length(e)},0)},t.prototype.slice=function(e,i){void 0===e&&(e=0),void 0===i&&(i=1/0);for(var n=[],r=c.default.iterator(this.ops),o=0;o<i&&r.hasNext();){var s=void 0;o<e?s=r.next(e-o):(s=r.next(i-o),n.push(s)),o+=c.default.length(s)}return new t(n)},t.prototype.compose=function(e){var i=c.default.iterator(this.ops),n=c.default.iterator(e.ops),r=[],o=n.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){for(var l=o.retain;"insert"===i.peekType()&&i.peekLength()<=l;)l-=i.peekLength(),r.push(i.next());o.retain-l>0&&n.next(o.retain-l)}for(var h=new t(r);i.hasNext()||n.hasNext();)if("insert"===n.peekType())h.push(n.next());else if("delete"===i.peekType())h.push(i.next());else{var u=Math.min(i.peekLength(),n.peekLength()),d=i.next(u),p=n.next(u);if("number"==typeof p.retain){var b={};"number"==typeof d.retain?b.retain=u:b.insert=d.insert;var g=a.default.compose(d.attributes,p.attributes,"number"==typeof d.retain);if(g&&(b.attributes=g),h.push(b),!n.hasNext()&&s.default(h.ops[h.ops.length-1],b)){var f=new t(i.rest());return h.concat(f).chop()}}else"number"==typeof p.delete&&"number"==typeof d.retain&&h.push(p)}return h.chop()},t.prototype.concat=function(e){var i=new t(this.ops.slice());return e.ops.length>0&&(i.push(e.ops[0]),i.ops=i.ops.concat(e.ops.slice(1))),i},t.prototype.diff=function(e,i){if(this.ops===e.ops)return new t;var n=[this,e].map(function(t){return t.map(function(i){if(null!=i.insert)return"string"==typeof i.insert?i.insert:l;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")}).join("")}),o=new t,h=r.default(n[0],n[1],i),u=c.default.iterator(this.ops),d=c.default.iterator(e.ops);return h.forEach(function(t){for(var e=t[1].length;e>0;){var i=0;switch(t[0]){case r.default.INSERT:i=Math.min(d.peekLength(),e),o.push(d.next(i));break;case r.default.DELETE:i=Math.min(e,u.peekLength()),u.next(i),o.delete(i);break;case r.default.EQUAL:i=Math.min(u.peekLength(),d.peekLength(),e);var n=u.next(i),c=d.next(i);s.default(n.insert,c.insert)?o.retain(i,a.default.diff(n.attributes,c.attributes)):o.push(c).delete(i)}e-=i}}),o.chop()},t.prototype.eachLine=function(e,i){void 0===i&&(i="\n");for(var n=c.default.iterator(this.ops),r=new t,o=0;n.hasNext();){if("insert"!==n.peekType())return;var s=n.peek(),a=c.default.length(s)-n.peekLength(),l="string"==typeof s.insert?s.insert.indexOf(i,a)-a:-1;if(l<0)r.push(n.next());else if(l>0)r.push(n.next(l));else{if(!1===e(r,n.next(1).attributes||{},o))return;o+=1,r=new t}}r.length()>0&&e(r,{},o)},t.prototype.invert=function(e){var i=new t;return this.reduce(function(t,n){if(n.insert)i.delete(c.default.length(n));else{if(n.retain&&null==n.attributes)return i.retain(n.retain),t+n.retain;if(n.delete||n.retain&&n.attributes){var r=n.delete||n.retain;return e.slice(t,t+r).forEach(function(t){n.delete?i.push(t):n.retain&&n.attributes&&i.retain(c.default.length(t),a.default.invert(n.attributes,t.attributes))}),t+r}}return t},0),i.chop()},t.prototype.transform=function(e,i){if(void 0===i&&(i=!1),i=!!i,"number"==typeof e)return this.transformPosition(e,i);for(var n=e,r=c.default.iterator(this.ops),o=c.default.iterator(n.ops),s=new t;r.hasNext()||o.hasNext();)if("insert"!==r.peekType()||!i&&"insert"===o.peekType())if("insert"===o.peekType())s.push(o.next());else{var l=Math.min(r.peekLength(),o.peekLength()),h=r.next(l),u=o.next(l);if(h.delete)continue;u.delete?s.push(u):s.retain(l,a.default.transform(h.attributes,u.attributes,i))}else s.retain(c.default.length(r.next()));return s.chop()},t.prototype.transformPosition=function(t,e){void 0===e&&(e=!1),e=!!e;for(var i=c.default.iterator(this.ops),n=0;i.hasNext()&&n<=t;){var r=i.peekLength(),o=i.peekType();i.next(),"delete"!==o?("insert"===o&&(n<t||!e)&&(t+=r),n+=r):t-=Math.min(r,t-n)}return t},t.Op=c.default,t.AttributeMap=a.default,t}();t.exports=h},977:function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(430)),o=function(){function t(t){this.ops=t,this.index=0,this.offset=0}return t.prototype.hasNext=function(){return this.peekLength()<1/0},t.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var i=this.offset,n=r.default.length(e);if(t>=n-i?(t=n-i,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete)return{delete:t};var o={};return e.attributes&&(o.attributes=e.attributes),"number"==typeof e.retain?o.retain=t:o.insert="string"==typeof e.insert?e.insert.substr(i,t):e.insert,o}return{retain:1/0}},t.prototype.peek=function(){return this.ops[this.index]},t.prototype.peekLength=function(){return this.ops[this.index]?r.default.length(this.ops[this.index])-this.offset:1/0},t.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},t.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,i=this.next(),n=this.ops.slice(this.index);return this.offset=t,this.index=e,[i].concat(n)}return[]},t}();e.default=o},430:function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(i(977));!function(t){t.iterator=function(t){return new o.default(t)},t.length=function(t){return"number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"string"==typeof t.insert?t.insert.length:1}}(r||(r={})),e.default=r},103:t=>{var e=-1;function i(t,a,c,l){if(t===a)return t?[[0,t]]:[];if(null!=c){var h=function(t,e,i){var n="number"==typeof i?{index:i,length:0}:i.oldRange,r="number"==typeof i?null:i.newRange,o=t.length,s=e.length;if(0===n.length&&(null===r||0===r.length)){var a=n.index,c=t.slice(0,a),l=t.slice(a),h=r?r.index:null,d=a+s-o;if((null===h||h===d)&&!(d<0||d>s)){var p=e.slice(0,d);if((f=e.slice(d))===l){var b=Math.min(a,d);if((_=c.slice(0,b))===(y=p.slice(0,b)))return u(_,c.slice(b),p.slice(b),l)}}if(null===h||h===a){var g=a,f=(p=e.slice(0,g),e.slice(g));if(p===c){var m=Math.min(o-g,s-g);if((v=l.slice(l.length-m))===(x=f.slice(f.length-m)))return u(c,l.slice(0,l.length-m),f.slice(0,f.length-m),v)}}}if(n.length>0&&r&&0===r.length){var _=t.slice(0,n.index),v=t.slice(n.index+n.length);if(!(s<(b=_.length)+(m=v.length))){var y=e.slice(0,b),x=e.slice(s-m);if(_===y&&v===x)return u(_,t.slice(b,o-m),e.slice(b,s-m),v)}}return null}(t,a,c);if(h)return h}var d=r(t,a),p=t.substring(0,d);d=o(t=t.substring(d),a=a.substring(d));var b=t.substring(t.length-d),g=function(t,s){var a;if(!t)return[[1,s]];if(!s)return[[e,t]];var c=t.length>s.length?t:s,l=t.length>s.length?s:t,h=c.indexOf(l);if(-1!==h)return a=[[1,c.substring(0,h)],[0,l],[1,c.substring(h+l.length)]],t.length>s.length&&(a[0][0]=a[2][0]=e),a;if(1===l.length)return[[e,t],[1,s]];var u=function(t,e){var i=t.length>e.length?t:e,n=t.length>e.length?e:t;if(i.length<4||2*n.length<i.length)return null;function s(t,e,i){for(var n,s,a,c,l=t.substring(i,i+Math.floor(t.length/4)),h=-1,u="";-1!==(h=e.indexOf(l,h+1));){var d=r(t.substring(i),e.substring(h)),p=o(t.substring(0,i),e.substring(0,h));u.length<p+d&&(u=e.substring(h-p,h)+e.substring(h,h+d),n=t.substring(0,i-p),s=t.substring(i+d),a=e.substring(0,h-p),c=e.substring(h+d))}return 2*u.length>=t.length?[n,s,a,c,u]:null}var a,c,l,h,u,d=s(i,n,Math.ceil(i.length/4)),p=s(i,n,Math.ceil(i.length/2));return d||p?(a=p?d&&d[4].length>p[4].length?d:p:d,t.length>e.length?(c=a[0],l=a[1],h=a[2],u=a[3]):(h=a[0],u=a[1],c=a[2],l=a[3]),[c,l,h,u,a[4]]):null}(t,s);if(u){var d=u[1],p=u[3],b=u[4],g=i(u[0],u[2]),f=i(d,p);return g.concat([[0,b]],f)}return function(t,i){for(var r=t.length,o=i.length,s=Math.ceil((r+o)/2),a=s,c=2*s,l=new Array(c),h=new Array(c),u=0;u<c;u++)l[u]=-1,h[u]=-1;l[a+1]=0,h[a+1]=0;for(var d=r-o,p=d%2!=0,b=0,g=0,f=0,m=0,_=0;_<s;_++){for(var v=-_+b;v<=_-g;v+=2){for(var y=a+v,x=(k=v===-_||v!==_&&l[y-1]<l[y+1]?l[y+1]:l[y-1]+1)-v;k<r&&x<o&&t.charAt(k)===i.charAt(x);)k++,x++;if(l[y]=k,k>r)g+=2;else if(x>o)b+=2;else if(p&&(w=a+d-v)>=0&&w<c&&-1!==h[w]&&k>=(S=r-h[w]))return n(t,i,k,x)}for(var C=-_+f;C<=_-m;C+=2){for(var S,w=a+C,O=(S=C===-_||C!==_&&h[w-1]<h[w+1]?h[w+1]:h[w-1]+1)-C;S<r&&O<o&&t.charAt(r-S-1)===i.charAt(o-O-1);)S++,O++;if(h[w]=S,S>r)m+=2;else if(O>o)f+=2;else if(!p){var k;if((y=a+d-C)>=0&&y<c&&-1!==l[y]&&(x=a+(k=l[y])-y,k>=(S=r-S)))return n(t,i,k,x)}}}return[[e,t],[1,i]]}(t,s)}(t=t.substring(0,t.length-d),a=a.substring(0,a.length-d));return p&&g.unshift([0,p]),b&&g.push([0,b]),s(g,l),g}function n(t,e,n,r){var o=t.substring(0,n),s=e.substring(0,r),a=t.substring(n),c=e.substring(r),l=i(o,s),h=i(a,c);return l.concat(h)}function r(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var i=0,n=Math.min(t.length,e.length),r=n,o=0;i<r;)t.substring(o,r)==e.substring(o,r)?o=i=r:n=r,r=Math.floor((n-i)/2+i);return a(t.charCodeAt(r-1))&&r--,r}function o(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var i=0,n=Math.min(t.length,e.length),r=n,o=0;i<r;)t.substring(t.length-r,t.length-o)==e.substring(e.length-r,e.length-o)?o=i=r:n=r,r=Math.floor((n-i)/2+i);return c(t.charCodeAt(t.length-r))&&r--,r}function s(t,i){t.push([0,""]);for(var n,a=0,c=0,u=0,d="",p="";a<t.length;)if(a<t.length-1&&!t[a][1])t.splice(a,1);else switch(t[a][0]){case 1:u++,p+=t[a][1],a++;break;case e:c++,d+=t[a][1],a++;break;case 0:var b=a-u-c-1;if(i){if(b>=0&&h(t[b][1])){var g=t[b][1].slice(-1);if(t[b][1]=t[b][1].slice(0,-1),d=g+d,p=g+p,!t[b][1]){t.splice(b,1),a--;var f=b-1;t[f]&&1===t[f][0]&&(u++,p=t[f][1]+p,f--),t[f]&&t[f][0]===e&&(c++,d=t[f][1]+d,f--),b=f}}l(t[a][1])&&(g=t[a][1].charAt(0),t[a][1]=t[a][1].slice(1),d+=g,p+=g)}if(a<t.length-1&&!t[a][1]){t.splice(a,1);break}if(d.length>0||p.length>0){d.length>0&&p.length>0&&(0!==(n=r(p,d))&&(b>=0?t[b][1]+=p.substring(0,n):(t.splice(0,0,[0,p.substring(0,n)]),a++),p=p.substring(n),d=d.substring(n)),0!==(n=o(p,d))&&(t[a][1]=p.substring(p.length-n)+t[a][1],p=p.substring(0,p.length-n),d=d.substring(0,d.length-n)));var m=u+c;0===d.length&&0===p.length?(t.splice(a-m,m),a-=m):0===d.length?(t.splice(a-m,m,[1,p]),a=a-m+1):0===p.length?(t.splice(a-m,m,[e,d]),a=a-m+1):(t.splice(a-m,m,[e,d],[1,p]),a=a-m+2)}0!==a&&0===t[a-1][0]?(t[a-1][1]+=t[a][1],t.splice(a,1)):a++,u=0,c=0,d="",p=""}""===t[t.length-1][1]&&t.pop();var _=!1;for(a=1;a<t.length-1;)0===t[a-1][0]&&0===t[a+1][0]&&(t[a][1].substring(t[a][1].length-t[a-1][1].length)===t[a-1][1]?(t[a][1]=t[a-1][1]+t[a][1].substring(0,t[a][1].length-t[a-1][1].length),t[a+1][1]=t[a-1][1]+t[a+1][1],t.splice(a-1,1),_=!0):t[a][1].substring(0,t[a+1][1].length)==t[a+1][1]&&(t[a-1][1]+=t[a+1][1],t[a][1]=t[a][1].substring(t[a+1][1].length)+t[a+1][1],t.splice(a+1,1),_=!0)),a++;_&&s(t,i)}function a(t){return t>=55296&&t<=56319}function c(t){return t>=56320&&t<=57343}function l(t){return c(t.charCodeAt(0))}function h(t){return a(t.charCodeAt(t.length-1))}function u(t,i,n,r){return h(t)||l(r)?null:function(t){for(var e=[],i=0;i<t.length;i++)t[i][1].length>0&&e.push(t[i]);return e}([[0,t],[e,i],[1,n],[0,r]])}function d(t,e,n){return i(t,e,n,!0)}d.INSERT=1,d.DELETE=e,d.EQUAL=0,t.exports=d},165:function(t,e,i){var n,r;void 0===(r="function"==typeof(n=function(){var t,e={};function i(t){var e;return t?screen.deviceXDPI===screen.logicalXDPI?t:"length"in t?Array.prototype.map.call(t,i):(e=screen.deviceXDPI/screen.logicalXDPI,{top:t.top/e,bottom:t.bottom/e,left:t.left/e,right:t.right/e,width:t.width/e,height:t.height/e}):t}function n(t,e){var i,n=0,r=1024;if(r>=e.length)return Array.prototype.push.apply(t,e);for(;n<e.length;)i=Array.prototype.push.apply(t,Array.prototype.slice.call(e,n,n+r)),n+=r;return i}return e.isBroken=function(){var e,i,n,r,o,s,a,c;return void 0===t&&(i=document.createElement("p"),n=document.createElement("span"),r=document.createTextNode("aa"),o=document.createTextNode("aa"),(s=document.createElement("img")).setAttribute("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="),a=document.createRange(),t={},i.appendChild(r),i.appendChild(n),n.appendChild(s),n.appendChild(o),document.body.appendChild(i),a.setStart(r,1),a.setEnd(n,0),t.getClientRects=t.getBoundingClientRect=a.getClientRects().length>1,t.getClientRects||(a.setEnd(o,1),t.getClientRects=t.getBoundingClientRect=2===a.getClientRects().length),t.getBoundingClientRect||(a.setEnd(a.startContainer,a.startOffset),e=a.getBoundingClientRect(),t.getBoundingClientRect=0===e.top&&0===e.left),document.body.removeChild(i),c=window.ActiveXObject&&new Function("/*@cc_on return @_jscript_version; @*/")(),t.ieZoom=!!c&&c<=10),t},e.getClientRects=function(t){var e,r,o,s,a,c=this.isBroken();if(c.ieZoom)return i(t.getClientRects());if(!c.getClientRects)return t.getClientRects();function l(t){for(var e=0;t=t.previousSibling;)e++;return e}for(e=[],o=[],r=t.endContainer,s=t.endOffset,a=document.createRange();r!==t.commonAncestorContainer;)a.setStart(r,0),a.setEnd(r,s),n(o,a.getClientRects()),s=l(r),r=r.parentNode;return(a=t.cloneRange()).setEnd(r,s),n(e,a.getClientRects()),n(e,o),e},e.getBoundingClientRect=function(t){var e,n,r,o,s,a,c=this.getClientRects(t);if(0===c.length)return null;if(s=t.getBoundingClientRect(),(a=this.isBroken()).ieZoom)return i(s);if(!a.getBoundingClientRect)return s;if(0===s.width&&0===s.height)return c[0];for(e=0,n=c.length;e<n;e++)o=c[e],r?(r.left=Math.min(r.left,o.left),r.top=Math.min(r.top,o.top),r.right=Math.max(r.right,o.right),r.bottom=Math.max(r.bottom,o.bottom)):r={left:o.left,top:o.top,right:o.right,bottom:o.bottom};return r&&(r.width=r.right-r.left,r.height=r.bottom-r.top),r},e})?n.call(e,i,e,t):n)||(t.exports=r)},33:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>C});var n=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var i=-1;return t.some(function(t,n){return t[0]===e&&(i=n,!0)}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var i=t(this.__entries__,e),n=this.__entries__[i];return n&&n[1]},e.prototype.set=function(e,i){var n=t(this.__entries__,e);~n?this.__entries__[n][1]=i:this.__entries__.push([e,i])},e.prototype.delete=function(e){var i=this.__entries__,n=t(i,e);~n&&i.splice(n,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var i=0,n=this.__entries__;i<n.length;i++){var r=n[i];t.call(e,r[1],r[0])}},e}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==i.g&&i.g.Math===Math?i.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),s="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},a=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,l=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var i=!1,n=!1,r=0;function o(){i&&(i=!1,t()),n&&c()}function a(){s(o)}function c(){var t=Date.now();if(i){if(t-r<2)return;n=!0}else i=!0,n=!1,setTimeout(a,20);r=t}return c}(this.refresh.bind(this))}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,i=e.indexOf(t);~i&&e.splice(i,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},t.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,i=void 0===e?"":e;a.some(function(t){return!!~i.indexOf(t)})&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),h=function(t,e){for(var i=0,n=Object.keys(e);i<n.length;i++){var r=n[i];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},u=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||o},d=f(0,0,0,0);function p(t){return parseFloat(t)||0}function b(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.reduce(function(e,i){return e+p(t["border-"+i+"-width"])},0)}var g="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof u(t).SVGGraphicsElement}:function(t){return t instanceof u(t).SVGElement&&"function"==typeof t.getBBox};function f(t,e,i,n){return{x:t,y:e,width:i,height:n}}var m=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=f(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=function(t){return r?g(t)?function(t){var e=t.getBBox();return f(0,0,e.width,e.height)}(t):function(t){var e=t.clientWidth,i=t.clientHeight;if(!e&&!i)return d;var n=u(t).getComputedStyle(t),r=function(t){for(var e={},i=0,n=["top","right","bottom","left"];i<n.length;i++){var r=n[i];e[r]=p(t["padding-"+r])}return e}(n),o=r.left+r.right,s=r.top+r.bottom,a=p(n.width),c=p(n.height);if("border-box"===n.boxSizing&&(Math.round(a+o)!==e&&(a-=b(n,"left","right")+o),Math.round(c+s)!==i&&(c-=b(n,"top","bottom")+s)),!function(t){return t===u(t).document.documentElement}(t)){var l=Math.round(a+o)-e,h=Math.round(c+s)-i;1!==Math.abs(l)&&(a-=l),1!==Math.abs(h)&&(c-=h)}return f(r.left,r.top,a,c)}(t):d}(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),_=function(t,e){var i,n,r,o,s,a,c,l=(n=(i=e).x,r=i.y,o=i.width,s=i.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(a.prototype),h(c,{x:n,y:r,width:o,height:s,top:r,right:n+o,bottom:s+r,left:n}),c);h(this,{target:t,contentRect:l})},v=function(){function t(t,e,i){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=i}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof u(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new m(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof u(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new _(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),y="undefined"!=typeof WeakMap?new WeakMap:new n,x=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=l.getInstance(),n=new v(e,i,this);y.set(this,n)};["observe","unobserve","disconnect"].forEach(function(t){x.prototype[t]=function(){var e;return(e=y.get(this))[t].apply(e,arguments)}});const C=void 0!==o.ResizeObserver?o.ResizeObserver:x},413:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s});var n=i(379),r=i.n(n),o=i(582);r()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}},379:(t,e,i)=>{"use strict";var n,r=function(){var t={};return function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[e]=i}return t[e]}}(),o=[];function s(t){for(var e=-1,i=0;i<o.length;i++)if(o[i].identifier===t){e=i;break}return e}function a(t,e){for(var i={},n=[],r=0;r<t.length;r++){var a=t[r],c=e.base?a[0]+e.base:a[0],l=i[c]||0,h="".concat(c," ").concat(l);i[c]=l+1;var u=s(h),d={css:a[1],media:a[2],sourceMap:a[3]};-1!==u?(o[u].references++,o[u].updater(d)):o.push({identifier:h,updater:g(d,e),references:1}),n.push(h)}return n}function c(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var o=i.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])}),"function"==typeof t.insert)t.insert(e);else{var s=r(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var l,h=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function u(t,e,i,n){var r=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet)t.styleSheet.cssText=h(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function d(t,e,i){var n=i.css,r=i.media,o=i.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var p=null,b=0;function g(t,e){var i,n,r;if(e.singleton){var o=b++;i=p||(p=c(e)),n=u.bind(null,i,o,!1),r=u.bind(null,i,o,!0)}else i=c(e),n=d.bind(null,i,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var i=a(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var n=0;n<i.length;n++){var r=s(i[n]);o[r].references--}for(var c=a(t,e),l=0;l<i.length;l++){var h=s(i[l]);0===o[h].references&&(o[h].updater(),o.splice(h,1))}i=c}}}},621:(t,e,i)=>{var n;!function(r){var o=/^\s+/,s=/\s+$/,a=0,c=r.round,l=r.min,h=r.max,u=r.random;function d(t,e){if(e=e||{},(t=t||"")instanceof d)return t;if(!(this instanceof d))return new d(t,e);var i=function(t){var e,i,n={r:0,g:0,b:0},a=1,c=null,u=null,d=null,p=!1,b=!1;return"string"==typeof t&&(t=function(t){t=t.replace(o,"").replace(s,"").toLowerCase();var e,i=!1;if(A[t])t=A[t],i=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=H.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=H.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=H.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=H.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=H.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=H.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=H.hex8.exec(t))?{r:L(e[1]),g:L(e[2]),b:L(e[3]),a:z(e[4]),format:i?"name":"hex8"}:(e=H.hex6.exec(t))?{r:L(e[1]),g:L(e[2]),b:L(e[3]),format:i?"name":"hex"}:(e=H.hex4.exec(t))?{r:L(e[1]+""+e[1]),g:L(e[2]+""+e[2]),b:L(e[3]+""+e[3]),a:z(e[4]+""+e[4]),format:i?"name":"hex8"}:!!(e=H.hex3.exec(t))&&{r:L(e[1]+""+e[1]),g:L(e[2]+""+e[2]),b:L(e[3]+""+e[3]),format:i?"name":"hex"}}(t)),"object"==typeof t&&(V(t.r)&&V(t.g)&&V(t.b)?(e=t.g,i=t.b,n={r:255*T(t.r,255),g:255*T(e,255),b:255*T(i,255)},p=!0,b="%"===String(t.r).substr(-1)?"prgb":"rgb"):V(t.h)&&V(t.s)&&V(t.v)?(c=F(t.s),u=F(t.v),n=function(t,e,i){t=6*T(t,360),e=T(e,100),i=T(i,100);var n=r.floor(t),o=t-n,s=i*(1-e),a=i*(1-o*e),c=i*(1-(1-o)*e),l=n%6;return{r:255*[i,a,s,s,c,i][l],g:255*[c,i,i,a,s,s][l],b:255*[s,s,c,i,i,a][l]}}(t.h,c,u),p=!0,b="hsv"):V(t.h)&&V(t.s)&&V(t.l)&&(c=F(t.s),d=F(t.l),n=function(t,e,i){var n,r,o;function s(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}if(t=T(t,360),e=T(e,100),i=T(i,100),0===e)n=r=o=i;else{var a=i<.5?i*(1+e):i+e-i*e,c=2*i-a;n=s(c,a,t+1/3),r=s(c,a,t),o=s(c,a,t-1/3)}return{r:255*n,g:255*r,b:255*o}}(t.h,c,d),p=!0,b="hsl"),t.hasOwnProperty("a")&&(a=t.a)),a=E(a),{ok:p,format:t.format||b,r:l(255,h(n.r,0)),g:l(255,h(n.g,0)),b:l(255,h(n.b,0)),a:a}}(t);this._originalInput=t,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=c(100*this._a)/100,this._format=e.format||i.format,this._gradientType=e.gradientType,this._r<1&&(this._r=c(this._r)),this._g<1&&(this._g=c(this._g)),this._b<1&&(this._b=c(this._b)),this._ok=i.ok,this._tc_id=a++}function p(t,e,i){t=T(t,255),e=T(e,255),i=T(i,255);var n,r,o=h(t,e,i),s=l(t,e,i),a=(o+s)/2;if(o==s)n=r=0;else{var c=o-s;switch(r=a>.5?c/(2-o-s):c/(o+s),o){case t:n=(e-i)/c+(e<i?6:0);break;case e:n=(i-t)/c+2;break;case i:n=(t-e)/c+4}n/=6}return{h:n,s:r,l:a}}function b(t,e,i){t=T(t,255),e=T(e,255),i=T(i,255);var n,r,o=h(t,e,i),s=l(t,e,i),a=o,c=o-s;if(r=0===o?0:c/o,o==s)n=0;else{switch(o){case t:n=(e-i)/c+(e<i?6:0);break;case e:n=(i-t)/c+2;break;case i:n=(t-e)/c+4}n/=6}return{h:n,s:r,v:a}}function g(t,e,i,n){var r=[D(c(t).toString(16)),D(c(e).toString(16)),D(c(i).toString(16))];return n&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function f(t,e,i,n){return[D(B(n)),D(c(t).toString(16)),D(c(e).toString(16)),D(c(i).toString(16))].join("")}function m(t,e){e=0===e?0:e||10;var i=d(t).toHsl();return i.s-=e/100,i.s=P(i.s),d(i)}function _(t,e){e=0===e?0:e||10;var i=d(t).toHsl();return i.s+=e/100,i.s=P(i.s),d(i)}function v(t){return d(t).desaturate(100)}function y(t,e){e=0===e?0:e||10;var i=d(t).toHsl();return i.l+=e/100,i.l=P(i.l),d(i)}function x(t,e){e=0===e?0:e||10;var i=d(t).toRgb();return i.r=h(0,l(255,i.r-c(-e/100*255))),i.g=h(0,l(255,i.g-c(-e/100*255))),i.b=h(0,l(255,i.b-c(-e/100*255))),d(i)}function C(t,e){e=0===e?0:e||10;var i=d(t).toHsl();return i.l-=e/100,i.l=P(i.l),d(i)}function S(t,e){var i=d(t).toHsl(),n=(i.h+e)%360;return i.h=n<0?360+n:n,d(i)}function w(t){var e=d(t).toHsl();return e.h=(e.h+180)%360,d(e)}function O(t){var e=d(t).toHsl(),i=e.h;return[d(t),d({h:(i+120)%360,s:e.s,l:e.l}),d({h:(i+240)%360,s:e.s,l:e.l})]}function k(t){var e=d(t).toHsl(),i=e.h;return[d(t),d({h:(i+90)%360,s:e.s,l:e.l}),d({h:(i+180)%360,s:e.s,l:e.l}),d({h:(i+270)%360,s:e.s,l:e.l})]}function M(t){var e=d(t).toHsl(),i=e.h;return[d(t),d({h:(i+72)%360,s:e.s,l:e.l}),d({h:(i+216)%360,s:e.s,l:e.l})]}function R(t,e,i){e=e||6,i=i||30;var n=d(t).toHsl(),r=360/i,o=[d(t)];for(n.h=(n.h-(r*e>>1)+720)%360;--e;)n.h=(n.h+r)%360,o.push(d(n));return o}function j(t,e){e=e||6;for(var i=d(t).toHsv(),n=i.h,r=i.s,o=i.v,s=[],a=1/e;e--;)s.push(d({h:n,s:r,v:o})),o=(o+a)%1;return s}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,i,n=this.toRgb();return e=n.g/255,i=n.b/255,.2126*((t=n.r/255)<=.03928?t/12.92:r.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:r.pow((e+.055)/1.055,2.4))+.0722*(i<=.03928?i/12.92:r.pow((i+.055)/1.055,2.4))},setAlpha:function(t){return this._a=E(t),this._roundA=c(100*this._a)/100,this},toHsv:function(){var t=b(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=b(this._r,this._g,this._b),e=c(360*t.h),i=c(100*t.s),n=c(100*t.v);return 1==this._a?"hsv("+e+", "+i+"%, "+n+"%)":"hsva("+e+", "+i+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=p(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=p(this._r,this._g,this._b),e=c(360*t.h),i=c(100*t.s),n=c(100*t.l);return 1==this._a?"hsl("+e+", "+i+"%, "+n+"%)":"hsla("+e+", "+i+"%, "+n+"%, "+this._roundA+")"},toHex:function(t){return g(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,i,n,r){var o=[D(c(t).toString(16)),D(c(e).toString(16)),D(c(i).toString(16)),D(B(n))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:c(this._r),g:c(this._g),b:c(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+c(this._r)+", "+c(this._g)+", "+c(this._b)+")":"rgba("+c(this._r)+", "+c(this._g)+", "+c(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:c(100*T(this._r,255))+"%",g:c(100*T(this._g,255))+"%",b:c(100*T(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+c(100*T(this._r,255))+"%, "+c(100*T(this._g,255))+"%, "+c(100*T(this._b,255))+"%)":"rgba("+c(100*T(this._r,255))+"%, "+c(100*T(this._g,255))+"%, "+c(100*T(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(I[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+f(this._r,this._g,this._b,this._a),i=e,n=this._gradientType?"GradientType = 1, ":"";if(t){var r=d(t);i="#"+f(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+e+",endColorstr="+i+")"},toString:function(t){var e=!!t;t=t||this._format;var i=!1;return e||!(this._a<1&&this._a>=0)||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(i=this.toRgbString()),"prgb"===t&&(i=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(i=this.toHexString()),"hex3"===t&&(i=this.toHexString(!0)),"hex4"===t&&(i=this.toHex8String(!0)),"hex8"===t&&(i=this.toHex8String()),"name"===t&&(i=this.toName()),"hsl"===t&&(i=this.toHslString()),"hsv"===t&&(i=this.toHsvString()),i||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(t,e){var i=t.apply(null,[this].concat([].slice.call(e)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(C,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(_,arguments)},greyscale:function(){return this._applyModification(v,arguments)},spin:function(){return this._applyModification(S,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(R,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(j,arguments)},splitcomplement:function(){return this._applyCombination(M,arguments)},triad:function(){return this._applyCombination(O,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},d.fromRatio=function(t,e){if("object"==typeof t){var i={};for(var n in t)t.hasOwnProperty(n)&&(i[n]="a"===n?t[n]:F(t[n]));t=i}return d(t,e)},d.equals=function(t,e){return!(!t||!e)&&d(t).toRgbString()==d(e).toRgbString()},d.random=function(){return d.fromRatio({r:u(),g:u(),b:u()})},d.mix=function(t,e,i){i=0===i?0:i||50;var n=d(t).toRgb(),r=d(e).toRgb(),o=i/100;return d({r:(r.r-n.r)*o+n.r,g:(r.g-n.g)*o+n.g,b:(r.b-n.b)*o+n.b,a:(r.a-n.a)*o+n.a})},d.readability=function(t,e){var i=d(t),n=d(e);return(r.max(i.getLuminance(),n.getLuminance())+.05)/(r.min(i.getLuminance(),n.getLuminance())+.05)},d.isReadable=function(t,e,i){var n,r,o,s,a,c=d.readability(t,e);switch(r=!1,(o=i,"AA"!==(s=((o=o||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==s&&(s="AA"),"small"!==(a=(o.size||"small").toLowerCase())&&"large"!==a&&(a="small"),n={level:s,size:a}).level+n.size){case"AAsmall":case"AAAlarge":r=c>=4.5;break;case"AAlarge":r=c>=3;break;case"AAAsmall":r=c>=7}return r},d.mostReadable=function(t,e,i){var n,r,o,s,a=null,c=0;r=(i=i||{}).includeFallbackColors,o=i.level,s=i.size;for(var l=0;l<e.length;l++)(n=d.readability(t,e[l]))>c&&(c=n,a=d(e[l]));return d.isReadable(t,a,{level:o,size:s})||!r?a:(i.includeFallbackColors=!1,d.mostReadable(t,["#fff","#000"],i))};var A=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},I=d.hexNames=function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e}(A);function E(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function T(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var i=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=l(e,h(0,parseFloat(t))),i&&(t=parseInt(t*e,10)/100),r.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function P(t){return l(1,h(0,t))}function L(t){return parseInt(t,16)}function D(t){return 1==t.length?"0"+t:""+t}function F(t){return t<=1&&(t=100*t+"%"),t}function B(t){return r.round(255*parseFloat(t)).toString(16)}function z(t){return L(t)/255}var N,q,$,H=(q="[\\s|\\(]+("+(N="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",$="[\\s|\\(]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",{CSS_UNIT:new RegExp(N),rgb:new RegExp("rgb"+q),rgba:new RegExp("rgba"+$),hsl:new RegExp("hsl"+q),hsla:new RegExp("hsla"+$),hsv:new RegExp("hsv"+q),hsva:new RegExp("hsva"+$),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function V(t){return!!H.CSS_UNIT.exec(t)}t.exports?t.exports=d:void 0===(n=(function(){return d}).call(e,i,e,t))||(t.exports=n)}(Math)},607:function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=e.default=void 0;var r=n(i(678));e.default=r.default;var o=n(i(353));e.Cursor=o.default,i(413)},353:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(621),r=function(){function t(t,e,i){this.id=t,this.name=e,this.color=i}return t.prototype.build=function(e){var i=document.createElement(t.CONTAINER_ELEMENT_TAG);i.classList.add(t.CURSOR_CLASS),i.id="ql-cursor-"+this.id,i.innerHTML=e.template;var n=i.getElementsByClassName(t.SELECTION_CLASS)[0],r=i.getElementsByClassName(t.CARET_CONTAINER_CLASS)[0],o=r.getElementsByClassName(t.CARET_CLASS)[0],s=i.getElementsByClassName(t.FLAG_CLASS)[0];return s.style.backgroundColor=this.color,o.style.backgroundColor=this.color,i.getElementsByClassName(t.NAME_CLASS)[0].textContent=this.name,this._hideDelay=e.hideDelayMs+"ms",this._hideSpeedMs=e.hideSpeedMs,this._positionFlag=e.positionFlag,s.style.transitionDelay=this._hideDelay,s.style.transitionDuration=this._hideSpeedMs+"ms",this._el=i,this._selectionEl=n,this._caretEl=r,this._flagEl=s,this._el},t.prototype.show=function(){this._el.classList.remove(t.HIDDEN_CLASS)},t.prototype.hide=function(){this._el.classList.add(t.HIDDEN_CLASS)},t.prototype.remove=function(){this._el.parentNode.removeChild(this._el)},t.prototype.toggleFlag=function(e){var i=this;this._flagEl.classList.toggle(t.SHOW_FLAG_CLASS,e)||(this._flagEl.classList.add(t.NO_DELAY_CLASS),setTimeout(function(){return i._flagEl.classList.remove(t.NO_DELAY_CLASS)},this._hideSpeedMs))},t.prototype.updateCaret=function(t,e){this._caretEl.style.top=t.top+"px",this._caretEl.style.left=t.left+"px",this._caretEl.style.height=t.height+"px",this._positionFlag?this._positionFlag(this._flagEl,t,e):this._updateCaretFlag(t,e)},t.prototype.updateSelection=function(t,e){var i=this;this._clearSelection(),t=t||[],t=Array.from(t),t=this._sanitize(t),(t=this._sortByDomPosition(t)).forEach(function(t){return i._addSelection(t,e)})},t.prototype._updateCaretFlag=function(e,i){this._flagEl.style.width="";var n=this._flagEl.getBoundingClientRect();this._flagEl.classList.remove(t.FLAG_FLIPPED_CLASS),e.left>i.width-n.width&&this._flagEl.classList.add(t.FLAG_FLIPPED_CLASS),this._flagEl.style.left=e.left+"px",this._flagEl.style.top=e.top+"px",this._flagEl.style.width=Math.ceil(n.width)+"px"},t.prototype._clearSelection=function(){this._selectionEl.innerHTML=""},t.prototype._addSelection=function(t,e){var i=this._selectionBlock(t,e);this._selectionEl.appendChild(i)},t.prototype._selectionBlock=function(e,i){var r=document.createElement(t.SELECTION_ELEMENT_TAG);return r.classList.add(t.SELECTION_BLOCK_CLASS),r.style.top=e.top-i.top+"px",r.style.left=e.left-i.left+"px",r.style.width=e.width+"px",r.style.height=e.height+"px",r.style.backgroundColor=n(this.color).setAlpha(.3).toString(),r},t.prototype._sortByDomPosition=function(t){return t.sort(function(t,e){return t.top===e.top?t.left-e.left:t.top-e.top})},t.prototype._sanitize=function(t){var e=this,i=new Set;return t.filter(function(t){if(!t.width||!t.height)return!1;var n=e._serialize(t);return!i.has(n)&&(i.add(n),!0)})},t.prototype._serialize=function(t){return["top:"+t.top,"right:"+t.right,"bottom:"+t.bottom,"left:"+t.left].join(";")},t.CONTAINER_ELEMENT_TAG="SPAN",t.SELECTION_ELEMENT_TAG="SPAN",t.CURSOR_CLASS="ql-cursor",t.SELECTION_CLASS="ql-cursor-selections",t.SELECTION_BLOCK_CLASS="ql-cursor-selection-block",t.CARET_CLASS="ql-cursor-caret",t.CARET_CONTAINER_CLASS="ql-cursor-caret-container",t.FLAG_CLASS="ql-cursor-flag",t.SHOW_FLAG_CLASS="show-flag",t.FLAG_FLIPPED_CLASS="flag-flipped",t.NAME_CLASS="ql-cursor-name",t.HIDDEN_CLASS="hidden",t.NO_DELAY_CLASS="no-delay",t}();e.default=r},678:function(t,e,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&n(e,t,i);return r(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=s(i(353)),c=o(i(165)),l=s(i(338)),h=s(i(33)),u=i(895),d=function(){function t(t,e){void 0===e&&(e={}),this._cursors={},this._isObserving=!1,this.quill=t,this.options=this._setDefaults(e),this._container=this.quill.addContainer(this.options.containerClass),this._boundsContainer=this.options.boundsContainer||this.quill.container,this._currentSelection=this.quill.getSelection(),this._registerSelectionChangeListeners(),this._registerTextChangeListener(),this._registerDomListeners()}return t.prototype.createCursor=function(t,e,i){var n=this._cursors[t];if(!n){n=new a.default(t,e,i),this._cursors[t]=n;var r=n.build(this.options);this._container.appendChild(r)}return n},t.prototype.moveCursor=function(t,e){var i=this._cursors[t];i&&(i.range=e,this._updateCursor(i))},t.prototype.removeCursor=function(t){var e=this._cursors[t];e&&(e.remove(),delete this._cursors[t])},t.prototype.update=function(){var t=this;this.cursors().forEach(function(e){return t._updateCursor(e)})},t.prototype.clearCursors=function(){var t=this;this.cursors().forEach(function(e){return t.removeCursor(e.id)})},t.prototype.toggleFlag=function(t,e){var i=this._cursors[t];i&&i.toggleFlag(e)},t.prototype.cursors=function(){var t=this;return Object.keys(this._cursors).map(function(e){return t._cursors[e]})},t.prototype._registerSelectionChangeListeners=function(){var t=this;this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(e){t._currentSelection=e})},t.prototype._registerTextChangeListener=function(){var t=this;this.quill.on(this.quill.constructor.events.TEXT_CHANGE,function(e){return t._handleTextChange(e)})},t.prototype._registerDomListeners=function(){var t=this;this.quill.container.getElementsByClassName("ql-editor")[0].addEventListener("scroll",function(){return t.update()})},t.prototype._registerResizeObserver=function(){var t=this;if(!this._isObserving){var e=this.quill.container.getElementsByClassName("ql-editor")[0],i=new h.default(function(e){e[0].target.isConnected||(i.disconnect(),t._isObserving=!1),t.update()});i.observe(e),this._isObserving=!0}},t.prototype._updateCursor=function(t){if(this._registerResizeObserver(),!t.range)return t.hide();var e=this._indexWithinQuillBounds(t.range.index),i=this._indexWithinQuillBounds(t.range.index+t.range.length),n=this.quill.getLeaf(e),r=this.quill.getLeaf(i);if(!this._leafIsValid(n)||!this._leafIsValid(r))return t.hide();t.show();var o=this._boundsContainer.getBoundingClientRect(),s=this.quill.getBounds(i);t.updateCaret(s,o);var a=this._lineRanges(t,n,r).reduce(function(t,e){return t.concat(Array.from(c.getClientRects(e)))},[]);t.updateSelection(a,o)},t.prototype._indexWithinQuillBounds=function(t){var e=this.quill.getLength(),i=e?e-1:0;return t=Math.max(t,0),Math.min(t,i)},t.prototype._leafIsValid=function(t){return t&&t[0]&&t[0].domNode&&t[1]>=0},t.prototype._handleTextChange=function(t){var e=this;window.setTimeout(function(){e.options.transformOnTextChange&&e._transformCursors(t),e.options.selectionChangeSource&&(e._emitSelection(),e.update())})},t.prototype._emitSelection=function(){this.quill.emitter.emit(this.quill.constructor.events.SELECTION_CHANGE,this.quill.getSelection(),this._currentSelection,this.options.selectionChangeSource)},t.prototype._setDefaults=function(e){return(e=Object.assign({},e)).template||(e.template=t.DEFAULTS.template),e.containerClass||(e.containerClass=t.DEFAULTS.containerClass),null!==e.selectionChangeSource&&(e.selectionChangeSource||(e.selectionChangeSource=t.DEFAULTS.selectionChangeSource)),e.hideDelayMs=Number.isInteger(e.hideDelayMs)?e.hideDelayMs:t.DEFAULTS.hideDelayMs,e.hideSpeedMs=Number.isInteger(e.hideSpeedMs)?e.hideSpeedMs:t.DEFAULTS.hideSpeedMs,e.transformOnTextChange=!!e.transformOnTextChange,e},t.prototype._lineRanges=function(t,e,i){var n=this.quill.getLines(t.range);return n.reduce(function(t,r,o){if(!r.children){var s=document.createRange();return s.selectNode(r.domNode),t.concat(s)}var a=0===o?e:r.path(0).pop(),c=a[0],l=a[1],h=o===n.length-1?i:r.path(r.length()-1).pop(),u=h[0],d=h[1],p=document.createRange();return c.domNode.nodeType===Node.TEXT_NODE?p.setStart(c.domNode,l):p.setStartBefore(c.domNode),u.domNode.nodeType===Node.TEXT_NODE?p.setEnd(u.domNode,d):p.setEndAfter(u.domNode),t.concat(p)},[])},t.prototype._transformCursors=function(t){var e=this;t=new u(t),this.cursors().filter(function(t){return t.range}).forEach(function(i){i.range.index=t.transformPosition(i.range.index),e._updateCursor(i)})},t.DEFAULTS={template:l.default,containerClass:"ql-cursors",selectionChangeSource:"api",hideDelayMs:3e3,hideSpeedMs:400},t}();e.default=d},338:function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(353));e.default='\n  <span class="'+r.default.SELECTION_CLASS+'"></span>\n  <span class="'+r.default.CARET_CONTAINER_CLASS+'">\n    <span class="'+r.default.CARET_CLASS+'"></span>\n  </span>\n  <div class="'+r.default.FLAG_CLASS+'">\n    <small class="'+r.default.NAME_CLASS+'"></small>\n  </div>\n'}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}return i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),i(607).default})()}}]);