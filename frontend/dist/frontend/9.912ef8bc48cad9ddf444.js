(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"7JkJ":function(t,e,n){"use strict";n.r(e),n.d(e,"ScriptsModule",function(){return yr});var r=n("+rOU"),i=n("ofXK"),o=n("fXoL"),a=n("3Pt+"),s=n("bTqV"),c=n("R1ws"),l=n("FKr1");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({imports:[[l.g],l.g]}),t})();var h=n("0IaG"),d=n("NFeN"),f=n("qFsG"),p=n("8LU1"),b=n("u47x"),g=n("0EQZ");let _=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({imports:[[l.m,l.g],l.g]}),t})();var m=n("XNiG"),v=n("VRyK"),y=n("quSY"),x=n("LRne"),C=n("1G5W"),w=n("Kj3r"),O=n("/uUt"),k=n("IzEk"),S=n("pLZG"),M=n("FtGj"),j=n("rDax"),R=n("iadO"),A=n("kmnG"),P=n("cH1L");const E=function(t){return{active:t}};function I(t,e){if(1&t){const t=o.Tb();o.Sb(0,"button",2),o.Zb("click",function(){o.qc(t);const n=e.$implicit;return o.dc().select(n)}),o.Rb()}if(2&t){const t=e.$implicit,n=o.dc();o.uc("background-color",t),o.jc("ngClass",o.lc(3,E,n.selectedColor===t))}}function T(t,e){if(1&t){const t=o.Tb();o.Sb(0,"button",2),o.Zb("click",function(){o.qc(t);const n=e.$implicit;return o.dc().select(n)}),o.Rb()}if(2&t){const t=e.$implicit,n=o.dc();o.uc("background-color",t),o.jc("ngClass",o.lc(3,E,n.selectedColor===t))}}const L=["button"],z=/^\s+/,D=/\s+$/,B=Math.round,F=(Math,Math,Math,/[^0-9]/g),N=255,$=["#ffffff","#ffff00","#ff00ff","#ff0000","#c0c0c0","#808080","#808000","#800080","#800000","#00ffff","#00ff00","#008080","#008000","#0000ff","#000080","#000000"];function q(t,e,n){const r=t.getImageData(e,n,1,1).data;return{r:r[0],g:r[1],b:r[2]}}function H(t){return 1==t.length?"0"+t:""+t}function W(t){return V(t)/255}function V(t){return parseInt(t,16)}function U(t,e,n,r){var i=[H(B(t).toString(16)),H(B(e).toString(16)),H(B(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}const Z="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",G="[\\s|\\(]+("+Z+")[,|\\s]+("+Z+")[,|\\s]+("+Z+")\\s*\\)?",K="[\\s|\\(]+("+Z+")[,|\\s]+("+Z+")[,|\\s]+("+Z+")[,|\\s]+("+Z+")\\s*\\)?",Y={CSS_UNIT:new RegExp(Z),rgb:new RegExp("rgb"+G),rgba:new RegExp("rgba"+K),hsl:new RegExp("hsl"+G),hsla:new RegExp("hsla"+K),hsv:new RegExp("hsv"+G),hsva:new RegExp("hsva"+K),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function X(t){let e;return t=t.replace(z,"").replace(D,"").toLowerCase(),(e=Y.rgb.exec(t))?{r:e[1],g:e[2],b:e[3],a:1}:(e=Y.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=Y.hex8.exec(t))?{r:V(e[1]),g:V(e[2]),b:V(e[3]),a:W(e[4])}:(e=Y.hex6.exec(t))?{r:V(e[1]),g:V(e[2]),b:V(e[3]),a:1}:(e=Y.hex4.exec(t))?{r:V(e[1]+""+e[1]),g:V(e[2]+""+e[2]),b:V(e[3]+""+e[3]),a:W(e[4]+""+e[4])}:(e=Y.hex3.exec(t))?{r:V(e[1]+""+e[1]),g:V(e[2]+""+e[2]),b:V(e[3]+""+e[3]),a:1}:null}class Q{constructor(t,e,n,r){this.r=t>N?N:t,this.g=e>N?N:e,this.b=n>N?N:n,this.a=null!=r?r>1?1:r:1,this.roundA=Math.round(this.a),this.hex=U(this.r,this.g,this.b),this.rgba=this.toRgba()}toHex(t){return U(this.r,this.g,this.b,t)}toRgba(){return`rgba(${this.r},${this.g},${this.b},${this.a})`}toHexString(t){return"#"+this.toHex(t)}toRgbString(){return 1===this.a?"rgb("+Math.round(this.r)+", "+Math.round(this.g)+", "+Math.round(this.b)+")":"rgba("+Math.round(this.r)+", "+Math.round(this.g)+", "+Math.round(this.b)+", "+this.roundA+")"}toHex8(t){return function(t,e,n,r,i){var o,a=[H(B(t).toString(16)),H(B(e).toString(16)),H(B(n).toString(16)),H((o=r,Math.round(255*parseFloat(o)).toString(16)))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this.r,this.g,this.b,this.a,t)}toHex8String(t){return"#"+this.toHex8(t)}toString(t){let e;return t||!(this.a<1&&this.a>=0)||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t?("rgb"===t&&(e=this.toRgbString()),"hex"!==t&&"hex6"!==t||(e=this.toHexString()),"hex3"===t&&(e=this.toHexString(!0)),"hex4"===t&&(e=this.toHex8String(!0)),"hex8"===t&&(e=this.toHex8String()),e||this.toHexString()):this.toRgbString()}}let J=(()=>{class t{constructor(){this.colorChanged=new o.n}ngOnInit(){}handleColorChanged(t){this.colorChanged.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-palette"]],hostAttrs:[1,"ngx-mat-color-palette"],inputs:{color:"color"},outputs:{colorChanged:"colorChanged"},decls:2,vars:2,consts:[[3,"color","colorChanged"]],template:function(t,e){1&t&&(o.Sb(0,"ngx-mat-color-canvas",0),o.Zb("colorChanged",function(t){return e.handleColorChanged(t)}),o.Rb(),o.Sb(1,"ngx-mat-color-collection",0),o.Zb("colorChanged",function(t){return e.handleColorChanged(t)}),o.Rb()),2&t&&(o.jc("color",e.color),o.Bb(1),o.jc("color",e.color))},directives:function(){return[et,nt]},styles:[".ngx-mat-color-palette .actions{display:flex;margin-top:10px}.ngx-mat-color-palette .actions .left{display:flex;flex-direction:column;margin-right:15px}.ngx-mat-color-palette .actions .left .preview{flex:2 1 auto;margin-bottom:10px}.ngx-mat-color-palette .actions .right{display:flex;flex-direction:column;width:40px}"],encapsulation:2}),t})(),tt=(()=>{class t{constructor(t,e){this.zone=t,this.colorChanged=new o.n,this.x=0,this.y=0,this.drag=!1,this._destroyed=new m.a,this.elementId=e}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}ngAfterViewInit(){this.canvas=document.getElementById(this.elementId),this.ctx=this.canvas.getContext("2d"),this.width=this.canvas.width,this.height=this.canvas.height,this.draw()}draw(){this.ctx.clearRect(0,0,this.width,this.height),this.ctx.rect(0,0,this.width,this.height),this.fillGradient(),0!=this.y&&this.redrawIndicator(this.x,this.y)}onMousedown(t){this.drag=!0,this.changeColor(t),this.zone.runOutsideAngular(()=>{this.canvas.addEventListener("mousemove",this.onMousemove.bind(this))})}onMousemove(t){this.drag&&this.zone.run(()=>{this.changeColor(t)})}onMouseup(t){this.drag=!1,this.canvas.removeEventListener("mousemove",this.onMousemove)}emitChange(t){this.colorChanged.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.A),o.Mb(String))},t.\u0275dir=o.Hb({type:t,inputs:{color:"color"},outputs:{colorChanged:"colorChanged"}}),t})(),et=(()=>{class t extends tt{constructor(t){super(t,"color-block"),this.zone=t,this._resetBaseColor=!0,this.formGroup=new a.h({r:new a.e(null,[a.u.required]),g:new a.e(null,[a.u.required]),b:new a.e(null,[a.u.required]),a:new a.e(null,[a.u.required]),hex:new a.e(null,[a.u.required,a.u.pattern(Y.hex6)])})}get rCtrl(){return this.formGroup.get("r")}get gCtrl(){return this.formGroup.get("g")}get bCtrl(){return this.formGroup.get("b")}get aCtrl(){return this.formGroup.get("a")}get hexCtrl(){return this.formGroup.get("hex")}ngOnInit(){Object(v.a)(this.rCtrl.valueChanges,this.gCtrl.valueChanges,this.bCtrl.valueChanges,this.aCtrl.valueChanges).pipe(Object(C.a)(this._destroyed),Object(w.a)(400)).subscribe(t=>{const e=new Q(Number(this.rCtrl.value),Number(this.gCtrl.value),Number(this.bCtrl.value),Number(this.aCtrl.value));this.emitChange(e)}),this.hexCtrl.valueChanges.pipe(Object(C.a)(this._destroyed),Object(w.a)(400),Object(O.a)()).subscribe(t=>{const e=X(t);if(null!=e){const t=new Q(e.r,e.g,e.b,e.a);this.emitChange(t)}})}ngOnChanges(t){t.color&&t.color.currentValue&&(this.updateForm(t.color.currentValue),this._resetBaseColor&&(this._baseColor=t.color.currentValue),this._resetBaseColor=!0,t.color.firstChange||this.draw())}updateForm(t){const e={emitEvent:!1};this.rCtrl.setValue(t.r,e),this.gCtrl.setValue(t.g,e),this.bCtrl.setValue(t.b,e),this.aCtrl.setValue(t.a,e),this.hexCtrl.setValue(t.hex,e)}redrawIndicator(t,e){this.ctx.beginPath(),this.ctx.strokeStyle="white",this.ctx.arc(t,e,5,0,2*Math.PI,!1),this.ctx.stroke(),this.ctx.closePath()}fillGradient(){this.ctx.fillStyle=this._baseColor?this._baseColor.rgba:"rgba(255,255,255,1)",this.ctx.fillRect(0,0,this.width,this.height);const t=this.ctx.createLinearGradient(0,0,this.width,0);t.addColorStop(0,"rgba(255,255,255,1)"),t.addColorStop(1,"rgba(255,255,255,0)"),this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.width,this.height);const e=this.ctx.createLinearGradient(0,0,0,this.height);e.addColorStop(0,"rgba(0,0,0,0)"),e.addColorStop(1,"rgba(0,0,0,1)"),this.ctx.fillStyle=e,this.ctx.fillRect(0,0,this.width,this.height)}onSliderColorChanged(t){this._baseColor=t,this.color=t,this.fillGradient(),this.emitChange(t)}changeColor(t){this.x=t.offsetX,this.y=t.offsetY,this._resetBaseColor=!1,this.draw();const{r:e,g:n,b:r}=q(this.ctx,t.offsetX,t.offsetY);this.emitChange(new Q(e,n,r))}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.A))},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-canvas"]],hostAttrs:[1,"ngx-mat-color-canvas"],features:[o.yb,o.zb],decls:30,vars:3,consts:[[3,"formGroup"],[1,"color-canvas-row"],[1,"zone-canvas"],["id","color-block","width","200","height","200",1,"zone-block",3,"mousedown","mouseup"],[3,"colorChanged"],[1,"zone-inputs"],["matInput","","formControlName","r","ngxMatNumericColorInput","","autocomplete","off"],["matInput","","formControlName","g","ngxMatNumericColorInput","","autocomplete","off"],["matInput","","formControlName","b","ngxMatNumericColorInput","","autocomplete","off"],["mat-mini-fab","",1,"preview"],["matPrefix","",1,"symbol"],["matInput","","formControlName","hex","autocomplete","off"],["matInput","","formControlName","a","type","number","min","0","max","1","step","0.1","autocomplete","off"]],template:function(t,e){1&t&&(o.Sb(0,"form",0),o.Sb(1,"div",1),o.Sb(2,"div",2),o.Sb(3,"canvas",3),o.Zb("mousedown",function(t){return e.onMousedown(t)})("mouseup",function(t){return e.onMouseup(t)}),o.Rb(),o.Sb(4,"ngx-mat-color-slider",4),o.Zb("colorChanged",function(t){return e.onSliderColorChanged(t)}),o.Rb(),o.Rb(),o.Sb(5,"div",5),o.Sb(6,"mat-form-field"),o.Sb(7,"mat-label"),o.zc(8,"R"),o.Rb(),o.Nb(9,"input",6),o.Rb(),o.Sb(10,"mat-form-field"),o.Sb(11,"mat-label"),o.zc(12,"G"),o.Rb(),o.Nb(13,"input",7),o.Rb(),o.Sb(14,"mat-form-field"),o.Sb(15,"mat-label"),o.zc(16,"B"),o.Rb(),o.Nb(17,"input",8),o.Rb(),o.Rb(),o.Rb(),o.Sb(18,"div",1),o.Nb(19,"button",9),o.Sb(20,"mat-form-field"),o.Sb(21,"mat-label"),o.zc(22,"HEX6"),o.Rb(),o.Sb(23,"mat-label",10),o.zc(24,"#\xa0"),o.Rb(),o.Nb(25,"input",11),o.Rb(),o.Sb(26,"mat-form-field"),o.Sb(27,"mat-label"),o.zc(28,"A"),o.Rb(),o.Nb(29,"input",12),o.Rb(),o.Rb(),o.Rb()),2&t&&(o.jc("formGroup",e.formGroup),o.Bb(19),o.uc("background-color",(null==e.color?null:e.color.rgba)||"transparent"))},directives:function(){return[a.v,a.o,a.i,rt,A.c,A.f,f.b,a.c,a.n,a.g,_t,s.b,A.g,a.r]},styles:[".ngx-mat-color-canvas .color-canvas-row{display:flex}.ngx-mat-color-canvas .color-canvas-row:first-of-type{height:200px;margin-bottom:12px}.ngx-mat-color-canvas .color-canvas-row:first-of-type .card{height:180px}.ngx-mat-color-canvas .color-canvas-row canvas:hover{cursor:crosshair}.ngx-mat-color-canvas .color-canvas-row .zone{display:flex}.ngx-mat-color-canvas .color-canvas-row .zone-canvas{height:200px}.ngx-mat-color-canvas .color-canvas-row .zone-canvas .zone-block{border:1px solid rgba(0,0,0,.12)}.ngx-mat-color-canvas .color-canvas-row .zone-strip{flex-basis:auto;margin-left:10px}.ngx-mat-color-canvas .color-canvas-row .zone-inputs{display:flex;flex-direction:column;height:200px;margin-left:16px;margin-top:12px;width:40px}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2){display:flex}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2) .preview{height:40px;min-height:40px;min-width:40px;width:40px}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2) .mat-form-field{margin-left:16px}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2) .mat-form-field:first-of-type{width:170px}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2) .mat-form-field:first-of-type .symbol{color:rgba(0,0,0,.54);font-weight:700}.ngx-mat-color-canvas .color-canvas-row:nth-of-type(2) .mat-form-field:last-of-type{width:40px}.ngx-mat-color-canvas .mat-form-field-label{font-weight:700}"],encapsulation:2}),t})(),nt=(()=>{class t{constructor(){this.colorChanged=new o.n,this.colors1=$.slice(0,8),this.colors2=$.slice(8,16)}set color(t){t&&(this.selectedColor=t.toHexString())}ngOnInit(){}select(t){this.selectedColor=t;const{r:e,g:n,b:r,a:i}=X(t);this.colorChanged.emit(new Q(e,n,r,i))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-collection"]],hostAttrs:[1,"ngx-mat-color-collection"],inputs:{color:"color"},outputs:{colorChanged:"colorChanged"},decls:4,vars:2,consts:[[1,"color-collection-row"],["mat-mini-fab","","class","btn-color",3,"background-color","ngClass","click",4,"ngFor","ngForOf"],["mat-mini-fab","",1,"btn-color",3,"ngClass","click"]],template:function(t,e){1&t&&(o.Sb(0,"div",0),o.xc(1,I,1,5,"button",1),o.Rb(),o.Sb(2,"div",0),o.xc(3,T,1,5,"button",1),o.Rb()),2&t&&(o.Bb(1),o.jc("ngForOf",e.colors1),o.Bb(2),o.jc("ngForOf",e.colors2))},directives:[i.k,s.b,i.j],styles:[".ngx-mat-color-collection .btn-color{box-shadow:none;height:20px;margin-right:11px;opacity:.3;width:20px}.ngx-mat-color-collection .btn-color.active{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12);opacity:1}"],encapsulation:2}),t})(),rt=(()=>{class t extends tt{constructor(t){super(t,"color-strip"),this.zone=t}ngOnInit(){}ngAfterViewInit(){super.ngAfterViewInit()}fillGradient(){const t=this.ctx.createLinearGradient(0,0,0,this.height);t.addColorStop(0,"rgba(255, 0, 0, 1)"),t.addColorStop(.17,"rgba(255, 255, 0, 1)"),t.addColorStop(.34,"rgba(0, 255, 0, 1)"),t.addColorStop(.51,"rgba(0, 255, 255, 1)"),t.addColorStop(.68,"rgba(0, 0, 255, 1)"),t.addColorStop(.85,"rgba(255, 0, 255, 1)"),t.addColorStop(1,"rgba(255, 0, 0, 1)"),this.ctx.fillStyle=t,this.ctx.fill()}redrawIndicator(t,e){this.ctx.beginPath(),this.ctx.strokeStyle="white",this.ctx.lineWidth=2,this.ctx.arc(7.5,e,7.5,0,2*Math.PI,!1),this.ctx.stroke(),this.ctx.closePath()}changeColor(t){this.x=t.offsetX,this.y=t.offsetY,this.draw();const{r:e,g:n,b:r}=q(this.ctx,t.offsetX,t.offsetY);this.emitChange(new Q(e,n,r))}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.A))},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-slider"]],features:[o.yb],decls:1,vars:0,consts:[["id","color-strip","width","15","height","200",1,"zone-strip",3,"mousedown","mouseup"]],template:function(t,e){1&t&&(o.Sb(0,"canvas",0),o.Zb("mousedown",function(t){return e.onMousedown(t)})("mouseup",function(t){return e.onMouseup(t)}),o.Rb())},styles:[""]}),t})(),it=(()=>{class t{constructor(){}sameColor(t,e){return null==t&&null==e||null!=t&&null!=e&&t.rgba===e.rgba}format(t,e){return t.toString(e)}parse(t){const e=X(t);return e?new Q(e.r,e.g,e.b,e.a):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac}),t})();const ot={display:{colorInput:"hex"}},at=new o.r("mat-color-formats"),st=new o.r("ngx-mat-colorpicker-scroll-strategy"),ct={provide:st,deps:[j.c],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},lt=Object(l.q)(class{constructor(t){this._elementRef=t}});let ut=(()=>{class t extends lt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l))},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-picker-content"]],viewQuery:function(t,e){if(1&t&&o.Dc(J,1),2&t){let t;o.nc(t=o.ac())&&(e._palette=t.first)}},hostAttrs:[1,"ngx-mat-colorpicker-content"],hostVars:3,hostBindings:function(t,e){2&t&&(o.wc("@transformPanel","enter"),o.Eb("ngx-mat-colorpicker-content-touch",e.picker.touchUi))},inputs:{color:"color"},exportAs:["ngxMatColorPickerContent"],features:[o.yb],decls:1,vars:1,consts:[[3,"color","colorChanged"]],template:function(t,e){1&t&&(o.Sb(0,"ngx-mat-color-palette",0),o.Zb("colorChanged",function(t){return e.picker.select(t)}),o.Rb()),2&t&&o.jc("color",e.picker._selected)},directives:[J],styles:[".ngx-mat-colorpicker-content{background-color:#fff;border-radius:4px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);color:rgba(0,0,0,.87);display:block;padding:16px}.ngx-mat-colorpicker-content .ngx-mat-color-palette{height:354px;width:296px}.ngx-mat-colorpicker-content-touch{display:block;max-height:80vh;overflow:auto}.ngx-mat-colorpicker-content-touch .ngx-mat-color-palette{max-height:788px;max-width:750px;min-height:312px;min-width:250px}@media (orientation:landscape){.mat-colorpicker-content-touch .ngx-mat-color-palette{height:80vh;width:64vh}}@media (orientation:portrait){.mat-colorpicker-content-touch .ngx-mat-color-palette{height:100vw;width:80vw}}"],encapsulation:2,data:{animation:[R.e.transformPanel,R.e.fadeInCalendar]},changeDetection:0}),t})(),ht=(()=>{class t{constructor(t,e,n,r,i,a,s,c){this._dialog=t,this._overlay=e,this._zone=n,this._adapter=r,this._dir=i,this._document=s,this._viewContainerRef=c,this.openedStream=new o.n,this.closedStream=new o.n,this._touchUi=!1,this._opened=!1,this._defaultColor="primary",this._validSelected=null,this._disabledChange=new m.a,this._focusedElementBeforeOpen=null,this._inputSubscription=y.a.EMPTY,this._selectedChanged=new m.a,this._scrollStrategy=a}get disabled(){return void 0===this._disabled&&this._pickerInput?this._pickerInput.disabled:!!this._disabled}set disabled(t){const e=Object(p.b)(t);e!==this._disabled&&(this._disabled=e,this._disabledChange.next(e))}get touchUi(){return this._touchUi}set touchUi(t){this._touchUi=Object(p.b)(t)}get opened(){return this._opened}set opened(t){t?this.open():this.close()}get defaultColor(){return this._defaultColor}set defaultColor(t){this._defaultColor=t}get color(){return this._color||(this._pickerInput?this._pickerInput.getThemePalette():void 0)}set color(t){this._color=t}get _selected(){return this._validSelected}set _selected(t){this._validSelected=t}ngOnInit(){}ngOnDestroy(){this.close(),this._inputSubscription.unsubscribe(),this._disabledChange.complete(),this._popupRef&&(this._popupRef.dispose(),this._popupComponentRef=null)}select(t){let e=this._selected;this._selected=t,this._adapter.sameColor(e,this._selected)||this._selectedChanged.next(t)}registerInput(t){if(this._pickerInput)throw Error("A ColorPicker can only be associated with a single input.");this._pickerInput=t,this._inputSubscription=this._pickerInput._valueChange.subscribe(t=>this._selected=t)}open(){if(!this._opened&&!this.disabled){if(!this._pickerInput)throw Error("Attempted to open an ColorPicker with no associated input.");this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this.touchUi?this._openAsDialog():this._openAsPopup(),this._opened=!0,this.openedStream.emit()}}_openAsDialog(){this._dialogRef&&this._dialogRef.close(),this._dialogRef=this._dialog.open(ut,{direction:this._dir?this._dir.value:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"ngx-mat-colorpicker-dialog"}),this._dialogRef.afterClosed().subscribe(()=>this.close()),this._dialogRef.componentInstance.picker=this,this._setColor()}_openAsPopup(){this._portal||(this._portal=new r.d(ut,this._viewContainerRef)),this._popupRef||this._createPopup(),this._popupRef.hasAttached()||(this._popupComponentRef=this._popupRef.attach(this._portal),this._popupComponentRef.instance.picker=this,this._setColor(),this._zone.onStable.asObservable().pipe(Object(k.a)(1)).subscribe(()=>{this._popupRef.updatePosition()}))}_createPopup(){const t=new j.d({positionStrategy:this._createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:"mat-overlay-transparent-backdrop",direction:this._dir,scrollStrategy:this._scrollStrategy(),panelClass:"mat-colorpicker-popup"});this._popupRef=this._overlay.create(t),this._popupRef.overlayElement.setAttribute("role","dialog"),Object(v.a)(this._popupRef.backdropClick(),this._popupRef.detachments(),this._popupRef.keydownEvents().pipe(Object(S.a)(t=>t.keyCode===M.f||this._pickerInput&&t.altKey&&t.keyCode===M.o))).subscribe(t=>{t&&t.preventDefault(),this.close()})}close(){if(!this._opened)return;this._popupRef&&this._popupRef.hasAttached()&&this._popupRef.detach(),this._dialogRef&&(this._dialogRef.close(),this._dialogRef=null),this._portal&&this._portal.isAttached&&this._portal.detach();const t=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(t)):t()}_setColor(){const t=this.color;this._popupComponentRef&&(this._popupComponentRef.instance.color=t),this._dialogRef&&(this._dialogRef.componentInstance.color=t)}_createPopupPositionStrategy(){return this._overlay.position().flexibleConnectedTo(this._pickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".ngx-mat-colorpicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition().withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}])}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(h.b),o.Mb(j.c),o.Mb(o.A),o.Mb(it),o.Mb(P.b,8),o.Mb(st),o.Mb(i.d,8),o.Mb(o.Q))},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-picker"]],inputs:{disabled:"disabled",touchUi:"touchUi",opened:"opened",defaultColor:"defaultColor",color:"color"},outputs:{openedStream:"opened",closedStream:"closed"},exportAs:["ngxMatColorPicker"],decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0}),t})();class dt{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}const ft={provide:a.l,useExisting:Object(o.U)(()=>bt),multi:!0},pt={provide:a.k,useExisting:Object(o.U)(()=>bt),multi:!0};let bt=(()=>{class t{constructor(t,e,n,r){if(this._elementRef=t,this._formField=e,this._colorFormats=n,this._adapter=r,this.colorChange=new o.n,this.colorInput=new o.n,this._disabledChange=new o.n,this._valueChange=new o.n,this._onTouched=()=>{},this._cvaOnChange=()=>{},this._validatorOnChange=()=>{},this._pickerSubscription=y.a.EMPTY,this._validator=a.u.compose([]),this._lastValueValid=!1,!this._colorFormats)throw Error("NgxMatColorPicker: No provider found for MAT_COLOR_FORMATS. You must define MAT_COLOR_FORMATS in your module")}set ngxMatColorPicker(t){t&&(this._picker=t,this._picker.registerInput(this),this._pickerSubscription.unsubscribe(),this._pickerSubscription=this._picker._selectedChanged.subscribe(t=>{this.value=t,this._cvaOnChange(t),this._onTouched(),this.colorInput.emit(new dt(this,this._elementRef.nativeElement)),this.colorChange.emit(new dt(this,this._elementRef.nativeElement))}))}get disabled(){return!!this._disabled}set disabled(t){const e=Object(p.b)(t),n=this._elementRef.nativeElement;this._disabled!==e&&(this._disabled=e,this._disabledChange.emit(e)),e&&n.blur&&n.blur()}get value(){return this._value}set value(t){const e=this.value;this._value=t,this._formatValue(t),this._adapter.sameColor(e,t)||this._valueChange.emit(t)}getThemePalette(){return this._formField?this._formField.color:void 0}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}getPopupConnectionElementRef(){return this.getConnectedOverlayOrigin()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}ngOnInit(){}ngOnDestroy(){this._pickerSubscription.unsubscribe(),this._valueChange.complete(),this._disabledChange.complete()}writeValue(t){this.value=t}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onChange(){this.colorChange.emit(new dt(this,this._elementRef.nativeElement))}_onKeydown(t){this._picker&&t.altKey&&t.keyCode===M.c&&!this._elementRef.nativeElement.readOnly&&(this._picker.open(),t.preventDefault())}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=t?this._adapter.format(t,this._colorFormats.display.colorInput):""}_onInput(t){const e=this._lastValueValid,n=this._adapter.parse(t);this._adapter.sameColor(n,this._value)?e!==this._lastValueValid&&this._validatorOnChange():(this._value=n,this._cvaOnChange(n),this._valueChange.emit(n),this.colorInput.emit(new dt(this,this._elementRef.nativeElement)))}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(A.c,8),o.Mb(at,8),o.Mb(it))},t.\u0275dir=o.Hb({type:t,selectors:[["input","ngxMatColorPicker",""]],hostVars:3,hostBindings:function(t,e){1&t&&o.Zb("input",function(t){return e._onInput(t.target.value)})("change",function(){return e._onChange()})("blur",function(){return e._onBlur()})("keydown",function(t){return e._onKeydown(t)}),2&t&&(o.Vb("disabled",e.disabled),o.Cb("aria-haspopup",e._picker?"dialog":null)("aria-owns",(null==e._picker?null:e._picker.opened)&&e._picker.id||null))},inputs:{ngxMatColorPicker:"ngxMatColorPicker",value:"value",disabled:"disabled"},outputs:{colorChange:"colorChange",colorInput:"colorInput"},exportAs:["ngxMatColorPickerInput"],features:[o.Ab([ft,pt,{provide:f.a,useExisting:t}])]}),t})(),gt=(()=>{class t{constructor(t){this._cd=t,this._stateChanges=y.a.EMPTY}get disabled(){if(null==this._disabled&&this.picker)return this.picker.disabled}set disabled(t){this._disabled=t}ngOnInit(){}ngOnChanges(t){t.picker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}open(t){this.picker&&!this.disabled&&(this.picker.open(),t.stopPropagation())}_watchStateChanges(){const t=this.picker?this.picker._disabledChange:Object(x.a)(),e=this.picker&&this.picker._pickerInput?this.picker._pickerInput._disabledChange:Object(x.a)(),n=this.picker?Object(v.a)(this.picker.openedStream,this.picker.closedStream):Object(x.a)();this._stateChanges.unsubscribe(),this._stateChanges=Object(v.a)(t,e,n).subscribe(()=>this._cd.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.h))},t.\u0275cmp=o.Gb({type:t,selectors:[["ngx-mat-color-toggle"]],viewQuery:function(t,e){if(1&t&&o.Dc(L,1),2&t){let t;o.nc(t=o.ac())&&(e._button=t.first)}},hostAttrs:[1,"ngx-mat-color-toggle"],hostVars:7,hostBindings:function(t,e){1&t&&o.Zb("focus",function(){return e._button.focus()}),2&t&&(o.Cb("tabindex",-1),o.Eb("ngx-mat-color-toggle-active",e.picker&&e.picker.opened)("mat-accent",e.picker&&"accent"===e.picker.color)("mat-warn",e.picker&&"warn"===e.picker.color))},inputs:{disabled:"disabled",picker:["for","picker"],tabIndex:"tabIndex"},exportAs:["ngxMatColorPickerToggle"],features:[o.zb],decls:4,vars:5,consts:[["mat-icon-button","","type","button",3,"disabled","click"],["button",""]],template:function(t,e){1&t&&(o.Sb(0,"button",0,1),o.Zb("click",function(t){return e.open(t)}),o.Sb(2,"mat-icon"),o.zc(3,"palette"),o.Rb(),o.Rb()),2&t&&(o.jc("disabled",e.disabled),o.Cb("aria-haspopup",e.picker?"dialog":null)("tabindex",e.disabled?-1:e.tabIndex),o.Bb(2),o.uc("color",null==e.picker||null==e.picker._selected?null:e.picker._selected.rgba))},directives:[s.b,d.a],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .ngx-mat-color-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .ngx-mat-color-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .ngx-mat-color-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .ngx-mat-color-toggle-default-icon{display:block;height:1.5em;width:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .ngx-mat-color-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .ngx-mat-color-toggle-default-icon{margin:auto}"],encapsulation:2}),t})(),_t=(()=>{class t{constructor(){}onInput(t){this._formatInput(t.target)}_formatInput(t){let e=Number(t.value.replace(F,""));e=isNaN(e)?0:e,t.value=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.Hb({type:t,selectors:[["","ngxMatNumericColorInput",""]],hostBindings:function(t,e){1&t&&o.Zb("input",function(t){return e.onInput(t)})}}),t})(),mt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({providers:[it,ct],imports:[[i.c,f.c,s.c,u,_,a.j,a.s,h.f,r.f,d.b]]}),t})();var vt=n("jaxi"),yt=n("7EHt"),xt=n("vxfF"),Ct=n("NXyV"),wt=n("JX91"),Ot=n("eIep"),kt=n("lJxs"),St=n("R0Ic");const Mt=["trigger"],jt=["panel"];function Rt(t,e){if(1&t&&(o.Sb(0,"span",8),o.zc(1),o.Rb()),2&t){const t=o.dc();o.Bb(1),o.Ac(t.placeholder)}}function At(t,e){if(1&t&&(o.Sb(0,"span",12),o.zc(1),o.Rb()),2&t){const t=o.dc(2);o.Bb(1),o.Ac(t.triggerValue)}}function Pt(t,e){1&t&&o.hc(0,0,["*ngSwitchCase","true"])}function Et(t,e){if(1&t&&(o.Sb(0,"span",9),o.xc(1,At,2,1,"span",10),o.xc(2,Pt,1,0,"ng-content",11),o.Rb()),2&t){const t=o.dc();o.jc("ngSwitch",!!t.customTrigger),o.Bb(2),o.jc("ngSwitchCase",!0)}}function It(t,e){if(1&t){const t=o.Tb();o.Sb(0,"div",13),o.Sb(1,"div",14,15),o.Zb("@transformPanel.done",function(e){return o.qc(t),o.dc()._panelDoneAnimatingStream.next(e.toState)})("keydown",function(e){return o.qc(t),o.dc()._handleKeydown(e)}),o.hc(3,1),o.Rb(),o.Rb()}if(2&t){const t=o.dc();o.jc("@transformPanelWrap",void 0),o.Bb(1),o.Db("mat-select-panel ",t._getPanelTheme(),""),o.uc("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),o.jc("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),o.Cb("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const Tt=[[["mat-select-trigger"]],"*"],Lt=["mat-select-trigger","*"],zt={transformPanelWrap:Object(St.l)("transformPanelWrap",[Object(St.k)("* => void",Object(St.g)("@transformPanel",[Object(St.f)()],{optional:!0}))]),transformPanel:Object(St.l)("transformPanel",[Object(St.i)("void",Object(St.j)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Object(St.i)("showing",Object(St.j)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Object(St.i)("showing-multiple",Object(St.j)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Object(St.k)("void => *",Object(St.e)("120ms cubic-bezier(0, 0, 0.2, 1)")),Object(St.k)("* => void",Object(St.e)("100ms 25ms linear",Object(St.j)({opacity:0})))])};let Dt=0;const Bt=256,Ft=new o.r("mat-select-scroll-strategy"),Nt=new o.r("MAT_SELECT_CONFIG"),$t={provide:Ft,deps:[j.c],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class qt{constructor(t,e){this.source=t,this.value=e}}class Ht{constructor(t,e,n,r,i){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i}}const Wt=Object(l.r)(Object(l.u)(Object(l.s)(Object(l.t)(Ht)))),Vt=new o.r("MatSelectTrigger");let Ut=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.Hb({type:t,selectors:[["mat-select-trigger"]],features:[o.Ab([{provide:Vt,useExisting:t}])]}),t})(),Zt=(()=>{class t extends Wt{constructor(t,e,n,r,i,a,s,c,l,u,h,d,f,p){var b,g,_;super(i,r,s,c,u),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=a,this._parentFormField=l,this.ngControl=u,this._liveAnnouncer=f,this._defaultOptions=p,this._panelOpen=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+Dt++,this._triggerAriaLabelledBy=null,this._destroy=new m.a,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Dt++,this._panelDoneAnimatingStream=new m.a,this._overlayPanelClass=(null===(b=this._defaultOptions)||void 0===b?void 0:b.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(_=null===(g=this._defaultOptions)||void 0===g?void 0:g.disableOptionCentering)&&void 0!==_&&_,this.ariaLabel="",this.optionSelectionChanges=Object(Ct.a)(()=>{const t=this.options;return t?t.changes.pipe(Object(wt.a)(t),Object(Ot.a)(()=>Object(v.a)(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.pipe(Object(k.a)(1),Object(Ot.a)(()=>this.optionSelectionChanges))}),this.openedChange=new o.n,this._openedStream=this.openedChange.pipe(Object(S.a)(t=>t),Object(kt.a)(()=>{})),this._closedStream=this.openedChange.pipe(Object(S.a)(t=>!t),Object(kt.a)(()=>{})),this.selectionChange=new o.n,this.valueChange=new o.n,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==p?void 0:p.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=p.typeaheadDebounceInterval),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=Object(p.b)(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Object(p.b)(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Object(p.b)(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Object(p.e)(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new g.b(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Object(O.a)(),Object(C.a)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Object(C.a)(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Object(wt.a)(null),Object(C.a)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?e.setAttribute("aria-labelledby",t):e.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=e===M.c||e===M.o||e===M.h||e===M.l,r=e===M.e||e===M.m,i=this._keyManager;if(!i.isTyping()&&r&&!Object(M.r)(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const e=this.selected;i.onKeydown(t);const n=this.selected;n&&e!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,r=n===M.c||n===M.o,i=e.isTyping();if(r&&t.altKey)t.preventDefault(),this.close();else if(i||n!==M.e&&n!==M.m||!e.activeItem||Object(M.r)(t))if(!i&&this._multiple&&n===M.a&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&r&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Object(k.a)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(t=>this._selectValue(t)),this._sortValues();else{const e=this._selectValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{if(this._selectionModel.isSelected(e))return!1;try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new b.b(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Object(C.a)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Object(C.a)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Object(v.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Object(C.a)(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object(v.a)(...this.options.map(t=>t._stateChanges)).pipe(Object(C.a)(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(this._getChangeEvent(e)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let n=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(xt.d),o.Mb(o.h),o.Mb(o.A),o.Mb(l.b),o.Mb(o.l),o.Mb(P.b,8),o.Mb(a.p,8),o.Mb(a.i,8),o.Mb(A.a,8),o.Mb(a.m,10),o.Xb("tabindex"),o.Mb(Ft),o.Mb(b.j),o.Mb(Nt,8))},t.\u0275dir=o.Hb({type:t,viewQuery:function(t,e){if(1&t&&(o.Dc(Mt,1),o.Dc(jt,1),o.Dc(j.a,1)),2&t){let t;o.nc(t=o.ac())&&(e.trigger=t.first),o.nc(t=o.ac())&&(e.panel=t.first),o.nc(t=o.ac())&&(e.overlayDir=t.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.yb,o.zb]}),t})(),Gt=(()=>{class t extends Zt{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,e,n){const r=this._getItemHeight();return Math.min(Math.max(0,r*t-e+r/2),n)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Object(C.a)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Object(k.a)(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const e=Object(l.o)(t,this.options,this.optionGroups),n=this._getItemHeight();this.panel.nativeElement.scrollTop=Object(l.p)((t+e)*n,n,this.panel.nativeElement.scrollTop,Bt)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new qt(this,t)}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),r=this.multiple?56:32;let i;if(this.multiple)i=40;else if(this.disableOptionCentering)i=16;else{let t=this._selectionModel.selected[0]||this.options.first;i=t&&t.group?32:16}n||(i*=-1);const o=0-(t.left+i-(n?r:0)),a=t.right+i-e.width+(n?0:r);o>0?i+=o+8:a>0&&(i-=a+8),this.overlayDir.offsetX=Math.round(i),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const r=this._getItemHeight(),i=(r-this._triggerRect.height)/2,o=Math.floor(Bt/r);let a;return this.disableOptionCentering?0:(a=0===this._scrollTop?t*r:this._scrollTop===n?(t-(this._getItemCount()-o))*r+(r-(this._getItemCount()*r-Bt)%r):e-r/2,Math.round(-1*a-i))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,i=n.height-this._triggerRect.bottom-8,o=Math.abs(this._offsetY),a=Math.min(this._getItemCount()*e,Bt)-o-this._triggerRect.height;a>i?this._adjustPanelUp(a,i):o>r?this._adjustPanelDown(o,r,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const r=Math.round(t-e);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,Bt),r=e*t-n;let i;i=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),i+=Object(l.o)(i,this.options,this.optionGroups);const o=n/2;this._scrollTop=this._calculateOverlayScroll(i,o,r),this._offsetY=this._calculateOverlayOffsetY(i,o,r),this._checkOverlayWithinViewport(r)}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(e){return Kt(e||t)},t.\u0275cmp=o.Gb({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){if(1&t&&(o.Fb(n,Vt,1),o.Fb(n,l.i,1),o.Fb(n,l.d,1)),2&t){let t;o.nc(t=o.ac())&&(e.customTrigger=t.first),o.nc(t=o.ac())&&(e.options=t),o.nc(t=o.ac())&&(e.optionGroups=t)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,e){1&t&&o.Zb("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e._onFocus()})("blur",function(){return e._onBlur()}),2&t&&(o.Cb("id",e.id)("tabindex",e.tabIndex)("aria-controls",e.panelOpen?e.id+"-panel":null)("aria-expanded",e.panelOpen)("aria-label",e.ariaLabel||null)("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),o.Eb("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty)("mat-select-multiple",e.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[o.Ab([{provide:A.d,useExisting:t},{provide:l.e,useExisting:t}]),o.yb],ngContentSelectors:Lt,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(o.ic(Tt),o.Sb(0,"div",0,1),o.Zb("click",function(){return e.toggle()}),o.Sb(3,"div",2),o.xc(4,Rt,2,1,"span",3),o.xc(5,Et,3,2,"span",4),o.Rb(),o.Sb(6,"div",5),o.Nb(7,"div",6),o.Rb(),o.Rb(),o.xc(8,It,4,14,"ng-template",7),o.Zb("backdropClick",function(){return e.close()})("attach",function(){return e._onAttached()})("detach",function(){return e.close()})),2&t){const t=o.oc(1);o.Cb("aria-owns",e.panelOpen?e.id+"-panel":null),o.Bb(3),o.jc("ngSwitch",e.empty),o.Cb("id",e._valueId),o.Bb(1),o.jc("ngSwitchCase",!0),o.Bb(1),o.jc("ngSwitchCase",!1),o.Bb(3),o.jc("cdkConnectedOverlayPanelClass",e._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[j.b,i.m,i.n,j.a,i.o,i.j],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px}\n'],encapsulation:2,data:{animation:[zt.transformPanelWrap,zt.transformPanel]},changeDetection:0}),t})();const Kt=o.Ub(Gt);let Yt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({providers:[$t],imports:[[i.c,j.f,l.j,l.g],xt.a,A.e,l.j,l.g]}),t})();var Xt=n("1jcm"),Qt=n("GU7r"),Jt=n("xgIS"),te=n("PqYM"),ee=n("nLfN");function ne(t,e){1&t&&o.hc(0)}const re=["*"];function ie(t,e){}const oe=function(t){return{animationDuration:t}},ae=function(t,e){return{value:t,params:e}},se=["tabBodyWrapper"],ce=["tabHeader"];function le(t,e){}function ue(t,e){if(1&t&&o.xc(0,le,0,0,"ng-template",9),2&t){const t=o.dc().$implicit;o.jc("cdkPortalOutlet",t.templateLabel)}}function he(t,e){if(1&t&&o.zc(0),2&t){const t=o.dc().$implicit;o.Ac(t.textLabel)}}function de(t,e){if(1&t){const t=o.Tb();o.Sb(0,"div",6),o.Zb("click",function(){o.qc(t);const n=e.$implicit,r=e.index,i=o.dc(),a=o.oc(1);return i._handleClick(n,a,r)})("cdkFocusChange",function(n){o.qc(t);const r=e.index;return o.dc()._tabFocusChanged(n,r)}),o.Sb(1,"div",7),o.xc(2,ue,1,1,"ng-template",8),o.xc(3,he,1,1,"ng-template",8),o.Rb(),o.Rb()}if(2&t){const t=e.$implicit,n=e.index,r=o.dc();o.Eb("mat-tab-label-active",r.selectedIndex==n),o.jc("id",r._getTabLabelId(n))("disabled",t.disabled)("matRippleDisabled",t.disabled||r.disableRipple),o.Cb("tabIndex",r._getTabIndex(t,n))("aria-posinset",n+1)("aria-setsize",r._tabs.length)("aria-controls",r._getTabContentId(n))("aria-selected",r.selectedIndex==n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),o.Bb(2),o.jc("ngIf",t.templateLabel),o.Bb(1),o.jc("ngIf",!t.templateLabel)}}function fe(t,e){if(1&t){const t=o.Tb();o.Sb(0,"mat-tab-body",10),o.Zb("_onCentered",function(){return o.qc(t),o.dc()._removeTabBodyWrapperHeight()})("_onCentering",function(e){return o.qc(t),o.dc()._setTabBodyWrapperHeight(e)}),o.Rb()}if(2&t){const t=e.$implicit,n=e.index,r=o.dc();o.Eb("mat-tab-body-active",r.selectedIndex==n),o.jc("id",r._getTabContentId(n))("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",r.animationDuration),o.Cb("aria-labelledby",r._getTabLabelId(n))}}const pe=["tabListContainer"],be=["tabList"],ge=["nextPaginator"],_e=["previousPaginator"],me=new o.r("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let ve=(()=>{class t{constructor(t,e,n,r){this._elementRef=t,this._ngZone=e,this._inkBarPositioner=n,this._animationMode=r}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const e=this._inkBarPositioner(t),n=this._elementRef.nativeElement;n.style.left=e.left,n.style.width=e.width}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(o.A),o.Mb(me),o.Mb(c.a,8))},t.\u0275dir=o.Hb({type:t,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,e){2&t&&o.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode)}}),t})();const ye=new o.r("MatTabContent"),xe=new o.r("MatTabLabel");class Ce{}const we=Object(l.s)(Ce),Oe=new o.r("MAT_TAB_GROUP");let ke=(()=>{class t extends we{constructor(t,e){super(),this._viewContainerRef=t,this._closestTabGroup=e,this.textLabel="",this._contentPortal=null,this._stateChanges=new m.a,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new r.g(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&(this._templateLabel=t)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.Q),o.Mb(Oe))},t.\u0275cmp=o.Gb({type:t,selectors:[["mat-tab"]],contentQueries:function(t,e,n){if(1&t&&(o.Fb(n,xe,1),o.Fb(n,ye,3,o.M)),2&t){let t;o.nc(t=o.ac())&&(e.templateLabel=t.first),o.nc(t=o.ac())&&(e._explicitContent=t.first)}},viewQuery:function(t,e){if(1&t&&o.Dc(o.M,3),2&t){let t;o.nc(t=o.ac())&&(e._implicitContent=t.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[o.yb,o.zb],ngContentSelectors:re,decls:1,vars:0,template:function(t,e){1&t&&(o.ic(),o.xc(0,ne,1,0,"ng-template"))},encapsulation:2}),t})();const Se={translateTab:Object(St.l)("translateTab",[Object(St.i)("center, void, left-origin-center, right-origin-center",Object(St.j)({transform:"none"})),Object(St.i)("left",Object(St.j)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Object(St.i)("right",Object(St.j)({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Object(St.k)("* => left, * => right, left => center, right => center",Object(St.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Object(St.k)("void => left-origin-center",[Object(St.j)({transform:"translate3d(-100%, 0, 0)"}),Object(St.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Object(St.k)("void => right-origin-center",[Object(St.j)({transform:"translate3d(100%, 0, 0)"}),Object(St.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let Me=(()=>{class t extends r.c{constructor(t,e,n,r){super(t,e,r),this._host=n,this._centeringSub=y.a.EMPTY,this._leavingSub=y.a.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Object(wt.a)(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.j),o.Mb(o.Q),o.Mb(Object(o.U)(()=>Re)),o.Mb(i.d))},t.\u0275dir=o.Hb({type:t,selectors:[["","matTabBodyHost",""]],features:[o.yb]}),t})(),je=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._dir=e,this._dirChangeSubscription=y.a.EMPTY,this._translateTabComplete=new m.a,this._onCentering=new o.n,this._beforeCentering=new o.n,this._afterLeavingCenter=new o.n,this._onCentered=new o.n(!0),this.animationDuration="500ms",e&&(this._dirChangeSubscription=e.change.subscribe(t=>{this._computePositionAnimationState(t),n.markForCheck()})),this._translateTabComplete.pipe(Object(O.a)((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{this._isCenterPosition(t.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(t.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const e=this._getLayoutDirection();return"ltr"==e&&t<=0||"rtl"==e&&t>0?"left-origin-center":"right-origin-center"}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(P.b,8),o.Mb(o.h))},t.\u0275dir=o.Hb({type:t,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t})(),Re=(()=>{class t extends je{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(P.b,8),o.Mb(o.h))},t.\u0275cmp=o.Gb({type:t,selectors:[["mat-tab-body"]],viewQuery:function(t,e){if(1&t&&o.Dc(r.c,1),2&t){let t;o.nc(t=o.ac())&&(e._portalHost=t.first)}},hostAttrs:[1,"mat-tab-body"],features:[o.yb],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,e){1&t&&(o.Sb(0,"div",0,1),o.Zb("@translateTab.start",function(t){return e._onTranslateTabStarted(t)})("@translateTab.done",function(t){return e._translateTabComplete.next(t)}),o.xc(2,ie,0,0,"ng-template",2),o.Rb()),2&t&&o.jc("@translateTab",o.mc(3,ae,e._position,o.lc(1,oe,e.animationDuration)))},directives:[Me],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[Se.translateTab]}}),t})();const Ae=new o.r("MAT_TABS_CONFIG");let Pe=0;class Ee{}class Ie{constructor(t){this._elementRef=t}}const Te=Object(l.q)(Object(l.r)(Ie),"primary");let Le=(()=>{class t extends Te{constructor(t,e,n,r){super(t),this._changeDetectorRef=e,this._animationMode=r,this._tabs=new o.E,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=y.a.EMPTY,this._tabLabelSubscription=y.a.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new o.n,this.focusChange=new o.n,this.animationDone=new o.n,this.selectedTabChange=new o.n(!0),this._groupId=Pe++,this.animationDuration=n&&n.animationDuration?n.animationDuration:"500ms",this.disablePagination=!(!n||null==n.disablePagination)&&n.disablePagination,this.dynamicHeight=!(!n||null==n.dynamicHeight)&&n.dynamicHeight}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=Object(p.b)(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=Object(p.e)(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement;e.classList.remove(`mat-background-${this.backgroundColor}`),t&&e.classList.add(`mat-background-${t}`),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const e=null==this._selectedIndex;if(!e){this.selectedTabChange.emit(this._createChangeEvent(t));const e=this._tabBodyWrapper.nativeElement;e.style.minHeight=e.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((e,n)=>e.isActive=n===t),e||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((e,n)=>{e.position=n-t,null==this._selectedIndex||0!=e.position||e.origin||(e.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const t=this._tabs.toArray();for(let e=0;e<t.length;e++)if(t[e].isActive){this._indexToSelect=this._selectedIndex=e;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Object(wt.a)(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(t=>t._closestTabGroup===this)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}_focusChanged(t){this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const e=new Ee;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Object(v.a)(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,e,n){t.disabled||(this.selectedIndex=e.focusIndex=n)}_getTabIndex(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}_tabFocusChanged(t,e){t&&(this._tabHeader.focusIndex=e)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(o.h),o.Mb(Ae,8),o.Mb(c.a,8))},t.\u0275dir=o.Hb({type:t,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[o.yb]}),t})(),ze=(()=>{class t extends Le{constructor(t,e,n,r){super(t,e,n,r)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(o.h),o.Mb(Ae,8),o.Mb(c.a,8))},t.\u0275cmp=o.Gb({type:t,selectors:[["mat-tab-group"]],contentQueries:function(t,e,n){if(1&t&&o.Fb(n,ke,1),2&t){let t;o.nc(t=o.ac())&&(e._allTabs=t)}},viewQuery:function(t,e){if(1&t&&(o.Dc(se,1),o.Dc(ce,1)),2&t){let t;o.nc(t=o.ac())&&(e._tabBodyWrapper=t.first),o.nc(t=o.ac())&&(e._tabHeader=t.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,e){2&t&&o.Eb("mat-tab-group-dynamic-height",e.dynamicHeight)("mat-tab-group-inverted-header","below"===e.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[o.Ab([{provide:Oe,useExisting:t}]),o.yb],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,e){1&t&&(o.Sb(0,"mat-tab-header",0,1),o.Zb("indexFocused",function(t){return e._focusChanged(t)})("selectFocusedIndex",function(t){return e.selectedIndex=t}),o.xc(2,de,4,14,"div",2),o.Rb(),o.Sb(3,"div",3,4),o.xc(5,fe,1,8,"mat-tab-body",5),o.Rb()),2&t&&(o.jc("selectedIndex",e.selectedIndex||0)("disableRipple",e.disableRipple)("disablePagination",e.disablePagination),o.Bb(2),o.jc("ngForOf",e._tabs),o.Bb(1),o.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode),o.Bb(2),o.jc("ngForOf",e._tabs))},directives:function(){return[He,i.k,Fe,l.l,b.d,i.l,r.c,Re]},styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),t})();class De{}const Be=Object(l.s)(De);let Fe=(()=>{class t extends Be{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l))},t.\u0275dir=o.Hb({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,e){2&t&&(o.Cb("aria-disabled",!!e.disabled),o.Eb("mat-tab-disabled",e.disabled))},inputs:{disabled:"disabled"},features:[o.yb]}),t})();const Ne=Object(ee.f)({passive:!0});let $e=(()=>{class t{constructor(t,e,n,r,i,a,s){this._elementRef=t,this._changeDetectorRef=e,this._viewportRuler=n,this._dir=r,this._ngZone=i,this._platform=a,this._animationMode=s,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new m.a,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new m.a,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new o.n,this.indexFocused=new o.n,i.runOutsideAngular(()=>{Object(Jt.a)(t.nativeElement,"mouseleave").pipe(Object(C.a)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=Object(p.e)(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){Object(Jt.a)(this._previousPaginator.nativeElement,"touchstart",Ne).pipe(Object(C.a)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Object(Jt.a)(this._nextPaginator.nativeElement,"touchstart",Ne).pipe(Object(C.a)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:Object(x.a)(null),e=this._viewportRuler.change(150),n=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new b.f(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(n):n(),Object(v.a)(t,e,this._items.changes).pipe(Object(C.a)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(n)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Object(C.a)(this._destroyed)).subscribe(t=>{this.indexFocused.emit(t),this._setTabFocus(t)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!Object(M.r)(t))switch(t.keyCode){case M.e:case M.m:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const e=this._items?this._items.toArray()[t]:null;return!!e&&!e.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const e=this._tabListContainer.nativeElement,n=this._getLayoutDirection();e.scrollLeft="ltr"==n?0:e.scrollWidth-e.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,e="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(e)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const e=this._items?this._items.toArray()[t]:null;if(!e)return;const n=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:r,offsetWidth:i}=e.elementRef.nativeElement;let o,a;"ltr"==this._getLayoutDirection()?(o=r,a=o+i):(a=this._tabList.nativeElement.offsetWidth-r,o=a-i);const s=this.scrollDistance,c=this.scrollDistance+n;o<s?this.scrollDistance-=s-o+60:a>c&&(this.scrollDistance+=a-c+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,e){e&&null!=e.button&&0!==e.button||(this._stopInterval(),Object(te.a)(650,100).pipe(Object(C.a)(Object(v.a)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:e,distance:n}=this._scrollHeader(t);(0===n||n>=e)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(o.h),o.Mb(xt.d),o.Mb(P.b,8),o.Mb(o.A),o.Mb(ee.a),o.Mb(c.a,8))},t.\u0275dir=o.Hb({type:t,inputs:{disablePagination:"disablePagination"}}),t})(),qe=(()=>{class t extends $e{constructor(t,e,n,r,i,o,a){super(t,e,n,r,i,o,a),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Object(p.b)(t)}_itemSelected(t){t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(o.h),o.Mb(xt.d),o.Mb(P.b,8),o.Mb(o.A),o.Mb(ee.a),o.Mb(c.a,8))},t.\u0275dir=o.Hb({type:t,inputs:{disableRipple:"disableRipple"},features:[o.yb]}),t})(),He=(()=>{class t extends qe{constructor(t,e,n,r,i,o,a){super(t,e,n,r,i,o,a)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.l),o.Mb(o.h),o.Mb(xt.d),o.Mb(P.b,8),o.Mb(o.A),o.Mb(ee.a),o.Mb(c.a,8))},t.\u0275cmp=o.Gb({type:t,selectors:[["mat-tab-header"]],contentQueries:function(t,e,n){if(1&t&&o.Fb(n,Fe,0),2&t){let t;o.nc(t=o.ac())&&(e._items=t)}},viewQuery:function(t,e){if(1&t&&(o.Dc(ve,3),o.Dc(pe,3),o.Dc(be,3),o.Dc(ge,1),o.Dc(_e,1)),2&t){let t;o.nc(t=o.ac())&&(e._inkBar=t.first),o.nc(t=o.ac())&&(e._tabListContainer=t.first),o.nc(t=o.ac())&&(e._tabList=t.first),o.nc(t=o.ac())&&(e._nextPaginator=t.first),o.nc(t=o.ac())&&(e._previousPaginator=t.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,e){2&t&&o.Eb("mat-tab-header-pagination-controls-enabled",e._showPaginationControls)("mat-tab-header-rtl","rtl"==e._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[o.yb],ngContentSelectors:re,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,e){1&t&&(o.ic(),o.Sb(0,"div",0,1),o.Zb("click",function(){return e._handlePaginatorClick("before")})("mousedown",function(t){return e._handlePaginatorPress("before",t)})("touchend",function(){return e._stopInterval()}),o.Nb(2,"div",2),o.Rb(),o.Sb(3,"div",3,4),o.Zb("keydown",function(t){return e._handleKeydown(t)}),o.Sb(5,"div",5,6),o.Zb("cdkObserveContent",function(){return e._onContentChanges()}),o.Sb(7,"div",7),o.hc(8),o.Rb(),o.Nb(9,"mat-ink-bar"),o.Rb(),o.Rb(),o.Sb(10,"div",8,9),o.Zb("mousedown",function(t){return e._handlePaginatorPress("after",t)})("click",function(){return e._handlePaginatorClick("after")})("touchend",function(){return e._stopInterval()}),o.Nb(12,"div",2),o.Rb()),2&t&&(o.Eb("mat-tab-header-pagination-disabled",e._disableScrollBefore),o.jc("matRippleDisabled",e._disableScrollBefore||e.disableRipple),o.Bb(5),o.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode),o.Bb(5),o.Eb("mat-tab-header-pagination-disabled",e._disableScrollAfter),o.jc("matRippleDisabled",e._disableScrollAfter||e.disableRipple))},directives:[l.l,Qt.a,ve],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),t})(),We=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({imports:[[i.c,l.g,r.f,l.m,Qt.c,b.a],l.g]}),t})();var Ve=n("CzEO"),Ue=n("kzlf"),Ze=n.n(Ue),Ge=n("X607"),Ke=n.n(Ge),Ye=n("PCNd");const Xe=Ze.a.import("blots/inline");let Qe=(()=>{class t extends Xe{static create(t){const e=super.create();return t.uuid&&e.setAttribute("data-comment-uuid",t.uuid),t.message&&e.setAttribute("data-comment-message",t.message),e}static formats(t){const e={},n=t.getAttribute("data-comment-uuid");n&&(e.uuid=n);const r=t.getAttribute("data-comment-message");return r&&(e.message=r),e}format(t,e){"comment"===t?e?(e.uuid?this.domNode.setAttribute("data-comment-uuid",e.uuid):this.domNode.removeAttribute("data-comment-uuid"),e.message?this.domNode.setAttribute("data-comment-message",e.message):this.domNode.removeAttribute("data-comment-message")):(this.domNode.removeAttribute("data-comment-uuid"),this.domNode.removeAttribute("data-comment-message")):super.format(t,e)}}return t.blotName="comment",t.tagName="span",t})(),Je=(()=>{class t extends Xe{static create(t){const e=super.create();return t.uuid&&e.setAttribute("data-lint-uuid",t.uuid),t.message&&e.setAttribute("data-lint-message",t.message),e}static formats(t){const e={},n=t.getAttribute("data-lint-uuid");n&&(e.uuid=n);const r=t.getAttribute("data-lint-message");return r&&(e.message=r),e}format(t,e){"lint"===t?e?(e.uuid?this.domNode.setAttribute("data-lint-uuid",e.uuid):this.domNode.removeAttribute("data-lint-uuid"),e.message?this.domNode.setAttribute("data-lint-message",e.message):this.domNode.removeAttribute("data-lint-message")):(this.domNode.removeAttribute("data-lint-uuid"),this.domNode.removeAttribute("data-lint-message")):super.format(t,e)}}return t.blotName="lint",t.tagName="span",t})();var tn=n("tyNb");let en=(()=>{class t{canDeactivate(t,e,n,r){return t.canDeactivate?t.canDeactivate():window.confirm("Are you sure you want to leave this page")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var nn=n("tk/3");let rn=(()=>{class t{constructor(t){this.http=t}getScripts(t){return this.http.get(`api/v1/scripts?page=${t}`)}deleteScripts(t){const e=t.map(t=>`id[]=${t}`).join("&");return this.http.delete(`api/v1/scripts?${e}`)}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(nn.b))},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function on(t,e){if(1&t){const t=o.Tb();o.Sb(0,"li",5),o.Sb(1,"input",6),o.Zb("change",function(n){o.qc(t);const r=e.$implicit;return o.dc().checkScript(n,r.id)}),o.Rb(),o.Sb(2,"div",7),o.Sb(3,"a",8),o.zc(4),o.Rb(),o.Sb(5,"div",9),o.zc(6),o.Rb(),o.Sb(7,"div",10),o.Sb(8,"div",11),o.zc(9),o.ec(10,"date"),o.Rb(),o.Sb(11,"div",11),o.zc(12),o.ec(13,"date"),o.Rb(),o.Rb(),o.Rb(),o.Rb()}if(2&t){const t=e.$implicit,n=o.dc();o.Bb(1),o.jc("value",n.deleteScriptIds.includes(t.id)),o.Bb(2),o.jc("routerLink",t.id.toString()),o.Bb(1),o.Bc(" ",t.title," "),o.Bb(2),o.Bc(" author: ",null==t.author?null:t.author.name," "),o.Bb(3),o.Bc(" created: ",o.gc(10,6,t.created,"short")," "),o.Bb(3),o.Bc(" updated: ",o.gc(13,9,t.updated,"short")," ")}}let an=(()=>{class t{constructor(t,e){this.scriptListService=t,this.cd=e,this.deleteScriptIds=[],this.unsubscriber$=new m.a,this.scriptListService.getScripts(1).pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.scripts=t,this.cd.markForCheck()})}ngOnInit(){}ngOnDestroy(){this.unsubscriber$.next()}checkScript(t,e){t.target.checked?this.deleteScriptIds.push(e):this.deleteScriptIds=this.deleteScriptIds.filter(t=>t!==e)}deleteScripts(){0!==this.deleteScriptIds.length&&this.scriptListService.deleteScripts(this.deleteScriptIds).pipe(Object(C.a)(this.unsubscriber$)).subscribe(()=>{this.scripts=this.scripts.filter(t=>!this.deleteScriptIds.includes(t.id)),this.deleteScriptIds=[],this.cd.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(rn),o.Mb(o.h))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-script-list"]],decls:7,vars:2,consts:[[1,"wrapper"],["mat-stroked-button","","color","primary",3,"routerLink"],["mat-stroked-button","","color","primary",3,"click"],[1,"list"],["class","list-detail",4,"ngFor","ngForOf"],[1,"list-detail"],["type","checkbox",1,"list-detail__checkbox",3,"value","change"],[1,"list-detail__body"],[1,"list-detail__body-title",3,"routerLink"],[1,"list-detail__body-author"],[1,"list-detail__body-sub"],[1,"list-detail__body-sub-date"]],template:function(t,e){1&t&&(o.Sb(0,"div",0),o.Sb(1,"a",1),o.zc(2,"new script"),o.Rb(),o.Sb(3,"button",2),o.Zb("click",function(){return e.deleteScripts()}),o.zc(4," Bulk Delete "),o.Rb(),o.Sb(5,"ul",3),o.xc(6,on,14,12,"li",4),o.Rb(),o.Rb()),2&t&&(o.Bb(1),o.jc("routerLink","new"),o.Bb(5),o.jc("ngForOf",e.scripts))},directives:[s.a,tn.c,s.b,i.k],pipes:[i.e],styles:[".cdk-global-overlay-wrapper[_ngcontent-%COMP%], .cdk-overlay-container[_ngcontent-%COMP%]{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container[_ngcontent-%COMP%]{position:fixed;z-index:1000}.cdk-overlay-container[_ngcontent-%COMP%]:empty{display:none}.cdk-global-overlay-wrapper[_ngcontent-%COMP%], .cdk-overlay-pane[_ngcontent-%COMP%]{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane[_ngcontent-%COMP%]{pointer-events:auto;box-sizing:border-box;max-width:100%;max-height:100%}.cdk-overlay-backdrop[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:1}.cdk-high-contrast-active[_ngcontent-%COMP%]   .cdk-overlay-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:.6}.cdk-overlay-dark-backdrop[_ngcontent-%COMP%]{background:rgba(0,0,0,.32)}.cdk-overlay-transparent-backdrop[_ngcontent-%COMP%], .cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:0}.cdk-overlay-connected-position-bounding-box[_ngcontent-%COMP%]{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock[_ngcontent-%COMP%]{position:fixed;width:100%;overflow-y:scroll}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}body.dark-theme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}body.dark-theme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#607d8b}.wrapper[_ngcontent-%COMP%]{width:100%;max-width:1080px;margin:0 auto;padding:0 30px}.wrapper[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{list-style-type:none;padding-left:5px}.wrapper[_ngcontent-%COMP%]   .list-detail[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:5px;border-bottom:1px solid}.wrapper[_ngcontent-%COMP%]   .list-detail__checkbox[_ngcontent-%COMP%]{display:block}.wrapper[_ngcontent-%COMP%]   .list-detail__body[_ngcontent-%COMP%]{width:100%;margin-left:20px;display:flex}.wrapper[_ngcontent-%COMP%]   .list-detail__body-status[_ngcontent-%COMP%]{width:50px;margin-right:10px}.wrapper[_ngcontent-%COMP%]   .list-detail__body-title[_ngcontent-%COMP%]{display:block;width:150px;overflow-x:hidden}.wrapper[_ngcontent-%COMP%]   .list-detail__body-author[_ngcontent-%COMP%]{margin-left:20px}.wrapper[_ngcontent-%COMP%]   .list-detail__body-sub[_ngcontent-%COMP%]{margin-left:auto;display:flex}.wrapper[_ngcontent-%COMP%]   .list-detail__body-sub-date[_ngcontent-%COMP%]{width:200px;margin-right:20px}"],changeDetection:0}),t})();var sn=n("mrSG"),cn=n("LvDl"),ln=n("jtHE"),un=n("5+tZ"),hn=n("SxV6"),dn=n("7o/Q");class fn{constructor(t){this.total=t}call(t,e){return e.subscribe(new pn(t,this.total))}}class pn extends dn.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}var bn=n("2Xbf");class gn{constructor(t={}){this.title="",this.deltaOps=[],this.revisions=[],Object.assign(this,t)}isEqual(t){return!["id","title","created","updated"].some(e=>this[e]!==t[e])&&this.deltaOps.length===t.deltaOps.length&&!this.deltaOps.some((e,n)=>{const r=t.deltaOps[n];if(!Object(cn.isEqual)(e.insert,r.insert)||!Object(cn.isEqual)(e.retain,r.retain)||!Object(cn.isEqual)(e.delete,r.delete))return!0;const i=e.attributes||{},o=r.attributes||{};return!Object(cn.isEqual)(Object.keys(i).sort(),Object.keys(o).sort())||!!Object.keys(i).filter(t=>"lint"!==t).some(t=>!Object(cn.isEqual)(i[t],o[t]))})}}var _n=n("3UWI"),mn=n("7Cbv"),vn=n("Ptse"),yn=n("dCgF");n("8kjx");const xn=(t,e,n,r,i)=>{try{if(e&&e.cursor&&n!==r.clientID){const o=e.user||{},a=o.color||"#ffa500",s=o.name||`User: ${n}`;t.createCursor(n.toString(),s,a);const c=yn.e(yn.f(e.cursor.anchor),r),l=yn.e(yn.f(e.cursor.head),r);c&&l&&c.type===i&&t.moveCursor(n.toString(),{index:c.index,length:l.index-c.index})}else t.removeCursor(n.toString())}catch(o){console.error(o)}};class Cn{constructor(t,e,n){const r=Object(vn.a)(),i=t.doc;this.mux=r,this.type=t,this.doc=i,this.quill=e;const o=e.getModule("cursors")||null;this.quillCursors=o,this._negatedUsedFormats={},this.awareness=n,this._awarenessChange=({added:e,removed:r,updated:a})=>{const s=n.getStates();e.forEach(e=>{xn(o,s.get(e),e,i,t)}),a.forEach(e=>{xn(o,s.get(e),e,i,t)}),r.forEach(t=>{o.removeCursor(t.toString())})},this._typeObserver=t=>{r(()=>{const n=t.delta,r=[];for(let t=0;t<n.length;t++){const e=n[t];r.push(void 0!==e.insert?Object.assign({},e,{attributes:Object.assign({},this._negatedUsedFormats,e.attributes||{})}):e)}e.updateContents(r,"yjs")})},t.observe(this._typeObserver),this._quillObserver=(a,s)=>{if(s&&s.ops){const e=s.ops;e.forEach(t=>{if(void 0!==t.attributes)for(let e in t.attributes)void 0===this._negatedUsedFormats[e]&&(this._negatedUsedFormats[e]=!1)}),r(()=>{t.applyDelta(e)})}if(n&&o){const r=e.getSelection(),a=n.getLocalState();if(null===r)null!==n.getLocalState()&&n.setLocalStateField("cursor",null);else{const e=yn.g(t,r.index),i=yn.g(t,r.index+r.length);a&&a.cursor&&yn.d(e,a.cursor.anchor)&&yn.d(i,a.cursor.head)||n.setLocalStateField("cursor",{anchor:e,head:i})}n.getStates().forEach((e,n)=>{xn(o,e,n,i,t)})}},e.on("editor-change",this._quillObserver),r(()=>{e.setContents(t.toDelta())}),null!==o&&n&&(n.getStates().forEach((e,n)=>{xn(o,e,n,i,t)}),n.on("change",this._awarenessChange))}destroy(){this.type.unobserve(this._typeObserver),this.quill.off("editor-change",this._quillObserver),this.awareness&&this.awareness.off("change",this._awarenessChange)}}var wn=n("OaWH"),On=n("2Vo4");let kn=(()=>{class t{constructor(t){this.http=t,this.loadingStateSubject$=new On.a(!1),this.loadingState$=this.loadingStateSubject$.asObservable(),this.loadingUuids=[]}loadingStateChange(t){if(t){const e=this.loadingUuids.indexOf(t);e>-1&&this.loadingUuids.splice(e,1)}else t=Object(mn.a)(),this.loadingUuids.push(t);return this.loadingStateSubject$.next(this.loadingUuids.length>0),t}constituencyParse(t){return this.http.post("api/v2/constituency-parse",{textBlocks:t})}textLint(t){return this.http.post("api/v1/textlint",{text:t}).pipe(Object(kt.a)(t=>t[0]))}splitTextByNewline(t){if(t.length<2)return t;let e=t;[/\u300c[^\u300d]*\u300d/g,/\uff08[^\uff09]*\uff09/g,/\([^\)]*\)/g,/\[[^\]]*\]/g,/"[^"]*"/g,/\u201d[^\u201d]*\u201d/g].forEach(t=>{e=e.replace(t,t=>"#".repeat(t.length))});let n="",r=0;return[...Array(e.length-1)].forEach((i,o)=>{"\u3002"===e.charAt(o)&&(n+=t.substring(r,o+1)+"\n",r=o+1)}),n+=t.substring(r),n}getScript(t){return this.http.get(`api/v1/scripts/${t}`).pipe(Object(kt.a)(t=>new gn(t)))}putScript(t){return this.http.put(`api/v1/scripts/${t.id}`,{title:t.title,deltaOps:t.deltaOps}).pipe(Object(kt.a)(t=>new gn(t)))}postScript(t){return this.http.post("api/v1/scripts",{title:t.title,deltaOps:t.deltaOps}).pipe(Object(kt.a)(t=>new gn(t)))}deleteScript(t){return this.http.delete(`api/v1/scripts/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(nn.b))},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Sn=n("ZZLe");const Mn=Ze.a.import("delta");let jn=(()=>{class t{constructor(t,e,n){this.appService=t,this.scriptService=e,this.tokenizeService=n,this.commentSubject$=new m.a,this.focusChatMessage$=new m.a,this.editorFocus$=new m.a,this.initialized$=new ln.a(1),this.textChanged$=new m.a,this.wordCounter$=this.initialized$.pipe(Object(hn.a)(),Object(un.a)(()=>this.textChanged$),Object(_n.a)(300),Object(kt.a)(()=>this.editor.getText().length))}initialize(t,e,n){const r=this.scriptService.loadingStateChange();this.editor=e,this.ytext=this.appService.ydoc.getText(`script-${t}`),this.undoManager=new yn.b(this.ytext),this.appService.useWs?(this.binding=new Cn(this.ytext,e,this.appService.wsProvider.awareness),this.appService.wsSynced().subscribe(()=>{"\n"!==this.editor.getText()&&void 0!==t||this.editor.setContents(n),this.initialized$.next(),this.scriptService.loadingStateChange(r)})):(this.editor.setContents(n),this.initialized$.next(),this.scriptService.loadingStateChange(r))}onContentChanged(t){this.textChanged$.next()}getText(){return this.editor.getText()}getDelta(){return this.editor.getContents().ops}setDelta(t){const e=this.editor.getContents();e.ops=t,this.editor.setContents(e)}undo(){this.checkInitialized(),this.undoManager.undo()}redo(){this.checkInitialized(),this.undoManager.redo()}reformat(){const t=this.editor.getText();let e=0,n=t.indexOf("\u3002");for(;n>-1;)"\n"!==t.charAt(n+1)&&(this.editor.insertText(n+e+1,"\n"),e+=1),n=t.indexOf("\u3002",n+1)}selectionReformat(){const t=this.editor.getText(),e=this.editor.getSelection();let n=0,r=t.indexOf("\u3002",e.index);for(;r>-1&&r<e.index+e.length;)"\n"!==t.charAt(r+1)&&(this.editor.insertText(r+n+1,"\n"),n+=1),r=t.indexOf("\u3002",r+1)}highlight(t,e="#FFAF7A"){t.forEach(t=>{const n=t.length;let r=this.editor.getText().indexOf(t);for(;r>-1;)this.editor.formatText(r,n,"background-color",e),r=this.editor.getText().indexOf(t,r+1)})}highlightByBaseForm(t,e="#FFAF7A"){const n=this.editor.getText();return this.tokenizeService.tokenize(n).pipe(Object(kt.a)(n=>{n.forEach(n=>{t.includes(n.basic_form)&&this.editor.formatText(n.word_position-1,n.surface_form.length,"background-color",e)})}))}removeHighlight(){const t=this.editor.getContents();t.ops=t.ops.map(t=>{var e;return(null===(e=t.attributes)||void 0===e?void 0:e.background)&&delete t.attributes.background,t}),this.editor.setContents(t)}underline(t){t.forEach(t=>{const e=t.length;let n=this.editor.getText().indexOf(t);for(;n>-1;)this.editor.formatText(n,e,"underline",!0),n=this.editor.getText().indexOf(t,n+1)})}removeUnderline(){const t=this.editor.getContents();t.ops=t.ops.map(t=>{var e;return(null===(e=t.attributes)||void 0===e?void 0:e.underline)&&delete t.attributes.underline,t}),this.editor.setContents(t)}removeStrikes(){const t=this.editor.getContents();t.ops=t.ops.filter(t=>{var e;return!(null===(e=t.attributes)||void 0===e?void 0:e.strike)}),this.editor.setContents(t)}onChangeTextColor(t){this.textColor=t}onChangeBackgroundColor(t){this.backgroundColor=t}onSelectionChange(t){t.range&&(this.selectionRange=t.range)}selectionBold(){const t=this.selectionRange;this.editor.formatText(t.index,t.length,"bold",!0)}selectionColorUp(){const t=this.selectionRange,e=!["#000000","#ffffff"].includes(this.textColor)&&this.textColor;this.editor.formatText(t.index,t.length,"color",e)}selectionBackgroundColorUp(){const t=this.selectionRange;this.editor.formatText(t.index,t.length,"background",this.backgroundColor)}selectionStrike(){const t=this.selectionRange;this.editor.formatText(t.index,t.length,"strike",!0)}selectionComment(){const t=Object(mn.a)(),e=this.selectionRange;this.editor.formatText(e.index,e.length,"comment",{uuid:t}),this.commentSubject$.next(t)}unselectComment(t){const e=this.editor.getContents();e.ops=e.ops.map(e=>{var n,r;return(null===(r=null===(n=e.attributes)||void 0===n?void 0:n.comment)||void 0===r?void 0:r.uuid)===t&&delete e.attributes.comment,e}),this.editor.setContents(e)}focusChatMessage(t){this.focusChatMessage$.next(t)}initialComments(t){const e=new Map;t.forEach(t=>{e.set(t.uuid,t)});const n=new Mn,r=this.editor.getContents(),i=this.editor.getText();let o=0;return r.ops.forEach(t=>{var r,a;const s=null===(a=null===(r=t.attributes)||void 0===r?void 0:r.comment)||void 0===a?void 0:a.uuid,c=t.insert.length;if(!s)return n.retain(c),void(o+=c);if(e.has(s)){const r=e.get(s);r.selectedText=r.selectedText||t.insert,n.retain(c,{comment:{uuid:s,message:r.body}})}else{const e=t.attributes;delete e.comment,n.delete(c);const r=i.slice(o,o+c);n.insert(r,e)}o+=c}),this.editor.updateContents(n),t}selectionCommentFocused(t){this.editorFocus$.next({uuid:t,type:"comment"})}selectionCommentText(t){return this.editor.getContents().ops.filter(e=>{var n,r;return(null===(r=null===(n=e.attributes)||void 0===n?void 0:n.comment)||void 0===r?void 0:r.uuid)===t}).map(t=>t.insert).join()}applySelectionCommentMessage(t,e){const n=this.editor.getContents(),r=new Mn;n.ops.forEach(n=>{var i,o;const a=n.insert.length;(null===(o=null===(i=n.attributes)||void 0===i?void 0:i.comment)||void 0===o?void 0:o.uuid)===t?r.retain(a,{comment:{uuid:t,message:e}}):r.retain(a)}),this.editor.updateContents(r)}applyTextLintResult(t){const e=this.editor.getText(),n=e.split("\n").reduce((t,e,n)=>{let r=0;return n>0&&(r+=t[n-1].end+1),t.push({start:r,end:r+e.length}),t},[]),r=new Mn;let i=0;return t.messages=t.messages.map(t=>{t.uuid=Object(mn.a)();const o=n[t.line-1];r.retain(o.start-i),r.retain(o.end-o.start,{lint:{uuid:t.uuid,message:t.message}}),i=o.end;const a=Math.min(o.end,o.start+10);return t.target=e.slice(o.start,a)+"..",t}),this.editor.updateContents(r),t}removeTextLintResult(){const t=this.editor.getContents(),e=this.editor.getText(),n=new Mn;let r=0;t.ops.forEach(t=>{var i;const o=t.insert.length;if(null===(i=t.attributes)||void 0===i?void 0:i.lint){const i=t.attributes;delete i.lint,n.delete(o);const a=e.slice(r,r+o);n.insert(a,i)}else n.retain(o);r+=o}),this.editor.updateContents(n)}focusTextLintMessage(t){this.editorFocus$.next({uuid:t.uuid,type:"textlint"})}checkInitialized(){if(!this.editor)throw new Error("ytext is not initialized")}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(wn.a),o.Wb(kn),o.Wb(Sn.a))},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac}),t})(),Rn=(()=>{class t{constructor(t,e){this.cd=t,this.editorService=e,this.display="none"}ngOnInit(){}selectionChange(t){this.selection=window.getSelection();const e=this.selection.getRangeAt(0);if(this.selection.isCollapsed)return this.display="none",void this.cd.markForCheck();const n=e.getBoundingClientRect();this.top=n.top+window.pageYOffset-50+"px",this.left=n.left+"px",this.display="block",this.cd.markForCheck()}clickDocument(t){t.target.closest(".editor__main")||(this.display="none",this.cd.markForCheck())}bold(){this.editorService.selectionBold()}colorUp(){this.editorService.selectionColorUp()}backColor(){this.editorService.selectionBackgroundColorUp()}comment(){this.editorService.selectionComment()}format(){this.editorService.selectionReformat()}strike(){this.editorService.selectionStrike()}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.h),o.Mb(jn))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-balloon"]],hostVars:6,hostBindings:function(t,e){1&t&&o.Zb("click",function(t){return e.clickDocument(t)},!1,o.pc),2&t&&o.uc("top",e.top)("left",e.left)("display",e.display)},inputs:{darkTheme:"darkTheme"},decls:18,vars:2,consts:[[1,"wrapper"],[1,"svg__icon","item",3,"click"],[1,"item",3,"click"]],template:function(t,e){1&t&&(o.Sb(0,"div",0),o.Sb(1,"div",1),o.Zb("click",function(){return e.bold()}),o.Sb(2,"mat-icon"),o.zc(3,"format_bold"),o.Rb(),o.Rb(),o.Sb(4,"div",1),o.Zb("click",function(){return e.colorUp()}),o.Sb(5,"mat-icon"),o.zc(6,"format_color_text"),o.Rb(),o.Rb(),o.Sb(7,"div",1),o.Zb("click",function(){return e.backColor()}),o.Sb(8,"mat-icon"),o.zc(9,"format_color_fill"),o.Rb(),o.Rb(),o.Sb(10,"div",1),o.Zb("click",function(){return e.strike()}),o.Sb(11,"mat-icon"),o.zc(12,"strikethrough_s"),o.Rb(),o.Rb(),o.Sb(13,"div",1),o.Zb("click",function(){return e.comment()}),o.Sb(14,"mat-icon"),o.zc(15,"comment"),o.Rb(),o.Rb(),o.Sb(16,"button",2),o.Zb("click",function(){return e.format()}),o.zc(17,"format"),o.Rb(),o.Rb()),2&t&&o.Eb("dark-theme",e.darkTheme)},directives:[d.a],styles:[".cdk-global-overlay-wrapper[_ngcontent-%COMP%], .cdk-overlay-container[_ngcontent-%COMP%]{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container[_ngcontent-%COMP%]{position:fixed;z-index:1000}.cdk-overlay-container[_ngcontent-%COMP%]:empty{display:none}.cdk-global-overlay-wrapper[_ngcontent-%COMP%], .cdk-overlay-pane[_ngcontent-%COMP%]{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane[_ngcontent-%COMP%]{pointer-events:auto;box-sizing:border-box;max-width:100%;max-height:100%}.cdk-overlay-backdrop[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:1}.cdk-high-contrast-active[_ngcontent-%COMP%]   .cdk-overlay-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:.6}.cdk-overlay-dark-backdrop[_ngcontent-%COMP%]{background:rgba(0,0,0,.32)}.cdk-overlay-transparent-backdrop[_ngcontent-%COMP%], .cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:0}.cdk-overlay-connected-position-bounding-box[_ngcontent-%COMP%]{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock[_ngcontent-%COMP%]{position:fixed;width:100%;overflow-y:scroll}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}body.dark-theme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}body.dark-theme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#607d8b}[_nghost-%COMP%]{position:absolute;z-index:30}.wrapper[_ngcontent-%COMP%]{border:1px solid #000;background:#fff;box-shadow:0 0 10px;height:20px;padding:8px 10px;display:flex}.wrapper.dark-theme[_ngcontent-%COMP%]{background:#303030}.wrapper[_ngcontent-%COMP%]     mat-form-field .mat-form-field-infix{display:none}.wrapper[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin-right:5px;cursor:pointer}.svg__icon[_ngcontent-%COMP%]:hover{color:#3f51b5}"],changeDetection:0}),t})();function An(t,e){if(1&t&&(o.Sb(0,"mat-button-toggle",9),o.zc(1),o.ec(2,"date"),o.Rb()),2&t){const t=e.$implicit,n=e.index,r=o.dc();o.jc("value",t)("checked",n===r.script.revisions.length-1),o.Bb(1),o.Ac(o.gc(2,3,t.created,"short"))}}let Pn=(()=>{class t{constructor(t,e){this.data=t,this.dialogRef=e,this.script=t.script,this.darkTheme=t.darkTheme}ngOnInit(){}onEditorCreated(t){this.editor=t,this.showHistory(this.script.revisions[this.script.revisions.length-1])}showHistory(t){this.selectedRevision=t;const e=this.editor.getContents();e.ops=t.deltaOps,this.editor.setContents(e)}onNoClick(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(h.a),o.Mb(h.g))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-history"]],decls:12,vars:6,consts:[["mat-dialog-title",""],["mat-dialog-content","",1,"history-wrapper"],[1,"history-sidebar"],[1,"history-sidebar-date",3,"change"],[3,"value","checked",4,"ngFor","ngForOf"],[1,"editor",3,"readOnly","onEditorCreated"],["mat-dialog-actions",""],["mat-button","","color","primary","cdkFocusInitial","",3,"click"],["mat-button","","color","primary",3,"mat-dialog-close"],[3,"value","checked"]],template:function(t,e){1&t&&(o.Sb(0,"h2",0),o.zc(1),o.Rb(),o.Sb(2,"div",1),o.Sb(3,"div",2),o.Sb(4,"mat-button-toggle-group",3),o.Zb("change",function(t){return e.showHistory(t.value)}),o.xc(5,An,3,6,"mat-button-toggle",4),o.Rb(),o.Rb(),o.Sb(6,"quill-editor",5),o.Zb("onEditorCreated",function(t){return e.onEditorCreated(t)}),o.Rb(),o.Rb(),o.Sb(7,"div",6),o.Sb(8,"button",7),o.Zb("click",function(){return e.onNoClick()}),o.zc(9," Close "),o.Rb(),o.Sb(10,"button",8),o.zc(11," Paste to editor "),o.Rb(),o.Rb()),2&t&&(o.Bb(1),o.Bc("Histories(",e.script.revisions.length,")"),o.Bb(4),o.jc("ngForOf",e.script.revisions),o.Bb(1),o.Eb("dark-theme",e.darkTheme),o.jc("readOnly",!0),o.Bb(4),o.jc("mat-dialog-close",e.selectedRevision))},directives:[h.h,h.e,vt.b,i.k,Ve.a,h.c,s.b,h.d,vt.a],pipes:[i.e],styles:[".history-wrapper[_ngcontent-%COMP%]{display:flex}.history-wrapper[_ngcontent-%COMP%]   .history-sidebar[_ngcontent-%COMP%]{text-align:center;width:150px;padding:15px}.history-wrapper[_ngcontent-%COMP%]   .history-sidebar-date[_ngcontent-%COMP%]{display:flex;flex-direction:column}.history-wrapper[_ngcontent-%COMP%]     .editor .ql-container{overflow:auto;height:60vh;width:600px}"]}),t})();var En=n("cp0P"),In=n("JIr8");const Tn=["\u3060\u304b\u3089","\u305d\u308c\u3067","\u305d\u306e\u305f\u3081","\u3053\u306e\u305f\u3081","\u305d\u3053\u3067","\u3057\u305f\u304c\u3063\u3066","\u3086\u3048\u306b","\u305d\u308c\u3086\u3048\u306b","\u3059\u308b\u3068","\u305d\u308c\u306a\u3089","\u305d\u308c\u3067\u306f","\u3057\u304b\u3057","\u3057\u304b\u3057\u306a\u304c\u3089","\u3060\u3051\u3069","\u3051\u308c\u3069\u3082","\u3068\u3053\u308d\u304c","\u306e\u306b","\u306a\u306e\u306b","\u305d\u308c\u306a\u306e\u306b","\u306b\u3082\u304b\u304b\u308f\u3089\u305a","\u305d\u308c\u306b\u3082\u304b\u304b\u308f\u3089\u305a","\u3082\u306e\u306e","\u3068\u306f\u3044\u3046\u3082\u306e\u306e","\u3067\u3082","\u305d\u308c\u3067\u3082","\u307e\u305f","\u304a\u3088\u3073","\u304b\u3064","\u306a\u3089\u3073\u306b","\u540c\u3058\u304f","\u7b2c\uff11\u306b","\u7b2c\uff12\u306b","\u7b2c\uff13\u306b","\uff11\u3064\u76ee\u306f","\uff12\u3064\u76ee\u306f","\uff13\u3064\u76ee\u306f","\uff11\u70b9\u76ee\u306f","\uff12\u70b9\u76ee\u306f","\uff13\u70b9\u76ee\u306f","\uff11\u3064\u306f","\u3082\u3046\uff11\u3064\u306f","\uff11\u70b9\u306f","\u3082\u3046\uff11\u70b9\u306f","\u6700\u521d\u306b","\u6b21\u306b","\u6700\u5f8c\u306b","\u306f\u3058\u3081\u306b","\u305d\u306e\u3042\u3068\u306b","\u304a\u308f\u308a\u306b","\u305d\u3057\u3066","\u305d\u308c\u306b","\u305d\u308c\u306b\u3057\u3066\u3082","\u305d\u308c\u304b\u3089","\u3057\u304b\u3082","\u304a\u307e\u3051\u306b","\u3055\u3089\u306b","\u305d\u306e\u3046\u3048","\u52a0\u3048\u3066","\u305d\u308c\u3069\u3053\u308d\u304b","\u3069\u3053\u308d\u304b","\u305d\u308c\u3070\u304b\u308a\u304b","\u305d\u308c\u3070\u304b\u308a\u3067\u306a\u304f","\u305d\u306e\u4e0a\u3067","\u4e00\u65b9","\u4ed6\u65b9","\u9006\u306b","\u53cd\u5bfe\u306b","\u53cd\u9762","\u305d\u306e\u304b\u308f\u308a","\u307e\u305f\u306f","\u305d\u308c\u3068\u3082","\u3042\u308b\u3044\u306f","\u3082\u3057\u304f\u306f","\u306a\u305c\u306a\u3089","\u3060\u3063\u3066","\u3068\u3044\u3046\u306e\u306f","\u3068\u3044\u3046\u306e\u3082","\u306a\u305c\u304b\u3068\u3044\u3046\u3068","\u3069\u3046\u3057\u3066\u304b\u3068\u3044\u3046\u3068","\u306a\u3093\u3067\u304b\u3068\u3044\u3046\u3068","\u305d\u306e\u305f\u3081\u306b\u306f","\u305d\u308c\u306b\u306f","\u306a\u304a","\u305f\u3060\u3057","\u305f\u3060","\u3082\u3063\u3068\u3082","\u3061\u306a\u307f\u306b","\u305d\u3082\u305d\u3082","\u5b9f\u306f","\u5b9f\u306e\u3068\u3053\u308d","\u3064\u307e\u308a","\u3059\u306a\u308f\u3061","\u8981\u3059\u308b\u306b","\u4f8b\u3048\u3070","\u3044\u308f\u3070","\u7279\u306b","\u3068\u308a\u308f\u3051","\u306a\u304b\u3067\u3082","\u305d\u308c\u3067\u306f","\u3067\u306f","\u3055\u3066","\u3068\u3053\u308d\u3067","\u3053\u306e\u3088\u3046\u306b","\u4ee5\u4e0a\u306e\u3088\u3046\u306b","\u3044\u305a\u308c\u306b\u3057\u3066\u3082","\u3044\u305a\u308c\u306b\u305b\u3088","\u3068\u3082\u3042\u308c","\u78ba\u304b\u306b","\u3057\u304b\u3057","\u4e00\u65b9\u3067\u306f","\u4ed6\u65b9\u3067\u306f"];function Ln(t,e){if(1&t){const t=o.Tb();o.Sb(0,"button",21),o.Zb("click",function(){return o.qc(t),o.dc().highlightValue.reset()}),o.Sb(1,"mat-icon"),o.zc(2,"close"),o.Rb(),o.Rb()}}function zn(t,e){if(1&t){const t=o.Tb();o.Sb(0,"button",21),o.Zb("click",function(){return o.qc(t),o.dc().baseFormValue.reset()}),o.Sb(1,"mat-icon"),o.zc(2,"close"),o.Rb(),o.Rb()}}function Dn(t,e){if(1&t&&(o.Sb(0,"mat-option",22),o.zc(1),o.Rb()),2&t){const t=e.$implicit;o.jc("value",t),o.Bb(1),o.Ac(t)}}function Bn(t,e){if(1&t&&(o.Sb(0,"mat-option",22),o.zc(1),o.Rb()),2&t){const t=e.$implicit;o.jc("value",t),o.Bb(1),o.Ac(t)}}let Fn=(()=>{class t{constructor(t,e,n,r){this.scriptService=t,this.editorService=e,this.tokenizeService=n,this.cd=r,this.highlightValue=new a.e(""),this.baseFormValue=new a.e(""),this.keys=["\u8003\u3048\u308b","\u601d\u3046"],this.keywordValues=new a.e(this.keys),this.conjunctions=Tn,this.conjunctionValues=new a.e(this.conjunctions),this.textColorCtr=new a.e,this.backgroundColorCtr=new a.e,this.color="primary",this.wordCount=0,this.toggleSubtitleButton=new o.n,this.toolBoxHighlightKey="tool-box-highlight-key",this.toolBoxBaseFormKey="tool-box-base-form-key",this.toolBoxTextColorCodeKey="tool-box-text-color-code-key",this.toolBoxBackgroundColorCodeKey="tool-box-background-color-code-key",this.unsubscriber$=new m.a;const i=localStorage.getItem(this.toolBoxHighlightKey);i&&this.highlightValue.setValue(i);const s=localStorage.getItem(this.toolBoxBaseFormKey);s&&this.baseFormValue.setValue(s),this.textColorCtr.valueChanges.pipe(Object(S.a)(t=>t),Object(C.a)(this.unsubscriber$)).subscribe(t=>{const e=`#${t.toHex()}`;this.editorService.onChangeTextColor(e),localStorage.setItem(this.toolBoxTextColorCodeKey,e)}),this.backgroundColorCtr.valueChanges.pipe(Object(S.a)(t=>t),Object(C.a)(this.unsubscriber$)).subscribe(t=>{const e=`#${t.toHex()}`;this.editorService.onChangeBackgroundColor(e),localStorage.setItem(this.toolBoxBackgroundColorCodeKey,e)});const c=localStorage.getItem(this.toolBoxTextColorCodeKey),l=this.hex2rgb(c?`${c}`:"#000000");this.textColorCtr.setValue(new Q(l[0],l[1],l[2]));const u=localStorage.getItem(this.toolBoxBackgroundColorCodeKey),h=this.hex2rgb(u?`${u}`:"#000000");this.backgroundColorCtr.setValue(new Q(h[0],h[1],h[2])),this.editorService.wordCounter$.pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.wordCount=t,this.cd.markForCheck()})}ngOnInit(){}ngOnDestroy(){this.unsubscriber$.next()}highlight(t,e){this.highlightValue.value&&this.editorService.highlight(t,e)}removeOldHighlighted(){this.editorService.removeHighlight()}highlightBaseForm(t,e){if(0===t.length)return;const n=this.scriptService.loadingStateChange();Object(En.a)(t.map(t=>this.tokenizeService.tokenize(t))).pipe(Object(kt.a)(t=>{const e=t.map(t=>t[0].basic_form),n=e.filter(t=>"*"===t);return n.length>0&&alert(`\u4ee5\u4e0b\u306e\u8a9e\u53e5\u306e\u8868\u5c64\u7cfb\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3002\n${n.join}`),e.filter(t=>"*"!==t)}),Object(un.a)(t=>this.editorService.highlightByBaseForm(t,e)),Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.scriptService.loadingStateChange(n)},t=>{this.scriptService.loadingStateChange(n)})}bulkUnderline(t){if(0===t.length)return;const e=this.scriptService.loadingStateChange();Object(En.a)(t.map(t=>this.tokenizeService.tokenize(t))).pipe(Object(kt.a)(t=>t.map(t=>t[0].basic_form).filter(t=>"*"!==t)),Object(In.a)(t=>Object(x.a)([])),Object(C.a)(this.unsubscriber$)).subscribe(t=>{t.length>0&&this.editorService.underline(t),this.scriptService.loadingStateChange(e)})}removeAllUnderlinedSentences(){this.editorService.removeUnderline()}removeStrike(){this.editorService.removeStrikes()}reformat(){this.editorService.reformat()}hex2rgb(t){return"#"===t.slice(0,1)&&(t=t.slice(1)),3===t.length&&(t=t.slice(0,1)+t.slice(0,1)+t.slice(1,2)+t.slice(1,2)+t.slice(2,3)+t.slice(2,3)),[t.slice(0,2),t.slice(2,4),t.slice(4,6)].map(t=>parseInt(t,16))}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(kn),o.Mb(jn),o.Mb(Sn.a),o.Mb(o.h))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-tool-box"]],outputs:{toggleSubtitleButton:"toggleSubtitleButton"},decls:82,vars:22,consts:[[1,"wrapper"],[1,"title"],[1,"word-counter"],[1,"row"],[1,"row__item"],[3,"ngSubmit"],["matInput","",3,"formControl"],["type","reset","mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["multiple","",3,"formControl"],[1,"keywords"],[3,"value",4,"ngFor","ngForOf"],[1,"svg__icon",3,"click"],["matInput","",3,"ngxMatColorPicker","formControl"],["matSuffix","",3,"for"],[3,"touchUi","color"],["picker1",""],["picker2",""],[1,"row__label"],["mat-button","","color","primary",1,"row__item",3,"click"],["color","primary",1,"row__item",3,"checked","toggleChange"],[1,"row__item","row__item-remove"],["type","reset","mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(o.Sb(0,"mat-expansion-panel",0),o.Sb(1,"mat-expansion-panel-header"),o.Sb(2,"mat-panel-title"),o.Sb(3,"div",1),o.zc(4,"Toolbox"),o.Rb(),o.Sb(5,"div",2),o.zc(6),o.Rb(),o.Rb(),o.Rb(),o.Sb(7,"div",3),o.Sb(8,"div",4),o.Sb(9,"form",5),o.Zb("ngSubmit",function(){return e.highlight([e.highlightValue.value])}),o.Sb(10,"mat-form-field"),o.Sb(11,"mat-label"),o.zc(12,"Highlight"),o.Rb(),o.Nb(13,"input",6),o.xc(14,Ln,3,0,"button",7),o.Rb(),o.Rb(),o.Rb(),o.Sb(15,"div",4),o.Sb(16,"form",5),o.Zb("ngSubmit",function(){return e.highlightBaseForm([e.baseFormValue.value])}),o.Sb(17,"mat-form-field"),o.Sb(18,"mat-label"),o.zc(19,"Highlight base form"),o.Rb(),o.Nb(20,"input",6),o.xc(21,zn,3,0,"button",7),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(22,"div",3),o.Sb(23,"div",4),o.Sb(24,"mat-form-field"),o.Sb(25,"mat-label"),o.zc(26,"Keywords"),o.Rb(),o.Sb(27,"mat-select",8),o.Sb(28,"mat-select-trigger"),o.Sb(29,"span",9),o.zc(30),o.Rb(),o.Rb(),o.xc(31,Dn,2,2,"mat-option",10),o.Rb(),o.Rb(),o.Sb(32,"div",11),o.Zb("click",function(){return e.highlight(e.keywordValues.value,"orange")}),o.Sb(33,"mat-icon"),o.zc(34,"border_color"),o.Rb(),o.Rb(),o.Rb(),o.Sb(35,"div",4),o.Sb(36,"mat-form-field"),o.Sb(37,"mat-label"),o.zc(38,"conjunctions"),o.Rb(),o.Sb(39,"mat-select",8),o.Sb(40,"mat-select-trigger"),o.Sb(41,"span",9),o.zc(42),o.Rb(),o.Rb(),o.xc(43,Bn,2,2,"mat-option",10),o.Rb(),o.Rb(),o.Sb(44,"div",11),o.Zb("click",function(){return e.highlight(e.conjunctionValues.value,"green")}),o.Sb(45,"mat-icon"),o.zc(46,"border_color"),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(47,"div",3),o.Sb(48,"mat-form-field",4),o.Sb(49,"mat-label"),o.zc(50,"text color"),o.Rb(),o.Nb(51,"input",12),o.Nb(52,"ngx-mat-color-toggle",13),o.Nb(53,"ngx-mat-color-picker",14,15),o.Rb(),o.Sb(55,"mat-form-field",4),o.Sb(56,"mat-label"),o.zc(57,"background color"),o.Rb(),o.Nb(58,"input",12),o.Nb(59,"ngx-mat-color-toggle",13),o.Nb(60,"ngx-mat-color-picker",14,16),o.Rb(),o.Rb(),o.Sb(62,"div",3),o.Sb(63,"div",17),o.zc(64,"buttons:"),o.Rb(),o.Sb(65,"button",18),o.Zb("click",function(){return e.reformat()}),o.zc(66," format "),o.Rb(),o.Sb(67,"mat-slide-toggle",19),o.Zb("toggleChange",function(){return e.toggleSubtitleButton.emit()}),o.zc(68," subtitle "),o.Rb(),o.Rb(),o.Sb(69,"div",3),o.Sb(70,"div",20),o.Sb(71,"div",17),o.zc(72,"remove:"),o.Rb(),o.Sb(73,"div",11),o.Zb("click",function(){return e.removeOldHighlighted()}),o.Sb(74,"mat-icon"),o.zc(75,"format_color_fill"),o.Rb(),o.Rb(),o.Sb(76,"div",11),o.Zb("click",function(){return e.removeAllUnderlinedSentences()}),o.Sb(77,"mat-icon"),o.zc(78,"format_underlined"),o.Rb(),o.Rb(),o.Sb(79,"div",11),o.Zb("click",function(){return e.removeStrike()}),o.Sb(80,"mat-icon"),o.zc(81,"strikethrough_s"),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&t){const t=o.oc(54),n=o.oc(61);o.Bb(6),o.Bc(" Word Count: ",e.wordCount," "),o.Bb(7),o.jc("formControl",e.highlightValue),o.Bb(1),o.jc("ngIf",e.highlightValue.value),o.Bb(6),o.jc("formControl",e.baseFormValue),o.Bb(1),o.jc("ngIf",e.baseFormValue.value),o.Bb(6),o.jc("formControl",e.keywordValues),o.Bb(3),o.Ac(null==e.keywordValues.value?null:e.keywordValues.value.length),o.Bb(1),o.jc("ngForOf",e.keys),o.Bb(8),o.jc("formControl",e.conjunctionValues),o.Bb(3),o.Ac(null==e.conjunctionValues.value?null:e.conjunctionValues.value.length),o.Bb(1),o.jc("ngForOf",e.conjunctions),o.Bb(8),o.jc("ngxMatColorPicker",t)("formControl",e.textColorCtr),o.Bb(1),o.jc("for",t),o.Bb(1),o.jc("touchUi",!1)("color",e.color),o.Bb(5),o.jc("ngxMatColorPicker",n)("formControl",e.backgroundColorCtr),o.Bb(1),o.jc("for",n),o.Bb(1),o.jc("touchUi",!1)("color",e.color),o.Bb(7),o.jc("checked",!0)}},directives:[yt.c,yt.d,yt.e,a.v,a.o,a.p,A.c,A.f,f.b,a.c,a.n,a.f,i.l,Gt,Ut,i.k,d.a,bt,gt,A.h,ht,s.b,Xt.a,l.i],styles:[".wrapper[_ngcontent-%COMP%]{border:1px solid #000;text-align:center}.wrapper[_ngcontent-%COMP%]   .word-counter[_ngcontent-%COMP%]{margin-left:auto}.wrapper[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;align-items:center}.wrapper[_ngcontent-%COMP%]   .row__item[_ngcontent-%COMP%]{margin-right:30px;display:flex}.wrapper[_ngcontent-%COMP%]   .row__item[_ngcontent-%COMP%]   .svg__icon[_ngcontent-%COMP%]{display:block;align-self:center}.wrapper[_ngcontent-%COMP%]   .row__item-remove[_ngcontent-%COMP%]   .svg__icon[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .row__label[_ngcontent-%COMP%]{margin-right:20px}.wrapper[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{margin-left:5px}.svg__icon[_ngcontent-%COMP%]{cursor:pointer}.svg__icon[_ngcontent-%COMP%]:hover{color:#3f51b5}"],changeDetection:0}),t})(),Nn=(()=>{class t{constructor(t,e){this.http=t,this.appService=e}createArray(t){this.yarray=this.appService.ydoc.getArray(t);const e=new ln.a(1);return this.yarray.observe((t,n)=>{const r=this.yarray.toArray();e.next(r)}),e.next(this.yarray.toArray()),Object(Ct.a)(()=>this.appService.useWs?this.appService.wsSynced():Object(x.a)(!0)).pipe(Object(un.a)(()=>e.asObservable()),Object(O.a)())}insertArray(t,...e){this.yarray.insert(t,e)}pushArray(...t){this.yarray.push(t)}spliceArray(t,e,...n){this.yarray.delete(t,e),this.yarray.insert(t,n)}getMessages(t){return this.http.get(`api/v1/messages?scriptId=${t}`)}postMessage(t){return this.http.post("api/v1/messages",t)}deleteMessage(t){return this.http.delete(`api/v1/messages/${t}`)}deleteMessages(t){const e=t.map(t=>`id[]=${t}`).join("&");return this.http.delete(`api/v1/messages?${e}`)}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(nn.b),o.Wb(wn.a))},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac}),t})();var $n=n("ej43");const qn=["form"],Hn=["chatMessage"];function Wn(t,e){1&t&&o.Ob(0)}const Vn=function(t){return{message:t}};function Un(t,e){if(1&t&&(o.Qb(0),o.xc(1,Wn,1,0,"ng-container",13),o.Pb()),2&t){const t=e.$implicit;o.dc(2);const n=o.oc(11);o.Bb(1),o.jc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.lc(2,Vn,t))}}function Zn(t,e){if(1&t&&(o.Qb(0),o.Sb(1,"div",10,11),o.xc(3,Un,2,4,"ng-container",12),o.Rb(),o.Pb()),2&t){const t=o.dc();o.Bb(3),o.jc("ngForOf",t.messages)}}function Gn(t,e){if(1&t&&(o.Qb(0),o.zc(1),o.Pb()),2&t){const t=o.dc();o.Bb(1),o.Bc(" Target: ",t.selected.text," ")}}function Kn(t,e){1&t&&(o.Qb(0),o.zc(1,"Reply: "),o.Pb())}function Yn(t,e){if(1&t&&(o.Sb(0,"p",27),o.zc(1),o.Rb()),2&t){const t=o.dc().message;o.Bb(1),o.Bc(" ",t.selectedText.length>15?t.selectedText.slice(0,15)+"..":t.selectedText," ")}}function Xn(t,e){1&t&&o.Ob(0)}function Qn(t,e){if(1&t&&(o.Qb(0),o.xc(1,Xn,1,0,"ng-container",13),o.Pb()),2&t){const t=e.$implicit;o.dc(3);const n=o.oc(11);o.Bb(1),o.jc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.lc(2,Vn,t))}}function Jn(t,e){if(1&t&&(o.Sb(0,"div",28),o.xc(1,Qn,2,4,"ng-container",12),o.Rb()),2&t){const t=o.dc().message;o.Bb(1),o.jc("ngForOf",t.children)}}function tr(t,e){if(1&t){const t=o.Tb();o.Sb(0,"div",14),o.Sb(1,"div",15),o.Zb("click",function(){o.qc(t);const n=e.message;return o.dc().messageClick(n)}),o.Sb(2,"mat-icon",16),o.zc(3,"arrow_right"),o.Rb(),o.Rb(),o.Sb(4,"div",17),o.Sb(5,"div",18),o.Zb("click",function(){o.qc(t);const n=e.message;return o.dc().messageClick(n,"open")}),o.Sb(6,"p",19),o.zc(7),o.Rb(),o.Rb(),o.xc(8,Yn,2,1,"p",20),o.Sb(9,"div",21),o.Sb(10,"span",22),o.zc(11),o.Rb(),o.Sb(12,"span",23),o.zc(13),o.Rb(),o.Sb(14,"span",24),o.zc(15),o.ec(16,"date"),o.Rb(),o.Sb(17,"button",25),o.Zb("click",function(){o.qc(t);const n=e.message;return o.dc().deleteMessage(n)}),o.Sb(18,"mat-icon"),o.zc(19,"inventory_2"),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.xc(20,Jn,2,1,"div",26)}if(2&t){const t=e.message,n=o.dc();o.Bb(1),o.Eb("chat-message__expand-icon--expanded",t.expanded),o.Bb(4),o.Eb("dark-theme",n.darkTheme)("chat-message__text--active",n.activeMessage===t),o.Bb(2),o.Ac(t.body),o.Bb(1),o.jc("ngIf",t.selectedText),o.Bb(3),o.Ac((null==t.children?null:t.children.length)||0),o.Bb(2),o.Ac(t.author.name),o.Bb(2),o.Ac(o.gc(16,12,t.created,"short")),o.Bb(5),o.jc("ngIf",t.expanded&&!(null==t.children||!t.children.length))}}function er(t,e){1&t&&o.zc(0,"loading")}let nr=(()=>{class t{constructor(t,e,n,r,i){this.cd=t,this.authenticationService=e,this.route=n,this.chatService=r,this.editorService=i,this.messages=[],this.disable=!0,this.chatForm=new a.h({body:new a.e({value:"",disabled:this.disabled},[a.u.required,a.u.minLength(1)])}),this.selected={uuid:void 0,text:void 0},this.unsubscriber$=new m.a,this.initialized$=new On.a(!1),this.route.paramMap.pipe(Object(S.a)(t=>"new"!==t.get("id")),Object(Ot.a)(t=>{const e=t.get("id");return this.scriptId=parseInt(e,10),Object(En.a)([this.chatService.getMessages(this.scriptId),this.editorService.initialized$.pipe(Object(hn.a)())])}),Object(In.a)(t=>{}),Object(S.a)(t=>!!t),Object(hn.a)(),Object(un.a)(([t,e])=>this.chatService.createArray(this.wsMessageType).pipe(Object(kt.a)((e,n)=>{0===n?(t.length>0&&0===e.length&&this.chatService.insertArray(0,...t),this.disabled=!1,this.messages=this.editorService.initialComments(t),this.initialized$.next(!0)):this.messages=e}))),Object(C.a)(this.unsubscriber$)).subscribe(()=>{this.cd.markForCheck()},t=>{this.initialized$.next(!0)})}get disabled(){return this.disable}set disabled(t){this.disable=t,this.chatForm.controls.body.enable()}get wsMessageType(){return`chat-${this.scriptId}`}ngOnInit(){}ngAfterViewInit(){Object(Jt.a)(this.formElement.nativeElement,"keydown").pipe(Object(S.a)(t=>t.ctrlKey&&"Enter"===t.key),Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.submit()}),this.editorService.commentSubject$.pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.selected.uuid=t,this.selected.text=this.editorService.selectionCommentText(t),this.formElement.nativeElement.querySelector("textarea").focus(),this.cd.markForCheck()}),this.initialized$.pipe(Object(S.a)(t=>t),Object(un.a)(()=>this.editorService.focusChatMessage$),Object(C.a)(this.unsubscriber$)).subscribe(t=>{const e=this.messages.find(e=>e.uuid===t);e&&(e.expanded=!0,this.activeMessage=e,this.cd.markForCheck())})}onClick(t){if(!t.target.closest("app-chat")){const e=this.formElement.nativeElement.querySelector("textarea");void 0!==this.selected.uuid&&document.activeElement!==e&&(this.editorService.unselectComment(this.selected.uuid),this.selected.uuid=void 0,this.selected.text=void 0),this.activeMessage&&(t.target.closest("[data-comment-uuid]")||(this.activeMessage=void 0,this.cd.markForCheck()))}}messageClick(t,e){let n;switch(e){case"open":n=!0;break;case"close":n=!1;break;default:n=!t.expanded}n?(t.expanded=!0,this.activeMessage=t,this.formElement.nativeElement.querySelector("textarea").focus()):(this.activeMessage=void 0,t.expanded=!1,this.cd.markForCheck());const r=t.uuid;r&&(this.editorService.selectionCommentFocused(r),this.selected.text=this.editorService.selectionCommentText(r),this.cd.markForCheck())}ngOnDestroy(){this.unsubscriber$.next()}submit(){var t;if(!this.chatForm.valid||this.disabled)return;const e={body:this.chatForm.get("body").value,author:this.authenticationService.user,scriptId:this.scriptId,uuid:this.selected.uuid,parentId:null===(t=this.activeMessage)||void 0===t?void 0:t.id};this.chatService.postMessage(e).pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{var e;if(t.selectedText=this.selected.text,null===(e=this.activeMessage)||void 0===e?void 0:e.id){const e=this.messages.findIndex(t=>t.id===this.activeMessage.id);this.messages[e].children?this.messages[e].children.push(t):this.messages[e].children=[t],this.chatService.spliceArray(e,1,this.messages[e])}else this.chatService.pushArray(t);t.uuid&&(this.editorService.applySelectionCommentMessage(t.uuid,t.body),this.selected.uuid=void 0,this.selected.text=void 0),this.chatForm.reset(),this.cd.markForCheck()})}deleteMessage(t){const e=n=>{n.forEach((r,i)=>{r.id!==t.id?r.children&&e(r.children):n.splice(i,1)})};e(this.messages),this.chatService.deleteMessage(t.id).pipe(Object(C.a)(this.unsubscriber$)).subscribe(()=>{this.cd.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(o.h),o.Mb($n.a),o.Mb(tn.a),o.Mb(Nn),o.Mb(jn))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-chat"]],viewQuery:function(t,e){if(1&t&&(o.Dc(qn,1),o.Dc(Hn,1)),2&t){let t;o.nc(t=o.ac())&&(e.formElement=t.first),o.nc(t=o.ac())&&(e.chatMessageElement=t.first)}},hostBindings:function(t,e){1&t&&o.Zb("click",function(t){return e.onClick(t)},!1,o.pc)},inputs:{darkTheme:"darkTheme"},features:[o.Ab([Nn])],decls:14,vars:9,consts:[[1,"wrapper"],[4,"ngIf","ngIfElse"],[1,"chat-form"],[1,"chat-form__status"],[4,"ngIf"],[1,"chat-form__form",3,"formGroup","ngSubmit"],["form",""],["formControlName","body",1,"chat-form__textarea"],["messageTemplate",""],["loadingTmp",""],[1,"chat-messages"],["chatMessage",""],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"chat-message"],[1,"chat-message__expand-icon",3,"click"],[1,"svg__icon"],[1,"chat-message__body"],[1,"chat-message__text",3,"click"],[1,"chat-message__text-p"],["class","chat-message__selected-text",4,"ngIf"],[1,"chat-message__sub"],[1,"chat-message__sub-reply"],[1,"chat-message__sub-author"],[1,"chat-message__sub-created"],[1,"chat-message__sub-delete","svg__icon",3,"click"],["class","chat-message__replay",4,"ngIf"],[1,"chat-message__selected-text"],[1,"chat-message__replay"]],template:function(t,e){if(1&t&&(o.Sb(0,"div",0),o.xc(1,Zn,4,1,"ng-container",1),o.ec(2,"async"),o.Sb(3,"div",2),o.Sb(4,"p",3),o.xc(5,Gn,2,1,"ng-container",4),o.xc(6,Kn,2,0,"ng-container",4),o.Rb(),o.Sb(7,"form",5,6),o.Zb("ngSubmit",function(){return e.submit()}),o.Nb(9,"textarea",7),o.Rb(),o.Rb(),o.Rb(),o.xc(10,tr,21,15,"ng-template",null,8,o.yc),o.xc(12,er,1,0,"ng-template",null,9,o.yc)),2&t){const t=o.oc(13);o.Bb(1),o.jc("ngIf",o.fc(2,7,e.initialized$))("ngIfElse",t),o.Bb(4),o.jc("ngIf",e.selected.text),o.Bb(1),o.jc("ngIf",!!e.activeMessage),o.Bb(1),o.jc("formGroup",e.chatForm),o.Bb(2),o.Eb("dark-theme",e.darkTheme)}},directives:[i.l,a.v,a.o,a.i,a.c,a.n,a.g,i.k,i.p,d.a],pipes:[i.b,i.e],styles:[".cdk-global-overlay-wrapper[_ngcontent-%COMP%], .cdk-overlay-container[_ngcontent-%COMP%]{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container[_ngcontent-%COMP%]{position:fixed;z-index:1000}.cdk-overlay-container[_ngcontent-%COMP%]:empty{display:none}.cdk-global-overlay-wrapper[_ngcontent-%COMP%], .cdk-overlay-pane[_ngcontent-%COMP%]{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane[_ngcontent-%COMP%]{pointer-events:auto;box-sizing:border-box;max-width:100%;max-height:100%}.cdk-overlay-backdrop[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:1}.cdk-high-contrast-active[_ngcontent-%COMP%]   .cdk-overlay-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:.6}.cdk-overlay-dark-backdrop[_ngcontent-%COMP%]{background:rgba(0,0,0,.32)}.cdk-overlay-transparent-backdrop[_ngcontent-%COMP%], .cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:0}.cdk-overlay-connected-position-bounding-box[_ngcontent-%COMP%]{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock[_ngcontent-%COMP%]{position:fixed;width:100%;overflow-y:scroll}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}body.dark-theme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}body.dark-theme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#607d8b}.wrapper[_ngcontent-%COMP%]{position:relative}.wrapper[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]{max-height:calc(100vh - 250px);margin-top:10px;overflow:auto;padding-bottom:100px}.wrapper[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]{display:flex;align-items:center}.wrapper[_ngcontent-%COMP%]   .chat-message__expand-icon--expanded[_ngcontent-%COMP%]{transform:rotate(90deg)}.wrapper[_ngcontent-%COMP%]   .chat-message__body[_ngcontent-%COMP%]{flex-grow:1}.wrapper[_ngcontent-%COMP%]   .chat-message__selected-text[_ngcontent-%COMP%]{color:#6c6c6c;font-size:10px;margin:3px 0 3px 30px}.wrapper[_ngcontent-%COMP%]   .chat-message__text[_ngcontent-%COMP%]{padding:10px;background:#fff;border-radius:30px;cursor:pointer}.wrapper[_ngcontent-%COMP%]   .chat-message__text.dark-theme[_ngcontent-%COMP%]{background:#555}.wrapper[_ngcontent-%COMP%]   .chat-message__text-p[_ngcontent-%COMP%]{word-break:break-all}.wrapper[_ngcontent-%COMP%]   .chat-message__text--active[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .chat-message__text[_ngcontent-%COMP%]:hover{box-sizing:border-box;border:1px solid #9acd32}.wrapper[_ngcontent-%COMP%]   .chat-message__sub[_ngcontent-%COMP%]{text-align:right;font-size:10px;color:#6c6c6e;align-items:center}.wrapper[_ngcontent-%COMP%]   .chat-message__sub-reply[_ngcontent-%COMP%]{display:inline-block;margin-right:20px;border-radius:50%;width:15px;height:15px;background:#fff;color:#666;text-align:center}.wrapper[_ngcontent-%COMP%]   .chat-message__sub-author[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .chat-message__sub-created[_ngcontent-%COMP%]{margin-right:20px}.wrapper[_ngcontent-%COMP%]   .chat-message__sub-delete[_ngcontent-%COMP%]{margin-right:5px;background-color:initial;border:none}.wrapper[_ngcontent-%COMP%]   .chat-message__replay[_ngcontent-%COMP%]{padding-left:20px}.wrapper[_ngcontent-%COMP%]   .chat-form[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;height:80px;width:100%}.wrapper[_ngcontent-%COMP%]   .chat-form__status[_ngcontent-%COMP%]{margin:0;font-size:10px;height:20%;color:#6c6c6e}.wrapper[_ngcontent-%COMP%]   .chat-form__form[_ngcontent-%COMP%]{height:80%}.wrapper[_ngcontent-%COMP%]   .chat-form__textarea[_ngcontent-%COMP%]{height:100%;width:100%;box-sizing:border-box}.wrapper[_ngcontent-%COMP%]   .chat-form__textarea.dark-theme[_ngcontent-%COMP%]{background:#555;color:#fff}.svg__icon[_ngcontent-%COMP%]{cursor:pointer}.svg__icon[_ngcontent-%COMP%]:hover{color:#3f51b5}"],changeDetection:0}),t})();function rr(t,e){if(1&t){const t=o.Tb();o.Sb(0,"li",14),o.Zb("click",function(){o.qc(t);const n=e.$implicit;return o.dc(3).onClickMessage(n)}),o.zc(1),o.Rb()}if(2&t){const t=e.$implicit;o.Bb(1),o.Cc(" ",t.line,"-",t.message,"(",t.target,") ")}}function ir(t,e){if(1&t&&(o.Qb(0),o.zc(1),o.Sb(2,"ul",12),o.xc(3,rr,2,3,"li",13),o.Rb(),o.Pb()),2&t){const t=o.dc(2);o.Bb(1),o.Bc(" ","count: "+t.textLintErrors.length," "),o.Bb(2),o.jc("ngForOf",t.textLintErrors)}}function or(t,e){1&t&&(o.Sb(0,"p"),o.zc(1,"no text lint errors"),o.Rb())}function ar(t,e){if(1&t&&(o.Qb(0),o.xc(1,ir,4,2,"ng-container",9),o.xc(2,or,2,0,"ng-template",null,11,o.yc),o.Pb()),2&t){const t=o.oc(3),e=o.dc();o.Bb(1),o.jc("ngIf",e.textLintErrors.length>0)("ngIfElse",t)}}function sr(t,e){1&t&&(o.Qb(0),o.Sb(1,"p"),o.zc(2,"textlint something went wrong"),o.Rb(),o.Sb(3,"p"),o.zc(4,"please try again latter"),o.Rb(),o.Pb())}function cr(t,e){1&t&&(o.Sb(0,"p"),o.zc(1,"try text lint"),o.Rb())}function lr(t,e){if(1&t&&(o.xc(0,sr,5,0,"ng-container",9),o.xc(1,cr,2,0,"ng-template",null,15,o.yc)),2&t){const t=o.oc(2),e=o.dc();o.jc("ngIf",e.textLintRaisedError)("ngIfElse",t)}}let ur=(()=>{class t{constructor(t,e,n){this.scriptService=t,this.cd=e,this.editorService=n,this.unsubscriber$=new m.a,this.textLintRaisedError=!1}ngOnInit(){this.editorService.initialized$.pipe(Object(hn.a)(),Object(C.a)(this.unsubscriber$)).subscribe(()=>{this.textLint()})}ngOnDestroy(){this.unsubscriber$.next()}textLint(){const t=this.editorService.getText();if(!t)return;this.removeOldLint();const e=this.scriptService.loadingStateChange();this.scriptService.textLint(t).pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{const n=this.editorService.applyTextLintResult(t);this.textLintErrors=n.messages,this.cd.markForCheck(),this.scriptService.loadingStateChange(e)},t=>{this.textLintRaisedError=!0,this.textLintErrors=void 0,this.cd.markForCheck(),this.scriptService.loadingStateChange(e)})}removeOldLint(){this.editorService.removeTextLintResult()}onClickMessage(t){this.editorService.focusTextLintMessage(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(kn),o.Mb(o.h),o.Mb(jn))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-console"]],inputs:{darkTheme:"darkTheme"},decls:14,vars:7,consts:[[1,"wrapper"],["mat-stretch-tabs",""],["label","chat"],[3,"darkTheme"],["label","textlint"],[1,"textlint-result"],["type","button",1,"textlint-result__button","textlint-result__show-button",3,"click"],["type","button",1,"textlint-result__button","textlint-result__remove-button",3,"click"],[1,"textlint-result__content"],[4,"ngIf","ngIfElse"],["NoResult",""],["NoTextLintErrors",""],[1,"textlint-detail"],["class","textlint-detail__li",3,"click",4,"ngFor","ngForOf"],[1,"textlint-detail__li",3,"click"],["tryTextLint",""]],template:function(t,e){if(1&t&&(o.Sb(0,"div",0),o.Sb(1,"mat-tab-group",1),o.Sb(2,"mat-tab",2),o.Nb(3,"app-chat",3),o.Rb(),o.Sb(4,"mat-tab",4),o.Sb(5,"div",5),o.Sb(6,"button",6),o.Zb("click",function(){return e.textLint()}),o.zc(7," Refresh "),o.Rb(),o.Sb(8,"button",7),o.Zb("click",function(){return e.removeOldLint()}),o.zc(9," Remove "),o.Rb(),o.Sb(10,"div",8),o.xc(11,ar,4,2,"ng-container",9),o.xc(12,lr,3,2,"ng-template",null,10,o.yc),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&t){const t=o.oc(13);o.Eb("dark-theme",e.darkTheme),o.Bb(3),o.jc("darkTheme",e.darkTheme),o.Bb(7),o.Eb("dark-theme",e.darkTheme),o.Bb(1),o.jc("ngIf",!!e.textLintErrors)("ngIfElse",t)}},directives:[ze,ke,nr,i.l,i.k],styles:[".wrapper[_ngcontent-%COMP%]{border:1px solid #000;padding:5px}.wrapper[_ngcontent-%COMP%]:not(.dark-theme){background-color:#dcdde0}.wrapper[_ngcontent-%COMP%]   .textlint-result__button[_ngcontent-%COMP%]{background-color:#777;color:#fff;cursor:pointer;padding:18px;border:none;text-align:left;outline:none;font-size:15px}.wrapper[_ngcontent-%COMP%]   .textlint-result__button[_ngcontent-%COMP%]:hover{background-color:#555}.wrapper[_ngcontent-%COMP%]   .textlint-result__remove-button[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .textlint-result__show-button[_ngcontent-%COMP%]{width:50%}.wrapper[_ngcontent-%COMP%]   .textlint-result__content[_ngcontent-%COMP%]{padding:0 18px;overflow:hidden}.wrapper[_ngcontent-%COMP%]   .textlint-result__content[_ngcontent-%COMP%]:not(.dark-theme){background:#f1f1f1}.wrapper[_ngcontent-%COMP%]   .textlint-result__content[_ngcontent-%COMP%]   .textlint-detail__li[_ngcontent-%COMP%]{padding-bottom:5px}.wrapper[_ngcontent-%COMP%]   .textlint-result__content[_ngcontent-%COMP%]   .textlint-detail__li[_ngcontent-%COMP%]:hover{border-bottom:1px solid #000;cursor:pointer}"],changeDetection:0}),t})();function hr(t,e){1&t&&(o.Sb(0,"mat-error"),o.zc(1," Title is "),o.Sb(2,"strong"),o.zc(3,"required"),o.Rb(),o.Rb())}function dr(t,e){if(1&t&&(o.Sb(0,"div",22),o.Sb(1,"p"),o.zc(2),o.ec(3,"date"),o.Rb(),o.Rb()),2&t){const t=o.dc(2);o.Bb(2),o.Bc("last update: ",o.gc(3,1,t.script.updated,"short"),"")}}function fr(t,e){if(1&t){const t=o.Tb();o.Sb(0,"div",22),o.Sb(1,"button",3),o.Zb("click",function(){return o.qc(t),o.dc(2).openHistoryDialog()}),o.zc(2),o.Rb(),o.Rb()}if(2&t){const t=o.dc(2);o.Bb(2),o.Bc(" Histories(",t.script.revisions.length,") ")}}function pr(t,e){1&t&&(o.Sb(0,"div",23),o.Nb(1,"div",24),o.Rb())}function br(t,e){1&t&&(o.Sb(0,"div",23),o.Nb(1,"div",25),o.Rb())}function gr(t,e){if(1&t){const t=o.Tb();o.Sb(0,"div",4),o.Sb(1,"div",5),o.Sb(2,"form",6),o.Sb(3,"div",7),o.Sb(4,"mat-form-field",8),o.Sb(5,"mat-label"),o.zc(6,"Title"),o.Rb(),o.Nb(7,"input",9),o.xc(8,hr,4,0,"mat-error",10),o.Rb(),o.Rb(),o.Sb(9,"div",7),o.Sb(10,"div",11),o.Zb("click",function(){return o.qc(t),o.dc().save()}),o.Sb(11,"mat-icon",12),o.zc(12,"save"),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(13,"div",6),o.Sb(14,"div",11),o.Zb("click",function(){return o.qc(t),o.dc().deleteScript()}),o.Sb(15,"mat-icon",12),o.zc(16,"inventory_2"),o.Rb(),o.Rb(),o.Rb(),o.Sb(17,"div",6),o.Sb(18,"div",11),o.Zb("click",function(){return o.qc(t),o.dc().copy2Clipboard()}),o.Sb(19,"mat-icon",12),o.zc(20,"content_copy"),o.Rb(),o.Rb(),o.Rb(),o.Sb(21,"div",6),o.Sb(22,"div",11),o.Zb("click",function(){return o.qc(t),o.dc().undo()}),o.Sb(23,"mat-icon",12),o.zc(24,"undo"),o.Rb(),o.Rb(),o.Rb(),o.Sb(25,"div",6),o.Sb(26,"div",11),o.Zb("click",function(){return o.qc(t),o.dc().redo()}),o.Sb(27,"mat-icon",12),o.zc(28,"redo"),o.Rb(),o.Rb(),o.Rb(),o.Sb(29,"div",6),o.Sb(30,"button",3),o.Zb("click",function(){return o.qc(t),o.dc().navigateSubtitle()}),o.zc(31," To subtitle "),o.Rb(),o.Rb(),o.xc(32,dr,4,4,"div",13),o.xc(33,fr,3,1,"div",13),o.Rb(),o.Sb(34,"main",14),o.Sb(35,"div",15),o.Sb(36,"app-tool-box",16),o.Zb("toggleSubtitleButton",function(){o.qc(t);const e=o.dc();return e.showSubtitleLine.toggle=!e.showSubtitleLine.toggle}),o.Rb(),o.Rb(),o.Sb(37,"div",17),o.xc(38,pr,2,0,"div",18),o.xc(39,br,2,0,"div",18),o.Sb(40,"quill-editor",19),o.Zb("onEditorCreated",function(e){return o.qc(t),o.dc().onEditorCreated(e)})("onContentChanged",function(e){return o.qc(t),o.dc().onContentChanged(e)})("onSelectionChanged",function(e){return o.qc(t),o.dc().onSelectionChanged(e)}),o.Rb(),o.Sb(41,"div",20),o.Nb(42,"app-console",21),o.Rb(),o.Rb(),o.Nb(43,"app-balloon",21),o.Rb(),o.Rb()}if(2&t){const t=o.dc();o.Eb("dark-theme",t.darkTheme),o.Bb(7),o.jc("formControl",t.titleFormControl),o.Bb(1),o.jc("ngIf",t.titleFormControl.hasError("required")),o.Bb(24),o.jc("ngIf",t.script.updated),o.Bb(1),o.jc("ngIf",t.script.updated),o.Bb(2),o.Eb("dark-theme",t.darkTheme),o.Bb(3),o.jc("ngIf",t.showSubtitleLine.toggle&&t.showSubtitleLine.single),o.Bb(1),o.jc("ngIf",t.showSubtitleLine.toggle&&t.showSubtitleLine.double),o.Bb(1),o.Eb("dark-theme",t.darkTheme),o.Bb(2),o.jc("darkTheme",t.darkTheme),o.Bb(1),o.jc("darkTheme",t.darkTheme)}}function _r(t,e){1&t&&(o.Sb(0,"div",26),o.zc(1,"loading"),o.Rb())}const mr=[{path:"",component:an},{path:":id",component:(()=>{class t{constructor(t,e,n,r,i,o,s,c,l){this.route=t,this.router=e,this.cd=n,this.scriptService=r,this.renderer=i,this.editorService=o,this.elementRef=s,this.appService=c,this.dialog=l,this.blurred=!1,this.focused=!1,this.showSubtitleLine={toggle:!0,single:!0,double:!0},this.loading=!1,this.darkTheme=!1,this.titleFormControl=new a.e("",[a.u.required]),this.consolePositionTop=0,this.initialized$=new ln.a(1),this.unsubscriber$=new m.a,this.autoSave$=new m.a,this.appService.darkTheme$.pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.darkTheme=t,this.cd.markForCheck()}),this.scriptService.loadingState$.pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.loading=t,this.cd.markForCheck()});const u=this.route.snapshot.paramMap.get("id");"new"===u?(this.script=new gn,this.initialScript=new gn,this.cd.markForCheck(),this.initialized$.next()):this.scriptService.getScript(parseInt(u,10)).pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.script=t,this.initialScript=Object(cn.cloneDeep)(this.script),this.titleFormControl.setValue(this.script.title),this.cd.markForCheck(),this.initialized$.next()}),this.initialized$.pipe(Object(un.a)(()=>this.autoSave$),Object(w.a)(3e4),Object(C.a)(this.unsubscriber$)).subscribe(()=>{this.save()})}onEditorCreated(t){this.initialized$.pipe(Object(hn.a)(),Object(C.a)(this.unsubscriber$)).subscribe(()=>{const e=t.getContents();e.ops=this.script.deltaOps,this.editorService.initialize(this.script.id,t,e)})}onContentChanged(t){this.editorService.onContentChanged(t),this.autoSave$.next()}onSelectionChanged(t){this.editorService.onSelectionChange(t)}ngOnInit(){}ngOnDestroy(){this.unsubscriber$.next()}ngAfterViewInit(){this.initialized$.pipe(Object(hn.a)(),Object(C.a)(this.unsubscriber$)).subscribe(()=>Object(sn.a)(this,void 0,void 0,function*(){this.cd.detectChanges(),this.registerEditorEventListener(),this.consolePositionTop=document.querySelector(".tool-box__wrapper").getBoundingClientRect().height})),Object(Jt.a)(window,"resize").pipe(Object(kt.a)(()=>this.editorComponent.elementRef.nativeElement.getBoundingClientRect().width),Object(O.a)(),Object(w.a)(300),Object(C.a)(this.unsubscriber$)).subscribe(t=>{t>900?(this.showSubtitleLine.single=!0,this.showSubtitleLine.double=!0):t>500?(this.showSubtitleLine.single=!0,this.showSubtitleLine.double=!1):(this.showSubtitleLine.single=!1,this.showSubtitleLine.double=!1),this.cd.markForCheck()})}canDeactivate(){return this.script.deltaOps=this.editorService.getDelta(),!!this.script.isEqual(this.initialScript)||window.confirm("Are you sure you want to leave this page before you save this script")}save(){this.script.title=this.titleFormControl.value,this.script.deltaOps=this.editorService.getDelta(),0!==this.script.deltaOps.length&&this.script.title&&(this.script.isEqual(this.initialScript)||(this.script.id?this.scriptService.putScript(this.script).pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.script=t,this.initialScript=Object(cn.cloneDeep)(t),this.cd.markForCheck()}):this.scriptService.postScript(this.script).pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.script=t,this.initialScript=Object(cn.cloneDeep)(t),this.cd.markForCheck(),this.router.navigate([`../${t.id}`],{relativeTo:this.route})})))}copy2Clipboard(){this.renderer.createElement("div").innerHTML=this.script.deltaOps.map(t=>t.insert).join("");const t=document.createElement("textarea");t.value=this.editorService.getText(),document.body.appendChild(t),t.select(),t.setSelectionRange(0,9999),document.execCommand("copy"),document.body.removeChild(t)}deleteScript(){window.confirm("Are you sure you want to delete")&&this.scriptService.deleteScript(this.script.id).pipe(Object(C.a)(this.unsubscriber$)).subscribe(()=>{this.router.navigate(["../"],{relativeTo:this.route})})}scrollTop(){window.scroll({top:0,behavior:"smooth"}),this.editorComponent.elementRef.nativeElement.querySelector(".ql-editor").scrollTop={top:0,behavior:"smooth"}}navigateSubtitle(){const t=this.editorService.getDelta().reduce((t,e)=>{var n;return(null===(n=e.attributes)||void 0===n?void 0:n.strike)||(t+=e.insert),t},"");localStorage.setItem(bn.a.subtitleLocalStorageKey,t),this.router.navigate(["/subtitle"])}undo(){this.editorService.undo()}redo(){this.editorService.redo()}openHistoryDialog(){this.dialog.open(Pn,{data:{script:this.script,darkTheme:this.darkTheme},height:"80vh",width:"80vh"}).afterClosed().subscribe(t=>{t&&this.editorService.setDelta(t.deltaOps)})}registerEditorEventListener(){Object(Jt.a)(this.editorComponent.elementRef.nativeElement,"mouseup").pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.balloonComponent.selectionChange(t);const e=t.target.closest("[data-comment-uuid]");if(e){const t=e.getAttribute("data-comment-uuid");this.editorService.focusChatMessage(t)}}),Object(Jt.a)(this.editorComponent.elementRef.nativeElement,"keydown").pipe(Object(C.a)(this.unsubscriber$)).subscribe(t=>{if(t.ctrlKey)switch(t.key){case"z":t.shiftKey?this.editorService.undo():this.editorService.redo(),t.preventDefault();break;case"s":this.autoSave$.next(),this.save(),t.preventDefault()}}),this.editorService.editorFocus$.pipe(Object(C.a)(this.unsubscriber$)).subscribe(({uuid:t,type:e})=>{let n;switch(e){case"textlint":n=this.elementRef.nativeElement.querySelector(`[data-lint-uuid="${t}"]`);break;case"comment":n=this.elementRef.nativeElement.querySelector(`[data-comment-uuid="${t}"]`)}if(!n)return;this.renderer.addClass(n,"focused");const r=this.editorComponent.elementRef.nativeElement.querySelector(".ql-editor"),i=n.offsetTop+r.offsetTop-200;r.scroll({top:i<200?0:i,behavior:"smooth"}),Object(Jt.a)(document,"click").pipe(t=>t.lift(new fn(1)),Object(S.a)(t=>!n.contains(t.target)),Object(hn.a)(),Object(C.a)(this.unsubscriber$)).subscribe(t=>{this.renderer.removeClass(n,"focused")})})}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(tn.a),o.Mb(tn.b),o.Mb(o.h),o.Mb(kn),o.Mb(o.F),o.Mb(jn),o.Mb(o.l),o.Mb(wn.a),o.Mb(h.b))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-script"]],viewQuery:function(t,e){if(1&t&&(o.Dc(Rn,1),o.Dc(Ve.a,1)),2&t){let t;o.nc(t=o.ac())&&(e.balloonComponent=t.first),o.nc(t=o.ac())&&(e.editorComponent=t.first)}},features:[o.Ab([jn])],decls:5,vars:2,consts:[["class","wrapper",3,"dark-theme",4,"ngIf"],["class","loading-modal",4,"ngIf"],[1,"scroller"],["mat-raised-button","","color","primary",3,"click"],[1,"wrapper"],[1,"tool"],[1,"tool__item"],[1,"form__item"],["appearance","fill"],["matInput","",3,"formControl"],[4,"ngIf"],[3,"click"],[1,"svg__icon"],["class","tool__item tool__item--right",4,"ngIf"],[1,"main"],[1,"tool-box__wrapper"],[3,"toggleSubtitleButton"],[1,"editor"],["class","editor__subtitle",4,"ngIf"],[1,"editor__main",3,"onEditorCreated","onContentChanged","onSelectionChanged"],[1,"console__wrapper"],[3,"darkTheme"],[1,"tool__item","tool__item--right"],[1,"editor__subtitle"],[1,"editor__subtitle-line"],[1,"editor__subtitle-double-line"],[1,"loading-modal"]],template:function(t,e){1&t&&(o.xc(0,gr,44,14,"div",0),o.xc(1,_r,2,0,"div",1),o.Sb(2,"div",2),o.Sb(3,"button",3),o.Zb("click",function(){return e.scrollTop()}),o.zc(4,"\u2191"),o.Rb(),o.Rb()),2&t&&(o.jc("ngIf",!!e.script),o.Bb(1),o.jc("ngIf",e.loading))},directives:[i.l,s.b,a.v,a.o,a.p,A.c,A.f,f.b,a.c,a.n,a.f,d.a,Fn,Ve.a,ur,Rn,A.b],pipes:[i.e],styles:['.cdk-global-overlay-wrapper[_ngcontent-%COMP%], .cdk-overlay-container[_ngcontent-%COMP%]{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container[_ngcontent-%COMP%]{position:fixed;z-index:1000}.cdk-overlay-container[_ngcontent-%COMP%]:empty{display:none}.cdk-global-overlay-wrapper[_ngcontent-%COMP%], .cdk-overlay-pane[_ngcontent-%COMP%]{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane[_ngcontent-%COMP%]{pointer-events:auto;box-sizing:border-box;max-width:100%;max-height:100%}.cdk-overlay-backdrop[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:1}.cdk-high-contrast-active[_ngcontent-%COMP%]   .cdk-overlay-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:.6}.cdk-overlay-dark-backdrop[_ngcontent-%COMP%]{background:rgba(0,0,0,.32)}.cdk-overlay-transparent-backdrop[_ngcontent-%COMP%], .cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:0}.cdk-overlay-connected-position-bounding-box[_ngcontent-%COMP%]{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock[_ngcontent-%COMP%]{position:fixed;width:100%;overflow-y:scroll}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}body.dark-theme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}body.dark-theme[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#607d8b}.tool[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.tool__item[_ngcontent-%COMP%]{margin-right:20px}.tool__item--right[_ngcontent-%COMP%]{margin-left:auto}form[_ngcontent-%COMP%]{display:flex}form[_ngcontent-%COMP%]   .form__item[_ngcontent-%COMP%]{margin-right:20px}.wrapper[_ngcontent-%COMP%]{margin:10px}.tool-box__wrapper[_ngcontent-%COMP%]{height:60px;position:sticky;top:0;z-index:2;box-sizing:border-box;background:#fff}.tool-box__wrapper.dark-theme[_ngcontent-%COMP%]{background:#303030}.editor[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}@media screen and (min-width:400px){.editor[_ngcontent-%COMP%]{flex-wrap:nowrap}}.editor__subtitle[_ngcontent-%COMP%]{align-self:stretch;position:relative}.editor__subtitle-line[_ngcontent-%COMP%]{left:440px}.editor__subtitle-double-line[_ngcontent-%COMP%], .editor__subtitle-line[_ngcontent-%COMP%]{position:absolute;width:3px;height:100%;background-color:rgba(255,0,0,.2)}.editor__subtitle-double-line[_ngcontent-%COMP%]{left:850px}  .editor__main{border:1px solid #000;white-space:pre-line}@media screen and (min-width:400px){  .editor__main{flex:70%;width:auto}}  .editor__main .ql-toolbar{position:sticky;top:60px;z-index:1;background:#fff}  .editor__main .ql-container{height:calc(100vh - 60px * 2)}  .editor__main.dark-theme .ql-toolbar{background:#303030}  .editor__main [data-comment-uuid]{position:relative;border-bottom:2px dotted green;padding-bottom:2px}  .editor__main [data-comment-uuid]:hover:after{content:attr(data-comment-message) "";position:absolute;top:20px;left:10px;z-index:25;background-color:silver;box-shadow:0 0 10px;width:200px;border:1px solid green}  .editor__main [data-comment-uuid].focused{border:5px solid green}  .editor__main [data-lint-uuid]{position:relative;border-bottom:2px dotted red}  .editor__main [data-lint-uuid]:hover:after{content:attr(data-lint-message) "";position:absolute;bottom:20px;left:10px;z-index:25;background-color:silver;box-shadow:0 0 10px;width:200px;border:1px solid red}  .editor__main [data-lint-uuid].focused{border:5px solid red}  .editor__main.dark-theme [data-comment-uuid]:hover:after,   .editor__main.dark-theme [data-lint-uuid]:hover:after{background-color:#303030}  .editor__main .ql-editor{padding-top:30px}  .editor__main .ql-editor p{margin:0}  .editor__main .text--highlighted{background-color:red;opacity:1}  .editor__main .text--underlined{border-bottom:2px solid orange}  .editor__main .text__tooltip-relative{position:relative}  .editor__main .text__tooltip-relative:hover .text__tooltip-absolute{display:inline-block}  .editor__main .text__tooltip-absolute{position:absolute;display:none;padding:2px;background-color:orange;left:20px;bottom:20px}.editor[_ngcontent-%COMP%]   .console__wrapper[_ngcontent-%COMP%]{width:100%;order:-1}@media screen and (min-width:400px){.editor[_ngcontent-%COMP%]   .console__wrapper[_ngcontent-%COMP%]{order:0;flex:30%;width:auto;height:100%;position:sticky;top:60px}}.loading-modal[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:150px;color:red;opacity:.7;z-index:1000}.scroller[_ngcontent-%COMP%]{position:fixed;bottom:10px;left:10px}.svg__icon[_ngcontent-%COMP%]{cursor:pointer}.svg__icon[_ngcontent-%COMP%]:hover{color:#3f51b5}'],changeDetection:0}),t})(),canDeactivate:[en]}];let vr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({imports:[[tn.d.forChild(mr)],tn.d]}),t})();Ze.a.register(Qe),Ze.a.register(Je),Ze.a.register("modules/cursors",Ke.a);let yr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({providers:[{provide:at,useValue:ot}],imports:[[i.c,mt,a.s,a.j,A.e,f.c,vr,s.c,We,Ye.a,Xt.b,d.b,Yt,yt.b,h.f,vt.c,Ve.b.forRoot({modules:{cursors:!0,toolbar:[["bold","italic","underline","strike"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}]]}})]]}),t})()},LvDl:function(t,e,n){(function(t){var r;(function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",c=32,l=128,u=1/0,h=9007199254740991,d=NaN,f=4294967295,p=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],b="[object Arguments]",g="[object Array]",_="[object Boolean]",m="[object Date]",v="[object Error]",y="[object Function]",x="[object GeneratorFunction]",C="[object Map]",w="[object Number]",O="[object Object]",k="[object Promise]",S="[object RegExp]",M="[object Set]",j="[object String]",R="[object Symbol]",A="[object WeakMap]",P="[object ArrayBuffer]",E="[object DataView]",I="[object Float32Array]",T="[object Float64Array]",L="[object Int8Array]",z="[object Int16Array]",D="[object Int32Array]",B="[object Uint8Array]",F="[object Uint8ClampedArray]",N="[object Uint16Array]",$="[object Uint32Array]",q=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,V=/&(?:amp|lt|gt|quot|#39);/g,U=/[&<>"']/g,Z=RegExp(V.source),G=RegExp(U.source),K=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(et.source),rt=/^\s+/,it=/\s/,ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,at=/\{\n\/\* \[wrapped with (.+)\] \*/,st=/,? & /,ct=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lt=/[()=,{}\[\]\/\s]/,ut=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dt=/\w*$/,ft=/^[-+]0x[0-9a-f]+$/i,pt=/^0b[01]+$/i,bt=/^\[object .+?Constructor\]$/,gt=/^0o[0-7]+$/i,_t=/^(?:0|[1-9]\d*)$/,mt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vt=/($^)/,yt=/['\n\r\u2028\u2029\\]/g,xt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ct="a-z\\xdf-\\xf6\\xf8-\\xff",wt="A-Z\\xc0-\\xd6\\xd8-\\xde",Ot="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",kt="["+Ot+"]",St="["+xt+"]",Mt="\\d+",jt="["+Ct+"]",Rt="[^\\ud800-\\udfff"+Ot+Mt+"\\u2700-\\u27bf"+Ct+wt+"]",At="\\ud83c[\\udffb-\\udfff]",Pt="[^\\ud800-\\udfff]",Et="(?:\\ud83c[\\udde6-\\uddff]){2}",It="[\\ud800-\\udbff][\\udc00-\\udfff]",Tt="["+wt+"]",Lt="(?:"+jt+"|"+Rt+")",zt="(?:"+Tt+"|"+Rt+")",Dt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Bt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ft="(?:"+St+"|"+At+")?",Nt="[\\ufe0e\\ufe0f]?",$t=Nt+Ft+"(?:\\u200d(?:"+[Pt,Et,It].join("|")+")"+Nt+Ft+")*",qt="(?:"+["[\\u2700-\\u27bf]",Et,It].join("|")+")"+$t,Ht="(?:"+[Pt+St+"?",St,Et,It,"[\\ud800-\\udfff]"].join("|")+")",Wt=RegExp("['\u2019]","g"),Vt=RegExp(St,"g"),Ut=RegExp(At+"(?="+At+")|"+Ht+$t,"g"),Zt=RegExp([Tt+"?"+jt+"+"+Dt+"(?="+[kt,Tt,"$"].join("|")+")",zt+"+"+Bt+"(?="+[kt,Tt+Lt,"$"].join("|")+")",Tt+"?"+Lt+"+"+Dt,Tt+"+"+Bt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Mt,qt].join("|"),"g"),Gt=RegExp("[\\u200d\\ud800-\\udfff"+xt+"\\ufe0e\\ufe0f]"),Kt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xt=-1,Qt={};Qt[I]=Qt[T]=Qt[L]=Qt[z]=Qt[D]=Qt[B]=Qt[F]=Qt[N]=Qt[$]=!0,Qt[b]=Qt[g]=Qt[P]=Qt[_]=Qt[E]=Qt[m]=Qt[v]=Qt[y]=Qt[C]=Qt[w]=Qt[O]=Qt[S]=Qt[M]=Qt[j]=Qt[A]=!1;var Jt={};Jt[b]=Jt[g]=Jt[P]=Jt[E]=Jt[_]=Jt[m]=Jt[I]=Jt[T]=Jt[L]=Jt[z]=Jt[D]=Jt[C]=Jt[w]=Jt[O]=Jt[S]=Jt[M]=Jt[j]=Jt[R]=Jt[B]=Jt[F]=Jt[N]=Jt[$]=!0,Jt[v]=Jt[y]=Jt[A]=!1;var te={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ee=parseFloat,ne=parseInt,re="object"==typeof global&&global&&global.Object===Object&&global,ie="object"==typeof self&&self&&self.Object===Object&&self,oe=re||ie||Function("return this")(),ae=e&&!e.nodeType&&e,se=ae&&"object"==typeof t&&t&&!t.nodeType&&t,ce=se&&se.exports===ae,le=ce&&re.process,ue=function(){try{return se&&se.require&&se.require("util").types||le&&le.binding&&le.binding("util")}catch(t){}}(),he=ue&&ue.isArrayBuffer,de=ue&&ue.isDate,fe=ue&&ue.isMap,pe=ue&&ue.isRegExp,be=ue&&ue.isSet,ge=ue&&ue.isTypedArray;function _e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function me(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function ve(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function ye(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function xe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Ce(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function we(t,e){return!(null==t||!t.length)&&Ie(t,e,0)>-1}function Oe(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function ke(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Se(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Me(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function je(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Re(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Ae=De("length");function Pe(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function Ee(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Ie(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Ee(t,Le,n)}function Te(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Le(t){return t!=t}function ze(t,e){var n=null==t?0:t.length;return n?Ne(t,e)/n:d}function De(t){return function(e){return null==e?i:e[t]}}function Be(t){return function(e){return null==t?i:t[e]}}function Fe(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function Ne(t,e){for(var n,r=-1,o=t.length;++r<o;){var a=e(t[r]);a!==i&&(n=n===i?a:n+a)}return n}function $e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function qe(t){return t?t.slice(0,sn(t)+1).replace(rt,""):t}function He(t){return function(e){return t(e)}}function We(t,e){return ke(e,function(e){return t[e]})}function Ve(t,e){return t.has(e)}function Ue(t,e){for(var n=-1,r=t.length;++n<r&&Ie(e,t[n],0)>-1;);return n}function Ze(t,e){for(var n=t.length;n--&&Ie(e,t[n],0)>-1;);return n}function Ge(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Ke=Be({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Ye=Be({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Xe(t){return"\\"+te[t]}function Qe(t){return Gt.test(t)}function Je(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function tn(t,e){return function(n){return t(e(n))}}function en(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==s||(t[n]=s,o[i++]=n)}return o}function nn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function rn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function on(t){return Qe(t)?function(t){for(var e=Ut.lastIndex=0;Ut.test(t);)++e;return e}(t):Ae(t)}function an(t){return Qe(t)?function(t){return t.match(Ut)||[]}(t):function(t){return t.split("")}(t)}function sn(t){for(var e=t.length;e--&&it.test(t.charAt(e)););return e}var cn=Be({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ln=function t(e){var n,r=(e=null==e?oe:ln.defaults(oe.Object(),e,ln.pick(oe,Yt))).Array,it=e.Date,xt=e.Error,Ct=e.Function,wt=e.Math,Ot=e.Object,kt=e.RegExp,St=e.String,Mt=e.TypeError,jt=r.prototype,Rt=Ot.prototype,At=e["__core-js_shared__"],Pt=Ct.prototype.toString,Et=Rt.hasOwnProperty,It=0,Tt=(n=/[^.]+$/.exec(At&&At.keys&&At.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Lt=Rt.toString,zt=Pt.call(Ot),Dt=oe._,Bt=kt("^"+Pt.call(Et).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ft=ce?e.Buffer:i,Nt=e.Symbol,$t=e.Uint8Array,qt=Ft?Ft.allocUnsafe:i,Ht=tn(Ot.getPrototypeOf,Ot),Ut=Ot.create,Gt=Rt.propertyIsEnumerable,te=jt.splice,re=Nt?Nt.isConcatSpreadable:i,ie=Nt?Nt.iterator:i,ae=Nt?Nt.toStringTag:i,se=function(){try{var t=co(Ot,"defineProperty");return t({},"",{}),t}catch(e){}}(),le=e.clearTimeout!==oe.clearTimeout&&e.clearTimeout,ue=it&&it.now!==oe.Date.now&&it.now,Ae=e.setTimeout!==oe.setTimeout&&e.setTimeout,Be=wt.ceil,un=wt.floor,hn=Ot.getOwnPropertySymbols,dn=Ft?Ft.isBuffer:i,fn=e.isFinite,pn=jt.join,bn=tn(Ot.keys,Ot),gn=wt.max,_n=wt.min,mn=it.now,vn=e.parseInt,yn=wt.random,xn=jt.reverse,Cn=co(e,"DataView"),wn=co(e,"Map"),On=co(e,"Promise"),kn=co(e,"Set"),Sn=co(e,"WeakMap"),Mn=co(Ot,"create"),jn=Sn&&new Sn,Rn={},An=Bo(Cn),Pn=Bo(wn),En=Bo(On),In=Bo(kn),Tn=Bo(Sn),Ln=Nt?Nt.prototype:i,zn=Ln?Ln.valueOf:i,Dn=Ln?Ln.toString:i;function Bn(t){if(es(t)&&!Wa(t)&&!(t instanceof qn)){if(t instanceof $n)return t;if(Et.call(t,"__wrapped__"))return Fo(t)}return new $n(t)}var Fn=function(){function t(){}return function(e){if(!ts(e))return{};if(Ut)return Ut(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function Nn(){}function $n(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function qn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Hn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Wn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Vn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Un(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Vn;++e<n;)this.add(t[e])}function Zn(t){var e=this.__data__=new Wn(t);this.size=e.size}function Gn(t,e){var n=Wa(t),r=!n&&Ha(t),i=!n&&!r&&Ga(t),o=!n&&!r&&!i&&ls(t),a=n||r||i||o,s=a?$e(t.length,St):[],c=s.length;for(var l in t)!e&&!Et.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||go(l,c))||s.push(l);return s}function Kn(t){var e=t.length;return e?t[Vr(0,e-1)]:i}function Yn(t,e){return Io(Si(t),or(e,0,t.length))}function Xn(t){return Io(Si(t))}function Qn(t,e,n){(n!==i&&!Na(t[e],n)||n===i&&!(e in t))&&rr(t,e,n)}function Jn(t,e,n){var r=t[e];Et.call(t,e)&&Na(r,n)&&(n!==i||e in t)||rr(t,e,n)}function tr(t,e){for(var n=t.length;n--;)if(Na(t[n][0],e))return n;return-1}function er(t,e,n,r){return ur(t,function(t,i,o){e(r,t,n(t),o)}),r}function nr(t,e){return t&&Mi(e,Ps(e),t)}function rr(t,e,n){"__proto__"==e&&se?se(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ir(t,e){for(var n=-1,o=e.length,a=r(o),s=null==t;++n<o;)a[n]=s?i:Ss(t,e[n]);return a}function or(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function ar(t,e,n,r,o,a){var s,c=1&e,l=2&e,u=4&e;if(n&&(s=o?n(t,r,o,a):n(t)),s!==i)return s;if(!ts(t))return t;var h=Wa(t);if(h){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Et.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!c)return Si(t,s)}else{var d=ho(t),f=d==y||d==x;if(Ga(t))return yi(t,c);if(d==O||d==b||f&&!o){if(s=l||f?{}:po(t),!c)return l?function(t,e){return Mi(t,uo(t),e)}(t,function(t,e){return t&&Mi(e,Es(e),t)}(s,t)):function(t,e){return Mi(t,lo(t),e)}(t,nr(s,t))}else{if(!Jt[d])return o?t:{};s=function(t,e,n){var r=t.constructor;switch(e){case P:return xi(t);case _:case m:return new r(+t);case E:return function(t,e){var n=e?xi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case I:case T:case L:case z:case D:case B:case F:case N:case $:return Ci(t,n);case C:return new r;case w:case j:return new r(t);case S:return function(t){var e=new t.constructor(t.source,dt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case M:return new r;case R:return zn?Ot(zn.call(t)):{}}}(t,d,c)}}a||(a=new Zn);var p=a.get(t);if(p)return p;a.set(t,s),as(t)?t.forEach(function(r){s.add(ar(r,e,n,r,t,a))}):ns(t)&&t.forEach(function(r,i){s.set(i,ar(r,e,n,i,t,a))});var g=h?i:(u?l?eo:to:l?Es:Ps)(t);return ve(g||t,function(r,i){g&&(r=t[i=r]),Jn(s,i,ar(r,e,n,i,t,a))}),s}function sr(t,e,n){var r=n.length;if(null==t)return!r;for(t=Ot(t);r--;){var o=n[r],a=t[o];if(a===i&&!(o in t)||!(0,e[o])(a))return!1}return!0}function cr(t,e,n){if("function"!=typeof t)throw new Mt(o);return Ro(function(){t.apply(i,n)},e)}function lr(t,e,n,r){var i=-1,o=we,a=!0,s=t.length,c=[],l=e.length;if(!s)return c;n&&(e=ke(e,He(n))),r?(o=Oe,a=!1):e.length>=200&&(o=Ve,a=!1,e=new Un(e));t:for(;++i<s;){var u=t[i],h=null==n?u:n(u);if(u=r||0!==u?u:0,a&&h==h){for(var d=l;d--;)if(e[d]===h)continue t;c.push(u)}else o(e,h,r)||c.push(u)}return c}Bn.templateSettings={escape:K,evaluate:Y,interpolate:X,variable:"",imports:{_:Bn}},(Bn.prototype=Nn.prototype).constructor=Bn,($n.prototype=Fn(Nn.prototype)).constructor=$n,(qn.prototype=Fn(Nn.prototype)).constructor=qn,Hn.prototype.clear=function(){this.__data__=Mn?Mn(null):{},this.size=0},Hn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Hn.prototype.get=function(t){var e=this.__data__;if(Mn){var n=e[t];return n===a?i:n}return Et.call(e,t)?e[t]:i},Hn.prototype.has=function(t){var e=this.__data__;return Mn?e[t]!==i:Et.call(e,t)},Hn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Mn&&e===i?a:e,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(t){var e=this.__data__,n=tr(e,t);return!(n<0||(n==e.length-1?e.pop():te.call(e,n,1),--this.size,0))},Wn.prototype.get=function(t){var e=this.__data__,n=tr(e,t);return n<0?i:e[n][1]},Wn.prototype.has=function(t){return tr(this.__data__,t)>-1},Wn.prototype.set=function(t,e){var n=this.__data__,r=tr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Vn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(wn||Wn),string:new Hn}},Vn.prototype.delete=function(t){var e=ao(this,t).delete(t);return this.size-=e?1:0,e},Vn.prototype.get=function(t){return ao(this,t).get(t)},Vn.prototype.has=function(t){return ao(this,t).has(t)},Vn.prototype.set=function(t,e){var n=ao(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Un.prototype.add=Un.prototype.push=function(t){return this.__data__.set(t,a),this},Un.prototype.has=function(t){return this.__data__.has(t)},Zn.prototype.clear=function(){this.__data__=new Wn,this.size=0},Zn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Zn.prototype.get=function(t){return this.__data__.get(t)},Zn.prototype.has=function(t){return this.__data__.has(t)},Zn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!wn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Vn(r)}return n.set(t,e),this.size=n.size,this};var ur=Ai(mr),hr=Ai(vr,!0);function dr(t,e){var n=!0;return ur(t,function(t,r,i){return n=!!e(t,r,i)}),n}function fr(t,e,n){for(var r=-1,o=t.length;++r<o;){var a=t[r],s=e(a);if(null!=s&&(c===i?s==s&&!cs(s):n(s,c)))var c=s,l=a}return l}function pr(t,e){var n=[];return ur(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function br(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=bo),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?br(s,e-1,n,r,i):Se(i,s):r||(i[i.length]=s)}return i}var gr=Pi(),_r=Pi(!0);function mr(t,e){return t&&gr(t,e,Ps)}function vr(t,e){return t&&_r(t,e,Ps)}function yr(t,e){return Ce(e,function(e){return Xa(t[e])})}function xr(t,e){for(var n=0,r=(e=gi(e,t)).length;null!=t&&n<r;)t=t[Do(e[n++])];return n&&n==r?t:i}function Cr(t,e,n){var r=e(t);return Wa(t)?r:Se(r,n(t))}function wr(t){return null==t?t===i?"[object Undefined]":"[object Null]":ae&&ae in Ot(t)?function(t){var e=Et.call(t,ae),n=t[ae];try{t[ae]=i;var r=!0}catch(a){}var o=Lt.call(t);return r&&(e?t[ae]=n:delete t[ae]),o}(t):function(t){return Lt.call(t)}(t)}function Or(t,e){return t>e}function kr(t,e){return null!=t&&Et.call(t,e)}function Sr(t,e){return null!=t&&e in Ot(t)}function Mr(t,e,n){for(var o=n?Oe:we,a=t[0].length,s=t.length,c=s,l=r(s),u=1/0,h=[];c--;){var d=t[c];c&&e&&(d=ke(d,He(e))),u=_n(d.length,u),l[c]=!n&&(e||a>=120&&d.length>=120)?new Un(c&&d):i}d=t[0];var f=-1,p=l[0];t:for(;++f<a&&h.length<u;){var b=d[f],g=e?e(b):b;if(b=n||0!==b?b:0,!(p?Ve(p,g):o(h,g,n))){for(c=s;--c;){var _=l[c];if(!(_?Ve(_,g):o(t[c],g,n)))continue t}p&&p.push(g),h.push(b)}}return h}function jr(t,e,n){var r=null==(t=ko(t,e=gi(e,t)))?t:t[Do(Yo(e))];return null==r?i:_e(r,t,n)}function Rr(t){return es(t)&&wr(t)==b}function Ar(t,e,n,r,o){return t===e||(null==t||null==e||!es(t)&&!es(e)?t!=t&&e!=e:function(t,e,n,r,o,a){var s=Wa(t),c=Wa(e),l=s?g:ho(t),u=c?g:ho(e),h=(l=l==b?O:l)==O,d=(u=u==b?O:u)==O,f=l==u;if(f&&Ga(t)){if(!Ga(e))return!1;s=!0,h=!1}if(f&&!h)return a||(a=new Zn),s||ls(t)?Qi(t,e,n,r,o,a):function(t,e,n,r,i,o,a){switch(n){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case P:return!(t.byteLength!=e.byteLength||!o(new $t(t),new $t(e)));case _:case m:case w:return Na(+t,+e);case v:return t.name==e.name&&t.message==e.message;case S:case j:return t==e+"";case C:var s=Je;case M:if(s||(s=nn),t.size!=e.size&&!(1&r))return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var l=Qi(s(t),s(e),r,i,o,a);return a.delete(t),l;case R:if(zn)return zn.call(t)==zn.call(e)}return!1}(t,e,l,n,r,o,a);if(!(1&n)){var p=h&&Et.call(t,"__wrapped__"),y=d&&Et.call(e,"__wrapped__");if(p||y){var x=p?t.value():t,k=y?e.value():e;return a||(a=new Zn),o(x,k,n,r,a)}}return!!f&&(a||(a=new Zn),function(t,e,n,r,o,a){var s=1&n,c=to(t),l=c.length;if(l!=to(e).length&&!s)return!1;for(var u=l;u--;){var h=c[u];if(!(s?h in e:Et.call(e,h)))return!1}var d=a.get(t),f=a.get(e);if(d&&f)return d==e&&f==t;var p=!0;a.set(t,e),a.set(e,t);for(var b=s;++u<l;){var g=t[h=c[u]],_=e[h];if(r)var m=s?r(_,g,h,e,t,a):r(g,_,h,t,e,a);if(!(m===i?g===_||o(g,_,n,r,a):m)){p=!1;break}b||(b="constructor"==h)}if(p&&!b){var v=t.constructor,y=e.constructor;v==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(p=!1)}return a.delete(t),a.delete(e),p}(t,e,n,r,o,a))}(t,e,n,r,Ar,o))}function Pr(t,e,n,r){var o=n.length,a=o,s=!r;if(null==t)return!a;for(t=Ot(t);o--;){var c=n[o];if(s&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++o<a;){var l=(c=n[o])[0],u=t[l],h=c[1];if(s&&c[2]){if(u===i&&!(l in t))return!1}else{var d=new Zn;if(r)var f=r(u,h,l,t,e,d);if(!(f===i?Ar(h,u,3,r,d):f))return!1}}return!0}function Er(t){return!(!ts(t)||(e=t,Tt&&Tt in e))&&(Xa(t)?Bt:bt).test(Bo(t));var e}function Ir(t){return"function"==typeof t?t:null==t?rc:"object"==typeof t?Wa(t)?Br(t[0],t[1]):Dr(t):dc(t)}function Tr(t){if(!xo(t))return bn(t);var e=[];for(var n in Ot(t))Et.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Lr(t,e){return t<e}function zr(t,e){var n=-1,i=Ua(t)?r(t.length):[];return ur(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function Dr(t){var e=so(t);return 1==e.length&&e[0][2]?wo(e[0][0],e[0][1]):function(n){return n===t||Pr(n,t,e)}}function Br(t,e){return mo(t)&&Co(e)?wo(Do(t),e):function(n){var r=Ss(n,t);return r===i&&r===e?Ms(n,t):Ar(e,r,3)}}function Fr(t,e,n,r,o){t!==e&&gr(e,function(a,s){if(o||(o=new Zn),ts(a))!function(t,e,n,r,o,a,s){var c=Mo(t,n),l=Mo(e,n),u=s.get(l);if(u)Qn(t,n,u);else{var h=a?a(c,l,n+"",t,e,s):i,d=h===i;if(d){var f=Wa(l),p=!f&&Ga(l),b=!f&&!p&&ls(l);h=l,f||p||b?Wa(c)?h=c:Za(c)?h=Si(c):p?(d=!1,h=yi(l,!0)):b?(d=!1,h=Ci(l,!0)):h=[]:is(l)||Ha(l)?(h=c,Ha(c)?h=_s(c):ts(c)&&!Xa(c)||(h=po(l))):d=!1}d&&(s.set(l,h),o(h,l,r,a,s),s.delete(l)),Qn(t,n,h)}}(t,e,s,n,Fr,r,o);else{var c=r?r(Mo(t,s),a,s+"",t,e,o):i;c===i&&(c=a),Qn(t,s,c)}},Es)}function Nr(t,e){var n=t.length;if(n)return go(e+=e<0?n:0,n)?t[e]:i}function $r(t,e,n){e=e.length?ke(e,function(t){return Wa(t)?function(e){return xr(e,1===t.length?t[0]:t)}:t}):[rc];var r=-1;return e=ke(e,He(oo())),function(t,e){var r=t.length;for(t.sort(function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var c=wi(i[r],o[r]);if(c)return r>=s?c:c*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)});r--;)t[r]=t[r].value;return t}(zr(t,function(t,n,i){return{criteria:ke(e,function(e){return e(t)}),index:++r,value:t}}))}function qr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=xr(t,a);n(s,a)&&Yr(o,gi(a,t),s)}return o}function Hr(t,e,n,r){var i=r?Te:Ie,o=-1,a=e.length,s=t;for(t===e&&(e=Si(e)),n&&(s=ke(t,He(n)));++o<a;)for(var c=0,l=e[o],u=n?n(l):l;(c=i(s,u,c,r))>-1;)s!==t&&te.call(s,c,1),te.call(t,c,1);return t}function Wr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;go(i)?te.call(t,i,1):ci(t,i)}}return t}function Vr(t,e){return t+un(yn()*(e-t+1))}function Ur(t,e){var n="";if(!t||e<1||e>h)return n;do{e%2&&(n+=t),(e=un(e/2))&&(t+=t)}while(e);return n}function Zr(t,e){return Ao(Oo(t,e,rc),t+"")}function Gr(t){return Kn(Ns(t))}function Kr(t,e){var n=Ns(t);return Io(n,or(e,0,n.length))}function Yr(t,e,n,r){if(!ts(t))return t;for(var o=-1,a=(e=gi(e,t)).length,s=a-1,c=t;null!=c&&++o<a;){var l=Do(e[o]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(o!=s){var h=c[l];(u=r?r(h,l,c):i)===i&&(u=ts(h)?h:go(e[o+1])?[]:{})}Jn(c,l,u),c=c[l]}return t}var Xr=jn?function(t,e){return jn.set(t,e),t}:rc,Qr=se?function(t,e){return se(t,"toString",{configurable:!0,enumerable:!1,value:tc(e),writable:!0})}:rc;function Jr(t){return Io(Ns(t))}function ti(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+e];return a}function ei(t,e){var n;return ur(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function ni(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!cs(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return ri(t,e,rc,n)}function ri(t,e,n,r){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=n(e))!=e,c=null===e,l=cs(e),u=e===i;o<a;){var h=un((o+a)/2),d=n(t[h]),f=d!==i,p=null===d,b=d==d,g=cs(d);if(s)var _=r||b;else _=u?b&&(r||f):c?b&&f&&(r||!p):l?b&&f&&!p&&(r||!g):!p&&!g&&(r?d<=e:d<e);_?o=h+1:a=h}return _n(a,4294967294)}function ii(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Na(s,c)){var c=s;o[i++]=0===a?0:a}}return o}function oi(t){return"number"==typeof t?t:cs(t)?d:+t}function ai(t){if("string"==typeof t)return t;if(Wa(t))return ke(t,ai)+"";if(cs(t))return Dn?Dn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function si(t,e,n){var r=-1,i=we,o=t.length,a=!0,s=[],c=s;if(n)a=!1,i=Oe;else if(o>=200){var l=e?null:Ui(t);if(l)return nn(l);a=!1,i=Ve,c=new Un}else c=e?[]:s;t:for(;++r<o;){var u=t[r],h=e?e(u):u;if(u=n||0!==u?u:0,a&&h==h){for(var d=c.length;d--;)if(c[d]===h)continue t;e&&c.push(h),s.push(u)}else i(c,h,n)||(c!==s&&c.push(h),s.push(u))}return s}function ci(t,e){return null==(t=ko(t,e=gi(e,t)))||delete t[Do(Yo(e))]}function li(t,e,n,r){return Yr(t,e,n(xr(t,e)),r)}function ui(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ti(t,r?0:o,r?o+1:i):ti(t,r?o+1:0,r?i:o)}function hi(t,e){var n=t;return n instanceof qn&&(n=n.value()),Me(e,function(t,e){return e.func.apply(e.thisArg,Se([t],e.args))},n)}function di(t,e,n){var i=t.length;if(i<2)return i?si(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=t[o],c=-1;++c<i;)c!=o&&(a[o]=lr(a[o]||s,t[c],e,n));return si(br(a,1),e,n)}function fi(t,e,n){for(var r=-1,o=t.length,a=e.length,s={};++r<o;)n(s,t[r],r<a?e[r]:i);return s}function pi(t){return Za(t)?t:[]}function bi(t){return"function"==typeof t?t:rc}function gi(t,e){return Wa(t)?t:mo(t,e)?[t]:zo(ms(t))}var _i=Zr;function mi(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:ti(t,e,n)}var vi=le||function(t){return oe.clearTimeout(t)};function yi(t,e){if(e)return t.slice();var n=t.length,r=qt?qt(n):new t.constructor(n);return t.copy(r),r}function xi(t){var e=new t.constructor(t.byteLength);return new $t(e).set(new $t(t)),e}function Ci(t,e){var n=e?xi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function wi(t,e){if(t!==e){var n=t!==i,r=null===t,o=t==t,a=cs(t),s=e!==i,c=null===e,l=e==e,u=cs(e);if(!c&&!u&&!a&&t>e||a&&s&&l&&!c&&!u||r&&s&&l||!n&&l||!o)return 1;if(!r&&!a&&!u&&t<e||u&&n&&o&&!r&&!a||c&&n&&o||!s&&o||!l)return-1}return 0}function Oi(t,e,n,i){for(var o=-1,a=t.length,s=n.length,c=-1,l=e.length,u=gn(a-s,0),h=r(l+u),d=!i;++c<l;)h[c]=e[c];for(;++o<s;)(d||o<a)&&(h[n[o]]=t[o]);for(;u--;)h[c++]=t[o++];return h}function ki(t,e,n,i){for(var o=-1,a=t.length,s=-1,c=n.length,l=-1,u=e.length,h=gn(a-c,0),d=r(h+u),f=!i;++o<h;)d[o]=t[o];for(var p=o;++l<u;)d[p+l]=e[l];for(;++s<c;)(f||o<a)&&(d[p+n[s]]=t[o++]);return d}function Si(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function Mi(t,e,n,r){var o=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var c=e[a],l=r?r(n[c],t[c],c,n,t):i;l===i&&(l=t[c]),o?rr(n,c,l):Jn(n,c,l)}return n}function ji(t,e){return function(n,r){var i=Wa(n)?me:er,o=e?e():{};return i(n,t,oo(r,2),o)}}function Ri(t){return Zr(function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=t.length>3&&"function"==typeof a?(o--,a):i,s&&_o(n[0],n[1],s)&&(a=o<3?i:a,o=1),e=Ot(e);++r<o;){var c=n[r];c&&t(e,c,r,a)}return e})}function Ai(t,e){return function(n,r){if(null==n)return n;if(!Ua(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Ot(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Pi(t){return function(e,n,r){for(var i=-1,o=Ot(e),a=r(e),s=a.length;s--;){var c=a[t?s:++i];if(!1===n(o[c],c,o))break}return e}}function Ei(t){return function(e){var n=Qe(e=ms(e))?an(e):i,r=n?n[0]:e.charAt(0),o=n?mi(n,1).join(""):e.slice(1);return r[t]()+o}}function Ii(t){return function(e){return Me(Xs(Hs(e).replace(Wt,"")),t,"")}}function Ti(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Fn(t.prototype),r=t.apply(n,e);return ts(r)?r:n}}function Li(t){return function(e,n,r){var o=Ot(e);if(!Ua(e)){var a=oo(n,3);e=Ps(e),n=function(t){return a(o[t],t,o)}}var s=t(e,n,r);return s>-1?o[a?e[s]:s]:i}}function zi(t){return Ji(function(e){var n=e.length,r=n,a=$n.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new Mt(o);if(a&&!c&&"wrapper"==ro(s))var c=new $n([],!0)}for(r=c?r:n;++r<n;){var l=ro(s=e[r]),u="wrapper"==l?no(s):i;c=u&&vo(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?c[ro(u[0])].apply(c,u[3]):1==s.length&&vo(s)?c[l]():c.thru(s)}return function(){var t=arguments,r=t[0];if(c&&1==t.length&&Wa(r))return c.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function Di(t,e,n,o,a,s,c,u,h,d){var f=e&l,p=1&e,b=2&e,g=24&e,_=512&e,m=b?i:Ti(t);return function i(){for(var l=arguments.length,v=r(l),y=l;y--;)v[y]=arguments[y];if(g)var x=io(i),C=Ge(v,x);if(o&&(v=Oi(v,o,a,g)),s&&(v=ki(v,s,c,g)),l-=C,g&&l<d){var w=en(v,x);return Wi(t,e,Di,i.placeholder,n,v,w,u,h,d-l)}var O=p?n:this,k=b?O[t]:t;return l=v.length,u?v=So(v,u):_&&l>1&&v.reverse(),f&&h<l&&(v.length=h),this&&this!==oe&&this instanceof i&&(k=m||Ti(k)),k.apply(O,v)}}function Bi(t,e){return function(n,r){return function(t,e,n,r){return mr(t,function(t,i,o){e(r,n(t),i,o)}),r}(n,t,e(r),{})}}function Fi(t,e){return function(n,r){var o;if(n===i&&r===i)return e;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=ai(n),r=ai(r)):(n=oi(n),r=oi(r)),o=t(n,r)}return o}}function Ni(t){return Ji(function(e){return e=ke(e,He(oo())),Zr(function(n){var r=this;return t(e,function(t){return _e(t,r,n)})})})}function $i(t,e){var n=(e=e===i?" ":ai(e)).length;if(n<2)return n?Ur(e,t):e;var r=Ur(e,Be(t/on(e)));return Qe(e)?mi(an(r),0,t).join(""):r.slice(0,t)}function qi(t){return function(e,n,o){return o&&"number"!=typeof o&&_o(e,n,o)&&(n=o=i),e=fs(e),n===i?(n=e,e=0):n=fs(n),function(t,e,n,i){for(var o=-1,a=gn(Be((e-t)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=t,t+=n;return s}(e,n,o=o===i?e<n?1:-1:fs(o),t)}}function Hi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=gs(e),n=gs(n)),t(e,n)}}function Wi(t,e,n,r,o,a,s,l,u,h){var d=8&e;e|=d?c:64,4&(e&=~(d?64:c))||(e&=-4);var f=[t,e,o,d?a:i,d?s:i,d?i:a,d?i:s,l,u,h],p=n.apply(i,f);return vo(t)&&jo(p,f),p.placeholder=r,Po(p,t,e)}function Vi(t){var e=wt[t];return function(t,n){if(t=gs(t),(n=null==n?0:_n(ps(n),292))&&fn(t)){var r=(ms(t)+"e").split("e");return+((r=(ms(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Ui=kn&&1/nn(new kn([,-0]))[1]==u?function(t){return new kn(t)}:cc;function Zi(t){return function(e){var n=ho(e);return n==C?Je(e):n==M?rn(e):function(t,e){return ke(e,function(e){return[e,t[e]]})}(e,t(e))}}function Gi(t,e,n,a,u,h,d,f){var p=2&e;if(!p&&"function"!=typeof t)throw new Mt(o);var b=a?a.length:0;if(b||(e&=-97,a=u=i),d=d===i?d:gn(ps(d),0),f=f===i?f:ps(f),b-=u?u.length:0,64&e){var g=a,_=u;a=u=i}var m=p?i:no(t),v=[t,e,n,a,u,g,_,h,d,f];if(m&&function(t,e){var n=t[1],r=e[1],i=n|r;if(!(i<131||r==l&&8==n||r==l&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n))return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var o=e[3];if(o){var a=t[3];t[3]=a?Oi(a,o,e[4]):o,t[4]=a?en(t[3],s):e[4]}(o=e[5])&&(t[5]=(a=t[5])?ki(a,o,e[6]):o,t[6]=a?en(t[5],s):e[6]),(o=e[7])&&(t[7]=o),r&l&&(t[8]=null==t[8]?e[8]:_n(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(v,m),t=v[0],e=v[1],n=v[2],a=v[3],u=v[4],!(f=v[9]=v[9]===i?p?0:t.length:gn(v[9]-b,0))&&24&e&&(e&=-25),e&&1!=e)y=8==e||16==e?function(t,e,n){var o=Ti(t);return function a(){for(var s=arguments.length,c=r(s),l=s,u=io(a);l--;)c[l]=arguments[l];var h=s<3&&c[0]!==u&&c[s-1]!==u?[]:en(c,u);return(s-=h.length)<n?Wi(t,e,Di,a.placeholder,i,c,h,i,i,n-s):_e(this&&this!==oe&&this instanceof a?o:t,this,c)}}(t,e,f):e!=c&&33!=e||u.length?Di.apply(i,v):function(t,e,n,i){var o=1&e,a=Ti(t);return function e(){for(var s=-1,c=arguments.length,l=-1,u=i.length,h=r(u+c),d=this&&this!==oe&&this instanceof e?a:t;++l<u;)h[l]=i[l];for(;c--;)h[l++]=arguments[++s];return _e(d,o?n:this,h)}}(t,e,n,a);else var y=function(t,e,n){var r=1&e,i=Ti(t);return function e(){return(this&&this!==oe&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return Po((m?Xr:jo)(y,v),t,e)}function Ki(t,e,n,r){return t===i||Na(t,Rt[n])&&!Et.call(r,n)?e:t}function Yi(t,e,n,r,o,a){return ts(t)&&ts(e)&&(a.set(e,t),Fr(t,e,i,Yi,a),a.delete(e)),t}function Xi(t){return is(t)?i:t}function Qi(t,e,n,r,o,a){var s=1&n,c=t.length,l=e.length;if(c!=l&&!(s&&l>c))return!1;var u=a.get(t),h=a.get(e);if(u&&h)return u==e&&h==t;var d=-1,f=!0,p=2&n?new Un:i;for(a.set(t,e),a.set(e,t);++d<c;){var b=t[d],g=e[d];if(r)var _=s?r(g,b,d,e,t,a):r(b,g,d,t,e,a);if(_!==i){if(_)continue;f=!1;break}if(p){if(!Re(e,function(t,e){if(!Ve(p,e)&&(b===t||o(b,t,n,r,a)))return p.push(e)})){f=!1;break}}else if(b!==g&&!o(b,g,n,r,a)){f=!1;break}}return a.delete(t),a.delete(e),f}function Ji(t){return Ao(Oo(t,i,Vo),t+"")}function to(t){return Cr(t,Ps,lo)}function eo(t){return Cr(t,Es,uo)}var no=jn?function(t){return jn.get(t)}:cc;function ro(t){for(var e=t.name+"",n=Rn[e],r=Et.call(Rn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function io(t){return(Et.call(Bn,"placeholder")?Bn:t).placeholder}function oo(){var t=Bn.iteratee||ic;return t=t===ic?Ir:t,arguments.length?t(arguments[0],arguments[1]):t}function ao(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function so(t){for(var e=Ps(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Co(i)]}return e}function co(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return Er(n)?n:i}var lo=hn?function(t){return null==t?[]:(t=Ot(t),Ce(hn(t),function(e){return Gt.call(t,e)}))}:bc,uo=hn?function(t){for(var e=[];t;)Se(e,lo(t)),t=Ht(t);return e}:bc,ho=wr;function fo(t,e,n){for(var r=-1,i=(e=gi(e,t)).length,o=!1;++r<i;){var a=Do(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ja(i)&&go(a,i)&&(Wa(t)||Ha(t))}function po(t){return"function"!=typeof t.constructor||xo(t)?{}:Fn(Ht(t))}function bo(t){return Wa(t)||Ha(t)||!!(re&&t&&t[re])}function go(t,e){var n=typeof t;return!!(e=null==e?h:e)&&("number"==n||"symbol"!=n&&_t.test(t))&&t>-1&&t%1==0&&t<e}function _o(t,e,n){if(!ts(n))return!1;var r=typeof e;return!!("number"==r?Ua(n)&&go(e,n.length):"string"==r&&e in n)&&Na(n[e],t)}function mo(t,e){if(Wa(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!cs(t))||J.test(t)||!Q.test(t)||null!=e&&t in Ot(e)}function vo(t){var e=ro(t),n=Bn[e];if("function"!=typeof n||!(e in qn.prototype))return!1;if(t===n)return!0;var r=no(n);return!!r&&t===r[0]}(Cn&&ho(new Cn(new ArrayBuffer(1)))!=E||wn&&ho(new wn)!=C||On&&ho(On.resolve())!=k||kn&&ho(new kn)!=M||Sn&&ho(new Sn)!=A)&&(ho=function(t){var e=wr(t),n=e==O?t.constructor:i,r=n?Bo(n):"";if(r)switch(r){case An:return E;case Pn:return C;case En:return k;case In:return M;case Tn:return A}return e});var yo=At?Xa:gc;function xo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Rt)}function Co(t){return t==t&&!ts(t)}function wo(t,e){return function(n){return null!=n&&n[t]===e&&(e!==i||t in Ot(n))}}function Oo(t,e,n){return e=gn(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=gn(i.length-e,0),s=r(a);++o<a;)s[o]=i[e+o];o=-1;for(var c=r(e+1);++o<e;)c[o]=i[o];return c[e]=n(s),_e(t,this,c)}}function ko(t,e){return e.length<2?t:xr(t,ti(e,0,-1))}function So(t,e){for(var n=t.length,r=_n(e.length,n),o=Si(t);r--;){var a=e[r];t[r]=go(a,n)?o[a]:i}return t}function Mo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var jo=Eo(Xr),Ro=Ae||function(t,e){return oe.setTimeout(t,e)},Ao=Eo(Qr);function Po(t,e,n){var r=e+"";return Ao(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ot,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ve(p,function(n){var r="_."+n[0];e&n[1]&&!we(t,r)&&t.push(r)}),t.sort()}(function(t){var e=t.match(at);return e?e[1].split(st):[]}(r),n)))}function Eo(t){var e=0,n=0;return function(){var r=mn(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Io(t,e){var n=-1,r=t.length,o=r-1;for(e=e===i?r:e;++n<e;){var a=Vr(n,o),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var To,Lo,zo=(To=Ta(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,function(t,n,r,i){e.push(r?i.replace(ut,"$1"):n||t)}),e},function(t){return 500===Lo.size&&Lo.clear(),t}),Lo=To.cache,To);function Do(t){if("string"==typeof t||cs(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Bo(t){if(null!=t){try{return Pt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Fo(t){if(t instanceof qn)return t.clone();var e=new $n(t.__wrapped__,t.__chain__);return e.__actions__=Si(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var No=Zr(function(t,e){return Za(t)?lr(t,br(e,1,Za,!0)):[]}),$o=Zr(function(t,e){var n=Yo(e);return Za(n)&&(n=i),Za(t)?lr(t,br(e,1,Za,!0),oo(n,2)):[]}),qo=Zr(function(t,e){var n=Yo(e);return Za(n)&&(n=i),Za(t)?lr(t,br(e,1,Za,!0),i,n):[]});function Ho(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ps(n);return i<0&&(i=gn(r+i,0)),Ee(t,oo(e,3),i)}function Wo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==i&&(o=ps(n),o=n<0?gn(r+o,0):_n(o,r-1)),Ee(t,oo(e,3),o,!0)}function Vo(t){return null!=t&&t.length?br(t,1):[]}function Uo(t){return t&&t.length?t[0]:i}var Zo=Zr(function(t){var e=ke(t,pi);return e.length&&e[0]===t[0]?Mr(e):[]}),Go=Zr(function(t){var e=Yo(t),n=ke(t,pi);return e===Yo(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Mr(n,oo(e,2)):[]}),Ko=Zr(function(t){var e=Yo(t),n=ke(t,pi);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?Mr(n,i,e):[]});function Yo(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Xo=Zr(Qo);function Qo(t,e){return t&&t.length&&e&&e.length?Hr(t,e):t}var Jo=Ji(function(t,e){var n=null==t?0:t.length,r=ir(t,e);return Wr(t,ke(e,function(t){return go(t,n)?+t:t}).sort(wi)),r});function ta(t){return null==t?t:xn.call(t)}var ea=Zr(function(t){return si(br(t,1,Za,!0))}),na=Zr(function(t){var e=Yo(t);return Za(e)&&(e=i),si(br(t,1,Za,!0),oo(e,2))}),ra=Zr(function(t){var e=Yo(t);return e="function"==typeof e?e:i,si(br(t,1,Za,!0),i,e)});function ia(t){if(!t||!t.length)return[];var e=0;return t=Ce(t,function(t){if(Za(t))return e=gn(t.length,e),!0}),$e(e,function(e){return ke(t,De(e))})}function oa(t,e){if(!t||!t.length)return[];var n=ia(t);return null==e?n:ke(n,function(t){return _e(e,i,t)})}var aa=Zr(function(t,e){return Za(t)?lr(t,e):[]}),sa=Zr(function(t){return di(Ce(t,Za))}),ca=Zr(function(t){var e=Yo(t);return Za(e)&&(e=i),di(Ce(t,Za),oo(e,2))}),la=Zr(function(t){var e=Yo(t);return e="function"==typeof e?e:i,di(Ce(t,Za),i,e)}),ua=Zr(ia),ha=Zr(function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,oa(t,n)});function da(t){var e=Bn(t);return e.__chain__=!0,e}function fa(t,e){return e(t)}var pa=Ji(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return ir(e,t)};return!(e>1||this.__actions__.length)&&r instanceof qn&&go(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:fa,args:[o],thisArg:i}),new $n(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(i),t})):this.thru(o)}),ba=ji(function(t,e,n){Et.call(t,n)?++t[n]:rr(t,n,1)}),ga=Li(Ho),_a=Li(Wo);function ma(t,e){return(Wa(t)?ve:ur)(t,oo(e,3))}function va(t,e){return(Wa(t)?ye:hr)(t,oo(e,3))}var ya=ji(function(t,e,n){Et.call(t,n)?t[n].push(e):rr(t,n,[e])}),xa=Zr(function(t,e,n){var i=-1,o="function"==typeof e,a=Ua(t)?r(t.length):[];return ur(t,function(t){a[++i]=o?_e(e,t,n):jr(t,e,n)}),a}),Ca=ji(function(t,e,n){rr(t,n,e)});function wa(t,e){return(Wa(t)?ke:zr)(t,oo(e,3))}var Oa=ji(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),ka=Zr(function(t,e){if(null==t)return[];var n=e.length;return n>1&&_o(t,e[0],e[1])?e=[]:n>2&&_o(e[0],e[1],e[2])&&(e=[e[0]]),$r(t,br(e,1),[])}),Sa=ue||function(){return oe.Date.now()};function Ma(t,e,n){return e=n?i:e,Gi(t,l,i,i,i,i,e=t&&null==e?t.length:e)}function ja(t,e){var n;if("function"!=typeof e)throw new Mt(o);return t=ps(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Ra=Zr(function(t,e,n){var r=1;if(n.length){var i=en(n,io(Ra));r|=c}return Gi(t,r,e,n,i)}),Aa=Zr(function(t,e,n){var r=3;if(n.length){var i=en(n,io(Aa));r|=c}return Gi(e,r,t,n,i)});function Pa(t,e,n){var r,a,s,c,l,u,h=0,d=!1,f=!1,p=!0;if("function"!=typeof t)throw new Mt(o);function b(e){var n=r,o=a;return r=a=i,h=e,c=t.apply(o,n)}function g(t){return h=t,l=Ro(m,e),d?b(t):c}function _(t){var n=t-u;return u===i||n>=e||n<0||f&&t-h>=s}function m(){var t=Sa();if(_(t))return v(t);l=Ro(m,function(t){var n=e-(t-u);return f?_n(n,s-(t-h)):n}(t))}function v(t){return l=i,p&&r?b(t):(r=a=i,c)}function y(){var t=Sa(),n=_(t);if(r=arguments,a=this,u=t,n){if(l===i)return g(u);if(f)return vi(l),l=Ro(m,e),b(u)}return l===i&&(l=Ro(m,e)),c}return e=gs(e)||0,ts(n)&&(d=!!n.leading,s=(f="maxWait"in n)?gn(gs(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p),y.cancel=function(){l!==i&&vi(l),h=0,r=u=a=l=i},y.flush=function(){return l===i?c:v(Sa())},y}var Ea=Zr(function(t,e){return cr(t,1,e)}),Ia=Zr(function(t,e,n){return cr(t,gs(e)||0,n)});function Ta(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Mt(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ta.Cache||Vn),n}function La(t){if("function"!=typeof t)throw new Mt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ta.Cache=Vn;var za=_i(function(t,e){var n=(e=1==e.length&&Wa(e[0])?ke(e[0],He(oo())):ke(br(e,1),He(oo()))).length;return Zr(function(r){for(var i=-1,o=_n(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return _e(t,this,r)})}),Da=Zr(function(t,e){var n=en(e,io(Da));return Gi(t,c,i,e,n)}),Ba=Zr(function(t,e){var n=en(e,io(Ba));return Gi(t,64,i,e,n)}),Fa=Ji(function(t,e){return Gi(t,256,i,i,i,e)});function Na(t,e){return t===e||t!=t&&e!=e}var $a=Hi(Or),qa=Hi(function(t,e){return t>=e}),Ha=Rr(function(){return arguments}())?Rr:function(t){return es(t)&&Et.call(t,"callee")&&!Gt.call(t,"callee")},Wa=r.isArray,Va=he?He(he):function(t){return es(t)&&wr(t)==P};function Ua(t){return null!=t&&Ja(t.length)&&!Xa(t)}function Za(t){return es(t)&&Ua(t)}var Ga=dn||gc,Ka=de?He(de):function(t){return es(t)&&wr(t)==m};function Ya(t){if(!es(t))return!1;var e=wr(t);return e==v||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!is(t)}function Xa(t){if(!ts(t))return!1;var e=wr(t);return e==y||e==x||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Qa(t){return"number"==typeof t&&t==ps(t)}function Ja(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}function ts(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function es(t){return null!=t&&"object"==typeof t}var ns=fe?He(fe):function(t){return es(t)&&ho(t)==C};function rs(t){return"number"==typeof t||es(t)&&wr(t)==w}function is(t){if(!es(t)||wr(t)!=O)return!1;var e=Ht(t);if(null===e)return!0;var n=Et.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Pt.call(n)==zt}var os=pe?He(pe):function(t){return es(t)&&wr(t)==S},as=be?He(be):function(t){return es(t)&&ho(t)==M};function ss(t){return"string"==typeof t||!Wa(t)&&es(t)&&wr(t)==j}function cs(t){return"symbol"==typeof t||es(t)&&wr(t)==R}var ls=ge?He(ge):function(t){return es(t)&&Ja(t.length)&&!!Qt[wr(t)]},us=Hi(Lr),hs=Hi(function(t,e){return t<=e});function ds(t){if(!t)return[];if(Ua(t))return ss(t)?an(t):Si(t);if(ie&&t[ie])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[ie]());var e=ho(t);return(e==C?Je:e==M?nn:Ns)(t)}function fs(t){return t?(t=gs(t))===u||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ps(t){var e=fs(t),n=e%1;return e==e?n?e-n:e:0}function bs(t){return t?or(ps(t),0,f):0}function gs(t){if("number"==typeof t)return t;if(cs(t))return d;if(ts(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ts(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=qe(t);var n=pt.test(t);return n||gt.test(t)?ne(t.slice(2),n?2:8):ft.test(t)?d:+t}function _s(t){return Mi(t,Es(t))}function ms(t){return null==t?"":ai(t)}var vs=Ri(function(t,e){if(xo(e)||Ua(e))Mi(e,Ps(e),t);else for(var n in e)Et.call(e,n)&&Jn(t,n,e[n])}),ys=Ri(function(t,e){Mi(e,Es(e),t)}),xs=Ri(function(t,e,n,r){Mi(e,Es(e),t,r)}),Cs=Ri(function(t,e,n,r){Mi(e,Ps(e),t,r)}),ws=Ji(ir),Os=Zr(function(t,e){t=Ot(t);var n=-1,r=e.length,o=r>2?e[2]:i;for(o&&_o(e[0],e[1],o)&&(r=1);++n<r;)for(var a=e[n],s=Es(a),c=-1,l=s.length;++c<l;){var u=s[c],h=t[u];(h===i||Na(h,Rt[u])&&!Et.call(t,u))&&(t[u]=a[u])}return t}),ks=Zr(function(t){return t.push(i,Yi),_e(Ts,i,t)});function Ss(t,e,n){var r=null==t?i:xr(t,e);return r===i?n:r}function Ms(t,e){return null!=t&&fo(t,e,Sr)}var js=Bi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Lt.call(e)),t[e]=n},tc(rc)),Rs=Bi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Lt.call(e)),Et.call(t,e)?t[e].push(n):t[e]=[n]},oo),As=Zr(jr);function Ps(t){return Ua(t)?Gn(t):Tr(t)}function Es(t){return Ua(t)?Gn(t,!0):function(t){if(!ts(t))return function(t){var e=[];if(null!=t)for(var n in Ot(t))e.push(n);return e}(t);var e=xo(t),n=[];for(var r in t)("constructor"!=r||!e&&Et.call(t,r))&&n.push(r);return n}(t)}var Is=Ri(function(t,e,n){Fr(t,e,n)}),Ts=Ri(function(t,e,n,r){Fr(t,e,n,r)}),Ls=Ji(function(t,e){var n={};if(null==t)return n;var r=!1;e=ke(e,function(e){return e=gi(e,t),r||(r=e.length>1),e}),Mi(t,eo(t),n),r&&(n=ar(n,7,Xi));for(var i=e.length;i--;)ci(n,e[i]);return n}),zs=Ji(function(t,e){return null==t?{}:function(t,e){return qr(t,e,function(e,n){return Ms(t,n)})}(t,e)});function Ds(t,e){if(null==t)return{};var n=ke(eo(t),function(t){return[t]});return e=oo(e),qr(t,n,function(t,n){return e(t,n[0])})}var Bs=Zi(Ps),Fs=Zi(Es);function Ns(t){return null==t?[]:We(t,Ps(t))}var $s=Ii(function(t,e,n){return e=e.toLowerCase(),t+(n?qs(e):e)});function qs(t){return Ys(ms(t).toLowerCase())}function Hs(t){return(t=ms(t))&&t.replace(mt,Ke).replace(Vt,"")}var Ws=Ii(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Vs=Ii(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Us=Ei("toLowerCase"),Zs=Ii(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Gs=Ii(function(t,e,n){return t+(n?" ":"")+Ys(e)}),Ks=Ii(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Ys=Ei("toUpperCase");function Xs(t,e,n){return t=ms(t),(e=n?i:e)===i?function(t){return Kt.test(t)}(t)?function(t){return t.match(Zt)||[]}(t):function(t){return t.match(ct)||[]}(t):t.match(e)||[]}var Qs=Zr(function(t,e){try{return _e(t,i,e)}catch(n){return Ya(n)?n:new xt(n)}}),Js=Ji(function(t,e){return ve(e,function(e){e=Do(e),rr(t,e,Ra(t[e],t))}),t});function tc(t){return function(){return t}}var ec=zi(),nc=zi(!0);function rc(t){return t}function ic(t){return Ir("function"==typeof t?t:ar(t,1))}var oc=Zr(function(t,e){return function(n){return jr(n,t,e)}}),ac=Zr(function(t,e){return function(n){return jr(t,n,e)}});function sc(t,e,n){var r=Ps(e),i=yr(e,r);null!=n||ts(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=yr(e,Ps(e)));var o=!(ts(n)&&"chain"in n&&!n.chain),a=Xa(t);return ve(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=Si(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Se([this.value()],arguments))})}),t}function cc(){}var lc=Ni(ke),uc=Ni(xe),hc=Ni(Re);function dc(t){return mo(t)?De(Do(t)):function(t){return function(e){return xr(e,t)}}(t)}var fc=qi(),pc=qi(!0);function bc(){return[]}function gc(){return!1}var _c,mc=Fi(function(t,e){return t+e},0),vc=Vi("ceil"),yc=Fi(function(t,e){return t/e},1),xc=Vi("floor"),Cc=Fi(function(t,e){return t*e},1),wc=Vi("round"),Oc=Fi(function(t,e){return t-e},0);return Bn.after=function(t,e){if("function"!=typeof e)throw new Mt(o);return t=ps(t),function(){if(--t<1)return e.apply(this,arguments)}},Bn.ary=Ma,Bn.assign=vs,Bn.assignIn=ys,Bn.assignInWith=xs,Bn.assignWith=Cs,Bn.at=ws,Bn.before=ja,Bn.bind=Ra,Bn.bindAll=Js,Bn.bindKey=Aa,Bn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Wa(t)?t:[t]},Bn.chain=da,Bn.chunk=function(t,e,n){e=(n?_o(t,e,n):e===i)?1:gn(ps(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var a=0,s=0,c=r(Be(o/e));a<o;)c[s++]=ti(t,a,a+=e);return c},Bn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Bn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Se(Wa(n)?Si(n):[n],br(e,1))},Bn.cond=function(t){var e=null==t?0:t.length,n=oo();return t=e?ke(t,function(t){if("function"!=typeof t[1])throw new Mt(o);return[n(t[0]),t[1]]}):[],Zr(function(n){for(var r=-1;++r<e;){var i=t[r];if(_e(i[0],this,n))return _e(i[1],this,n)}})},Bn.conforms=function(t){return function(t){var e=Ps(t);return function(n){return sr(n,t,e)}}(ar(t,1))},Bn.constant=tc,Bn.countBy=ba,Bn.create=function(t,e){var n=Fn(t);return null==e?n:nr(n,e)},Bn.curry=function t(e,n,r){var o=Gi(e,8,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Bn.curryRight=function t(e,n,r){var o=Gi(e,16,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Bn.debounce=Pa,Bn.defaults=Os,Bn.defaultsDeep=ks,Bn.defer=Ea,Bn.delay=Ia,Bn.difference=No,Bn.differenceBy=$o,Bn.differenceWith=qo,Bn.drop=function(t,e,n){var r=null==t?0:t.length;return r?ti(t,(e=n||e===i?1:ps(e))<0?0:e,r):[]},Bn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ti(t,0,(e=r-(e=n||e===i?1:ps(e)))<0?0:e):[]},Bn.dropRightWhile=function(t,e){return t&&t.length?ui(t,oo(e,3),!0,!0):[]},Bn.dropWhile=function(t,e){return t&&t.length?ui(t,oo(e,3),!0):[]},Bn.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&_o(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=ps(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:ps(r))<0&&(r+=o),r=n>r?0:bs(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Bn.filter=function(t,e){return(Wa(t)?Ce:pr)(t,oo(e,3))},Bn.flatMap=function(t,e){return br(wa(t,e),1)},Bn.flatMapDeep=function(t,e){return br(wa(t,e),u)},Bn.flatMapDepth=function(t,e,n){return n=n===i?1:ps(n),br(wa(t,e),n)},Bn.flatten=Vo,Bn.flattenDeep=function(t){return null!=t&&t.length?br(t,u):[]},Bn.flattenDepth=function(t,e){return null!=t&&t.length?br(t,e=e===i?1:ps(e)):[]},Bn.flip=function(t){return Gi(t,512)},Bn.flow=ec,Bn.flowRight=nc,Bn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Bn.functions=function(t){return null==t?[]:yr(t,Ps(t))},Bn.functionsIn=function(t){return null==t?[]:yr(t,Es(t))},Bn.groupBy=ya,Bn.initial=function(t){return null!=t&&t.length?ti(t,0,-1):[]},Bn.intersection=Zo,Bn.intersectionBy=Go,Bn.intersectionWith=Ko,Bn.invert=js,Bn.invertBy=Rs,Bn.invokeMap=xa,Bn.iteratee=ic,Bn.keyBy=Ca,Bn.keys=Ps,Bn.keysIn=Es,Bn.map=wa,Bn.mapKeys=function(t,e){var n={};return e=oo(e,3),mr(t,function(t,r,i){rr(n,e(t,r,i),t)}),n},Bn.mapValues=function(t,e){var n={};return e=oo(e,3),mr(t,function(t,r,i){rr(n,r,e(t,r,i))}),n},Bn.matches=function(t){return Dr(ar(t,1))},Bn.matchesProperty=function(t,e){return Br(t,ar(e,1))},Bn.memoize=Ta,Bn.merge=Is,Bn.mergeWith=Ts,Bn.method=oc,Bn.methodOf=ac,Bn.mixin=sc,Bn.negate=La,Bn.nthArg=function(t){return t=ps(t),Zr(function(e){return Nr(e,t)})},Bn.omit=Ls,Bn.omitBy=function(t,e){return Ds(t,La(oo(e)))},Bn.once=function(t){return ja(2,t)},Bn.orderBy=function(t,e,n,r){return null==t?[]:(Wa(e)||(e=null==e?[]:[e]),Wa(n=r?i:n)||(n=null==n?[]:[n]),$r(t,e,n))},Bn.over=lc,Bn.overArgs=za,Bn.overEvery=uc,Bn.overSome=hc,Bn.partial=Da,Bn.partialRight=Ba,Bn.partition=Oa,Bn.pick=zs,Bn.pickBy=Ds,Bn.property=dc,Bn.propertyOf=function(t){return function(e){return null==t?i:xr(t,e)}},Bn.pull=Xo,Bn.pullAll=Qo,Bn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Hr(t,e,oo(n,2)):t},Bn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Hr(t,e,i,n):t},Bn.pullAt=Jo,Bn.range=fc,Bn.rangeRight=pc,Bn.rearg=Fa,Bn.reject=function(t,e){return(Wa(t)?Ce:pr)(t,La(oo(e,3)))},Bn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=oo(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Wr(t,i),n},Bn.rest=function(t,e){if("function"!=typeof t)throw new Mt(o);return Zr(t,e=e===i?e:ps(e))},Bn.reverse=ta,Bn.sampleSize=function(t,e,n){return e=(n?_o(t,e,n):e===i)?1:ps(e),(Wa(t)?Yn:Kr)(t,e)},Bn.set=function(t,e,n){return null==t?t:Yr(t,e,n)},Bn.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:Yr(t,e,n,r)},Bn.shuffle=function(t){return(Wa(t)?Xn:Jr)(t)},Bn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&_o(t,e,n)?(e=0,n=r):(e=null==e?0:ps(e),n=n===i?r:ps(n)),ti(t,e,n)):[]},Bn.sortBy=ka,Bn.sortedUniq=function(t){return t&&t.length?ii(t):[]},Bn.sortedUniqBy=function(t,e){return t&&t.length?ii(t,oo(e,2)):[]},Bn.split=function(t,e,n){return n&&"number"!=typeof n&&_o(t,e,n)&&(e=n=i),(n=n===i?f:n>>>0)?(t=ms(t))&&("string"==typeof e||null!=e&&!os(e))&&!(e=ai(e))&&Qe(t)?mi(an(t),0,n):t.split(e,n):[]},Bn.spread=function(t,e){if("function"!=typeof t)throw new Mt(o);return e=null==e?0:gn(ps(e),0),Zr(function(n){var r=n[e],i=mi(n,0,e);return r&&Se(i,r),_e(t,this,i)})},Bn.tail=function(t){var e=null==t?0:t.length;return e?ti(t,1,e):[]},Bn.take=function(t,e,n){return t&&t.length?ti(t,0,(e=n||e===i?1:ps(e))<0?0:e):[]},Bn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ti(t,(e=r-(e=n||e===i?1:ps(e)))<0?0:e,r):[]},Bn.takeRightWhile=function(t,e){return t&&t.length?ui(t,oo(e,3),!1,!0):[]},Bn.takeWhile=function(t,e){return t&&t.length?ui(t,oo(e,3)):[]},Bn.tap=function(t,e){return e(t),t},Bn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Mt(o);return ts(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Pa(t,e,{leading:r,maxWait:e,trailing:i})},Bn.thru=fa,Bn.toArray=ds,Bn.toPairs=Bs,Bn.toPairsIn=Fs,Bn.toPath=function(t){return Wa(t)?ke(t,Do):cs(t)?[t]:Si(zo(ms(t)))},Bn.toPlainObject=_s,Bn.transform=function(t,e,n){var r=Wa(t),i=r||Ga(t)||ls(t);if(e=oo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:ts(t)&&Xa(o)?Fn(Ht(t)):{}}return(i?ve:mr)(t,function(t,r,i){return e(n,t,r,i)}),n},Bn.unary=function(t){return Ma(t,1)},Bn.union=ea,Bn.unionBy=na,Bn.unionWith=ra,Bn.uniq=function(t){return t&&t.length?si(t):[]},Bn.uniqBy=function(t,e){return t&&t.length?si(t,oo(e,2)):[]},Bn.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?si(t,i,e):[]},Bn.unset=function(t,e){return null==t||ci(t,e)},Bn.unzip=ia,Bn.unzipWith=oa,Bn.update=function(t,e,n){return null==t?t:li(t,e,bi(n))},Bn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:li(t,e,bi(n),r)},Bn.values=Ns,Bn.valuesIn=function(t){return null==t?[]:We(t,Es(t))},Bn.without=aa,Bn.words=Xs,Bn.wrap=function(t,e){return Da(bi(e),t)},Bn.xor=sa,Bn.xorBy=ca,Bn.xorWith=la,Bn.zip=ua,Bn.zipObject=function(t,e){return fi(t||[],e||[],Jn)},Bn.zipObjectDeep=function(t,e){return fi(t||[],e||[],Yr)},Bn.zipWith=ha,Bn.entries=Bs,Bn.entriesIn=Fs,Bn.extend=ys,Bn.extendWith=xs,sc(Bn,Bn),Bn.add=mc,Bn.attempt=Qs,Bn.camelCase=$s,Bn.capitalize=qs,Bn.ceil=vc,Bn.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=gs(n))==n?n:0),e!==i&&(e=(e=gs(e))==e?e:0),or(gs(t),e,n)},Bn.clone=function(t){return ar(t,4)},Bn.cloneDeep=function(t){return ar(t,5)},Bn.cloneDeepWith=function(t,e){return ar(t,5,e="function"==typeof e?e:i)},Bn.cloneWith=function(t,e){return ar(t,4,e="function"==typeof e?e:i)},Bn.conformsTo=function(t,e){return null==e||sr(t,e,Ps(e))},Bn.deburr=Hs,Bn.defaultTo=function(t,e){return null==t||t!=t?e:t},Bn.divide=yc,Bn.endsWith=function(t,e,n){t=ms(t),e=ai(e);var r=t.length,o=n=n===i?r:or(ps(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e},Bn.eq=Na,Bn.escape=function(t){return(t=ms(t))&&G.test(t)?t.replace(U,Ye):t},Bn.escapeRegExp=function(t){return(t=ms(t))&&nt.test(t)?t.replace(et,"\\$&"):t},Bn.every=function(t,e,n){var r=Wa(t)?xe:dr;return n&&_o(t,e,n)&&(e=i),r(t,oo(e,3))},Bn.find=ga,Bn.findIndex=Ho,Bn.findKey=function(t,e){return Pe(t,oo(e,3),mr)},Bn.findLast=_a,Bn.findLastIndex=Wo,Bn.findLastKey=function(t,e){return Pe(t,oo(e,3),vr)},Bn.floor=xc,Bn.forEach=ma,Bn.forEachRight=va,Bn.forIn=function(t,e){return null==t?t:gr(t,oo(e,3),Es)},Bn.forInRight=function(t,e){return null==t?t:_r(t,oo(e,3),Es)},Bn.forOwn=function(t,e){return t&&mr(t,oo(e,3))},Bn.forOwnRight=function(t,e){return t&&vr(t,oo(e,3))},Bn.get=Ss,Bn.gt=$a,Bn.gte=qa,Bn.has=function(t,e){return null!=t&&fo(t,e,kr)},Bn.hasIn=Ms,Bn.head=Uo,Bn.identity=rc,Bn.includes=function(t,e,n,r){t=Ua(t)?t:Ns(t),n=n&&!r?ps(n):0;var i=t.length;return n<0&&(n=gn(i+n,0)),ss(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Ie(t,e,n)>-1},Bn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ps(n);return i<0&&(i=gn(r+i,0)),Ie(t,e,i)},Bn.inRange=function(t,e,n){return e=fs(e),n===i?(n=e,e=0):n=fs(n),function(t,e,n){return t>=_n(e,n)&&t<gn(e,n)}(t=gs(t),e,n)},Bn.invoke=As,Bn.isArguments=Ha,Bn.isArray=Wa,Bn.isArrayBuffer=Va,Bn.isArrayLike=Ua,Bn.isArrayLikeObject=Za,Bn.isBoolean=function(t){return!0===t||!1===t||es(t)&&wr(t)==_},Bn.isBuffer=Ga,Bn.isDate=Ka,Bn.isElement=function(t){return es(t)&&1===t.nodeType&&!is(t)},Bn.isEmpty=function(t){if(null==t)return!0;if(Ua(t)&&(Wa(t)||"string"==typeof t||"function"==typeof t.splice||Ga(t)||ls(t)||Ha(t)))return!t.length;var e=ho(t);if(e==C||e==M)return!t.size;if(xo(t))return!Tr(t).length;for(var n in t)if(Et.call(t,n))return!1;return!0},Bn.isEqual=function(t,e){return Ar(t,e)},Bn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?Ar(t,e,i,n):!!r},Bn.isError=Ya,Bn.isFinite=function(t){return"number"==typeof t&&fn(t)},Bn.isFunction=Xa,Bn.isInteger=Qa,Bn.isLength=Ja,Bn.isMap=ns,Bn.isMatch=function(t,e){return t===e||Pr(t,e,so(e))},Bn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Pr(t,e,so(e),n)},Bn.isNaN=function(t){return rs(t)&&t!=+t},Bn.isNative=function(t){if(yo(t))throw new xt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Er(t)},Bn.isNil=function(t){return null==t},Bn.isNull=function(t){return null===t},Bn.isNumber=rs,Bn.isObject=ts,Bn.isObjectLike=es,Bn.isPlainObject=is,Bn.isRegExp=os,Bn.isSafeInteger=function(t){return Qa(t)&&t>=-9007199254740991&&t<=h},Bn.isSet=as,Bn.isString=ss,Bn.isSymbol=cs,Bn.isTypedArray=ls,Bn.isUndefined=function(t){return t===i},Bn.isWeakMap=function(t){return es(t)&&ho(t)==A},Bn.isWeakSet=function(t){return es(t)&&"[object WeakSet]"==wr(t)},Bn.join=function(t,e){return null==t?"":pn.call(t,e)},Bn.kebabCase=Ws,Bn.last=Yo,Bn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=ps(n))<0?gn(r+o,0):_n(o,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):Ee(t,Le,o,!0)},Bn.lowerCase=Vs,Bn.lowerFirst=Us,Bn.lt=us,Bn.lte=hs,Bn.max=function(t){return t&&t.length?fr(t,rc,Or):i},Bn.maxBy=function(t,e){return t&&t.length?fr(t,oo(e,2),Or):i},Bn.mean=function(t){return ze(t,rc)},Bn.meanBy=function(t,e){return ze(t,oo(e,2))},Bn.min=function(t){return t&&t.length?fr(t,rc,Lr):i},Bn.minBy=function(t,e){return t&&t.length?fr(t,oo(e,2),Lr):i},Bn.stubArray=bc,Bn.stubFalse=gc,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=Cc,Bn.nth=function(t,e){return t&&t.length?Nr(t,ps(e)):i},Bn.noConflict=function(){return oe._===this&&(oe._=Dt),this},Bn.noop=cc,Bn.now=Sa,Bn.pad=function(t,e,n){t=ms(t);var r=(e=ps(e))?on(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return $i(un(i),n)+t+$i(Be(i),n)},Bn.padEnd=function(t,e,n){t=ms(t);var r=(e=ps(e))?on(t):0;return e&&r<e?t+$i(e-r,n):t},Bn.padStart=function(t,e,n){t=ms(t);var r=(e=ps(e))?on(t):0;return e&&r<e?$i(e-r,n)+t:t},Bn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),vn(ms(t).replace(rt,""),e||0)},Bn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&_o(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=fs(t),e===i?(e=t,t=0):e=fs(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=yn();return _n(t+o*(e-t+ee("1e-"+((o+"").length-1))),e)}return Vr(t,e)},Bn.reduce=function(t,e,n){var r=Wa(t)?Me:Fe,i=arguments.length<3;return r(t,oo(e,4),n,i,ur)},Bn.reduceRight=function(t,e,n){var r=Wa(t)?je:Fe,i=arguments.length<3;return r(t,oo(e,4),n,i,hr)},Bn.repeat=function(t,e,n){return e=(n?_o(t,e,n):e===i)?1:ps(e),Ur(ms(t),e)},Bn.replace=function(){var t=arguments,e=ms(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Bn.result=function(t,e,n){var r=-1,o=(e=gi(e,t)).length;for(o||(o=1,t=i);++r<o;){var a=null==t?i:t[Do(e[r])];a===i&&(r=o,a=n),t=Xa(a)?a.call(t):a}return t},Bn.round=wc,Bn.runInContext=t,Bn.sample=function(t){return(Wa(t)?Kn:Gr)(t)},Bn.size=function(t){if(null==t)return 0;if(Ua(t))return ss(t)?on(t):t.length;var e=ho(t);return e==C||e==M?t.size:Tr(t).length},Bn.snakeCase=Zs,Bn.some=function(t,e,n){var r=Wa(t)?Re:ei;return n&&_o(t,e,n)&&(e=i),r(t,oo(e,3))},Bn.sortedIndex=function(t,e){return ni(t,e)},Bn.sortedIndexBy=function(t,e,n){return ri(t,e,oo(n,2))},Bn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ni(t,e);if(r<n&&Na(t[r],e))return r}return-1},Bn.sortedLastIndex=function(t,e){return ni(t,e,!0)},Bn.sortedLastIndexBy=function(t,e,n){return ri(t,e,oo(n,2),!0)},Bn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=ni(t,e,!0)-1;if(Na(t[n],e))return n}return-1},Bn.startCase=Gs,Bn.startsWith=function(t,e,n){return t=ms(t),n=null==n?0:or(ps(n),0,t.length),e=ai(e),t.slice(n,n+e.length)==e},Bn.subtract=Oc,Bn.sum=function(t){return t&&t.length?Ne(t,rc):0},Bn.sumBy=function(t,e){return t&&t.length?Ne(t,oo(e,2)):0},Bn.template=function(t,e,n){var r=Bn.templateSettings;n&&_o(t,e,n)&&(e=i),t=ms(t),e=xs({},e,r,Ki);var o,a,s=xs({},e.imports,r.imports,Ki),c=Ps(s),l=We(s,c),u=0,h=e.interpolate||vt,d="__p += '",f=kt((e.escape||vt).source+"|"+h.source+"|"+(h===X?ht:vt).source+"|"+(e.evaluate||vt).source+"|$","g"),p="//# sourceURL="+(Et.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xt+"]")+"\n";t.replace(f,function(e,n,r,i,s,c){return r||(r=i),d+=t.slice(u,c).replace(yt,Xe),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=c+e.length,e}),d+="';\n";var b=Et.call(e,"variable")&&e.variable;if(b){if(lt.test(b))throw new xt("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(q,""):d).replace(H,"$1").replace(W,"$1;"),d="function("+(b||"obj")+") {\n"+(b?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Qs(function(){return Ct(c,p+"return "+d).apply(i,l)});if(g.source=d,Ya(g))throw g;return g},Bn.times=function(t,e){if((t=ps(t))<1||t>h)return[];var n=f,r=_n(t,f);e=oo(e),t-=f;for(var i=$e(r,e);++n<t;)e(n);return i},Bn.toFinite=fs,Bn.toInteger=ps,Bn.toLength=bs,Bn.toLower=function(t){return ms(t).toLowerCase()},Bn.toNumber=gs,Bn.toSafeInteger=function(t){return t?or(ps(t),-9007199254740991,h):0===t?t:0},Bn.toString=ms,Bn.toUpper=function(t){return ms(t).toUpperCase()},Bn.trim=function(t,e,n){if((t=ms(t))&&(n||e===i))return qe(t);if(!t||!(e=ai(e)))return t;var r=an(t),o=an(e);return mi(r,Ue(r,o),Ze(r,o)+1).join("")},Bn.trimEnd=function(t,e,n){if((t=ms(t))&&(n||e===i))return t.slice(0,sn(t)+1);if(!t||!(e=ai(e)))return t;var r=an(t);return mi(r,0,Ze(r,an(e))+1).join("")},Bn.trimStart=function(t,e,n){if((t=ms(t))&&(n||e===i))return t.replace(rt,"");if(!t||!(e=ai(e)))return t;var r=an(t);return mi(r,Ue(r,an(e))).join("")},Bn.truncate=function(t,e){var n=30,r="...";if(ts(e)){var o="separator"in e?e.separator:o;n="length"in e?ps(e.length):n,r="omission"in e?ai(e.omission):r}var a=(t=ms(t)).length;if(Qe(t)){var s=an(t);a=s.length}if(n>=a)return t;var c=n-on(r);if(c<1)return r;var l=s?mi(s,0,c).join(""):t.slice(0,c);if(o===i)return l+r;if(s&&(c+=l.length-c),os(o)){if(t.slice(c).search(o)){var u,h=l;for(o.global||(o=kt(o.source,ms(dt.exec(o))+"g")),o.lastIndex=0;u=o.exec(h);)var d=u.index;l=l.slice(0,d===i?c:d)}}else if(t.indexOf(ai(o),c)!=c){var f=l.lastIndexOf(o);f>-1&&(l=l.slice(0,f))}return l+r},Bn.unescape=function(t){return(t=ms(t))&&Z.test(t)?t.replace(V,cn):t},Bn.uniqueId=function(t){var e=++It;return ms(t)+e},Bn.upperCase=Ks,Bn.upperFirst=Ys,Bn.each=ma,Bn.eachRight=va,Bn.first=Uo,sc(Bn,(_c={},mr(Bn,function(t,e){Et.call(Bn.prototype,e)||(_c[e]=t)}),_c),{chain:!1}),Bn.VERSION="4.17.21",ve(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){Bn[t].placeholder=Bn}),ve(["drop","take"],function(t,e){qn.prototype[t]=function(n){n=n===i?1:gn(ps(n),0);var r=this.__filtered__&&!e?new qn(this):this.clone();return r.__filtered__?r.__takeCount__=_n(n,r.__takeCount__):r.__views__.push({size:_n(n,f),type:t+(r.__dir__<0?"Right":"")}),r},qn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ve(["filter","map","takeWhile"],function(t,e){var n=e+1,r=1==n||3==n;qn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:oo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),ve(["head","last"],function(t,e){var n="take"+(e?"Right":"");qn.prototype[t]=function(){return this[n](1).value()[0]}}),ve(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");qn.prototype[t]=function(){return this.__filtered__?new qn(this):this[n](1)}}),qn.prototype.compact=function(){return this.filter(rc)},qn.prototype.find=function(t){return this.filter(t).head()},qn.prototype.findLast=function(t){return this.reverse().find(t)},qn.prototype.invokeMap=Zr(function(t,e){return"function"==typeof t?new qn(this):this.map(function(n){return jr(n,t,e)})}),qn.prototype.reject=function(t){return this.filter(La(oo(t)))},qn.prototype.slice=function(t,e){t=ps(t);var n=this;return n.__filtered__&&(t>0||e<0)?new qn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=ps(e))<0?n.dropRight(-e):n.take(e-t)),n)},qn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},qn.prototype.toArray=function(){return this.take(f)},mr(qn.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=Bn[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);o&&(Bn.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,c=e instanceof qn,l=s[0],u=c||Wa(e),h=function(t){var e=o.apply(Bn,Se([t],s));return r&&d?e[0]:e};u&&n&&"function"==typeof l&&1!=l.length&&(c=u=!1);var d=this.__chain__,f=!!this.__actions__.length,p=a&&!d,b=c&&!f;if(!a&&u){e=b?e:new qn(this);var g=t.apply(e,s);return g.__actions__.push({func:fa,args:[h],thisArg:i}),new $n(g,d)}return p&&b?t.apply(this,s):(g=this.thru(h),p?r?g.value()[0]:g.value():g)})}),ve(["pop","push","shift","sort","splice","unshift"],function(t){var e=jt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Bn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Wa(i)?i:[],t)}return this[n](function(n){return e.apply(Wa(n)?n:[],t)})}}),mr(qn.prototype,function(t,e){var n=Bn[e];if(n){var r=n.name+"";Et.call(Rn,r)||(Rn[r]=[]),Rn[r].push({name:e,func:n})}}),Rn[Di(i,2).name]=[{name:"wrapper",func:i}],qn.prototype.clone=function(){var t=new qn(this.__wrapped__);return t.__actions__=Si(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Si(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Si(this.__views__),t},qn.prototype.reverse=function(){if(this.__filtered__){var t=new qn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},qn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Wa(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=_n(e,t+a);break;case"takeRight":t=gn(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,c=s-a,l=r?s:a-1,u=this.__iteratees__,h=u.length,d=0,f=_n(c,this.__takeCount__);if(!n||!r&&i==c&&f==c)return hi(t,this.__actions__);var p=[];t:for(;c--&&d<f;){for(var b=-1,g=t[l+=e];++b<h;){var _=u[b],m=_.type,v=(0,_.iteratee)(g);if(2==m)g=v;else if(!v){if(1==m)continue t;break t}}p[d++]=g}return p},Bn.prototype.at=pa,Bn.prototype.chain=function(){return da(this)},Bn.prototype.commit=function(){return new $n(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===i&&(this.__values__=ds(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Bn.prototype.plant=function(t){for(var e,n=this;n instanceof Nn;){var r=Fo(n);r.__index__=0,r.__values__=i,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},Bn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof qn){var e=t;return this.__actions__.length&&(e=new qn(this)),(e=e.reverse()).__actions__.push({func:fa,args:[ta],thisArg:i}),new $n(e,this.__chain__)}return this.thru(ta)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return hi(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,ie&&(Bn.prototype[ie]=function(){return this}),Bn}();oe._=ln,(r=(function(){return ln}).call(e,n,e,t))===i||(t.exports=r)}).call(this)}).call(this,n("YuTi")(t))},X607:function(t,e,n){self,t.exports=(()=>{var t={582:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(645),i=n.n(r)()(function(t){return t[1]});i.push([t.id,".ql-container{position:relative;overflow:hidden}.ql-cursor.hidden{display:none}.ql-cursor .ql-cursor-caret-container,.ql-cursor .ql-cursor-flag{position:absolute}.ql-cursor .ql-cursor-flag{z-index:1;transform:translate3d(-1px, -100%, 0);opacity:0;visibility:hidden;color:#fff;padding-bottom:2px;border-radius:0 3px 3px 0}.ql-cursor .ql-cursor-flag.flag-flipped{border-radius:3px 0 0 3px;transform:translate3d(calc(-100% + 1px ), -100%, 0)}@media screen{.ql-cursor .ql-cursor-flag{transition:opacity 0ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0ms,visibility 0ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0ms}}.ql-cursor .ql-cursor-flag .ql-cursor-name{margin-left:5px;margin-right:5px;display:inline-block;margin-top:-2px;white-space:nowrap}.ql-cursor .ql-cursor-flag:hover,.ql-cursor .ql-cursor-flag.show-flag,.ql-cursor .ql-cursor-caret-container:hover+.ql-cursor-flag{opacity:1;visibility:visible;transition:none}.ql-cursor .ql-cursor-flag.no-delay[style]{transition-delay:unset !important}.ql-cursor .ql-cursor-caret-container{margin-left:-9px;padding:0 9px;z-index:1}.ql-cursor .ql-cursor-caret-container .ql-cursor-caret{position:absolute;top:0;bottom:0;width:2px;margin-left:-1px;background-color:attr(data-color)}.ql-cursor .ql-cursor-selection-block{position:absolute;pointer-events:none}",""]);const o=i},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n}).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);r&&i[c[0]]||(n&&(c[2]=c[2]?"".concat(n," and ").concat(c[2]):n),e.push(c))}},e}},465:(t,e,n)=>{t=n.nmd(t);var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Boolean]",s="[object Date]",c="[object Function]",l="[object GeneratorFunction]",u="[object Map]",h="[object Number]",d="[object Object]",f="[object Promise]",p="[object RegExp]",b="[object Set]",g="[object String]",_="[object Symbol]",m="[object WeakMap]",v="[object ArrayBuffer]",y="[object DataView]",x="[object Float32Array]",C="[object Float64Array]",w="[object Int8Array]",O="[object Int16Array]",k="[object Int32Array]",S="[object Uint8Array]",M="[object Uint8ClampedArray]",j="[object Uint16Array]",R="[object Uint32Array]",A=/\w*$/,P=/^\[object .+?Constructor\]$/,E=/^(?:0|[1-9]\d*)$/,I={};I[o]=I["[object Array]"]=I[v]=I[y]=I[a]=I[s]=I[x]=I[C]=I[w]=I[O]=I[k]=I[u]=I[h]=I[d]=I[p]=I[b]=I[g]=I[_]=I[S]=I[M]=I[j]=I[R]=!0,I["[object Error]"]=I[c]=I[m]=!1;var T="object"==typeof self&&self&&self.Object===Object&&self,L="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g||T||Function("return this")(),z=e&&!e.nodeType&&e,D=z&&t&&!t.nodeType&&t,B=D&&D.exports===z;function F(t,e){return t.set(e[0],e[1]),t}function N(t,e){return t.add(e),t}function $(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function q(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function H(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function W(t,e){return function(n){return t(e(n))}}function V(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var U,Z=Array.prototype,G=Function.prototype,K=Object.prototype,Y=L["__core-js_shared__"],X=(U=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+U:"",Q=G.toString,J=K.hasOwnProperty,tt=K.toString,et=RegExp("^"+Q.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=B?L.Buffer:void 0,rt=L.Symbol,it=L.Uint8Array,ot=W(Object.getPrototypeOf,Object),at=Object.create,st=K.propertyIsEnumerable,ct=Z.splice,lt=Object.getOwnPropertySymbols,ut=nt?nt.isBuffer:void 0,ht=W(Object.keys,Object),dt=Lt(L,"DataView"),ft=Lt(L,"Map"),pt=Lt(L,"Promise"),bt=Lt(L,"Set"),gt=Lt(L,"WeakMap"),_t=Lt(Object,"create"),mt=Nt(dt),vt=Nt(ft),yt=Nt(pt),xt=Nt(bt),Ct=Nt(gt),wt=rt?rt.prototype:void 0,Ot=wt?wt.valueOf:void 0;function kt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function St(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Mt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function jt(t){this.__data__=new St(t)}function Rt(t,e,n){var r=t[e];J.call(t,e)&&$t(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function At(t,e){for(var n=t.length;n--;)if($t(t[n][0],e))return n;return-1}function Pt(t,e,n,r,i,f,m){var P;if(r&&(P=f?r(t,i,f,m):r(t)),void 0!==P)return P;if(!Ut(t))return t;var E=qt(t);if(E){if(P=function(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&J.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!e)return function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(t,P)}else{var T=Dt(t),L=T==c||T==l;if(Wt(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(T==d||T==o||L&&!f){if(q(t))return f?t:{};if(P=function(t){return"function"!=typeof t.constructor||Ft(t)?{}:Ut(e=ot(t))?at(e):{};var e}(L?{}:t),!e)return function(t,e){return It(t,zt(t),e)}(t,function(t,e){return t&&It(e,Zt(e),t)}(P,t))}else{if(!I[T])return f?t:{};P=function(t,e,n,r){var i=t.constructor;switch(e){case v:return Et(t);case a:case s:return new i(+t);case y:return function(t,e){var n=e?Et(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case x:case C:case w:case O:case k:case S:case M:case j:case R:return function(t,e){var n=e?Et(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case u:return function(t,e,n){return $(e?n(H(t),!0):H(t),F,new t.constructor)}(t,r,n);case h:case g:return new i(t);case p:return function(t){var e=new t.constructor(t.source,A.exec(t));return e.lastIndex=t.lastIndex,e}(t);case b:return function(t,e,n){return $(e?n(V(t),!0):V(t),N,new t.constructor)}(t,r,n);case _:return Ot?Object(Ot.call(t)):{}}}(t,T,Pt,e)}}m||(m=new jt);var z=m.get(t);if(z)return z;if(m.set(t,P),!E)var D=n?function(t){return function(t,e,n){var r=e(t);return qt(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,Zt,zt)}(t):Zt(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n););}(D||t,function(i,o){D&&(i=t[o=i]),Rt(P,o,Pt(i,e,n,r,o,t,m))}),P}function Et(t){var e=new t.constructor(t.byteLength);return new it(e).set(new it(t)),e}function It(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],s=r?r(n[a],t[a],a,n,t):void 0;Rt(n,a,void 0===s?t[a]:s)}return n}function Tt(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Lt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Ut(t)||(e=t,X&&X in e))&&(Vt(t)||q(t)?et:P).test(Nt(t));var e}(n)?n:void 0}kt.prototype.clear=function(){this.__data__=_t?_t(null):{}},kt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},kt.prototype.get=function(t){var e=this.__data__;if(_t){var n=e[t];return n===r?void 0:n}return J.call(e,t)?e[t]:void 0},kt.prototype.has=function(t){var e=this.__data__;return _t?void 0!==e[t]:J.call(e,t)},kt.prototype.set=function(t,e){return this.__data__[t]=_t&&void 0===e?r:e,this},St.prototype.clear=function(){this.__data__=[]},St.prototype.delete=function(t){var e=this.__data__,n=At(e,t);return!(n<0||(n==e.length-1?e.pop():ct.call(e,n,1),0))},St.prototype.get=function(t){var e=this.__data__,n=At(e,t);return n<0?void 0:e[n][1]},St.prototype.has=function(t){return At(this.__data__,t)>-1},St.prototype.set=function(t,e){var n=this.__data__,r=At(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Mt.prototype.clear=function(){this.__data__={hash:new kt,map:new(ft||St),string:new kt}},Mt.prototype.delete=function(t){return Tt(this,t).delete(t)},Mt.prototype.get=function(t){return Tt(this,t).get(t)},Mt.prototype.has=function(t){return Tt(this,t).has(t)},Mt.prototype.set=function(t,e){return Tt(this,t).set(t,e),this},jt.prototype.clear=function(){this.__data__=new St},jt.prototype.delete=function(t){return this.__data__.delete(t)},jt.prototype.get=function(t){return this.__data__.get(t)},jt.prototype.has=function(t){return this.__data__.has(t)},jt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof St){var r=n.__data__;if(!ft||r.length<199)return r.push([t,e]),this;n=this.__data__=new Mt(r)}return n.set(t,e),this};var zt=lt?W(lt,Object):function(){return[]},Dt=function(t){return tt.call(t)};function Bt(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||E.test(t))&&t>-1&&t%1==0&&t<e}function Ft(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||K)}function Nt(t){if(null!=t){try{return Q.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function $t(t,e){return t===e||t!=t&&e!=e}(dt&&Dt(new dt(new ArrayBuffer(1)))!=y||ft&&Dt(new ft)!=u||pt&&Dt(pt.resolve())!=f||bt&&Dt(new bt)!=b||gt&&Dt(new gt)!=m)&&(Dt=function(t){var e=tt.call(t),n=e==d?t.constructor:void 0,r=n?Nt(n):void 0;if(r)switch(r){case mt:return y;case vt:return u;case yt:return f;case xt:return b;case Ct:return m}return e});var qt=Array.isArray;function Ht(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}(t.length)&&!Vt(t)}var Wt=ut||function(){return!1};function Vt(t){var e=Ut(t)?tt.call(t):"";return e==c||e==l}function Ut(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Zt(t){return Ht(t)?function(t,e){var n=qt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Ht(t)}(t)&&J.call(t,"callee")&&(!st.call(t,"callee")||tt.call(t)==o)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var a in t)!J.call(t,a)||i&&("length"==a||Bt(a,r))||n.push(a);return n}(t):function(t){if(!Ft(t))return ht(t);var e=[];for(var n in Object(t))J.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}t.exports=function(t){return Pt(t,!0,!0)}},307:(t,e,n)=>{t=n.nmd(t);var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Array]",s="[object Boolean]",c="[object Date]",l="[object Error]",u="[object Function]",h="[object Map]",d="[object Number]",f="[object Object]",p="[object Promise]",b="[object RegExp]",g="[object Set]",_="[object String]",m="[object WeakMap]",v="[object ArrayBuffer]",y="[object DataView]",x=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,w={};w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w[o]=w[a]=w[v]=w[s]=w[y]=w[c]=w[l]=w[u]=w[h]=w[d]=w[f]=w[b]=w[g]=w[_]=w[m]=!1;var O="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,k="object"==typeof self&&self&&self.Object===Object&&self,S=O||k||Function("return this")(),M=e&&!e.nodeType&&e,j=M&&t&&!t.nodeType&&t,R=j&&j.exports===M,A=R&&O.process,P=function(){try{return A&&A.binding&&A.binding("util")}catch(t){}}(),E=P&&P.isTypedArray;function I(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function T(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function L(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var z,D,B,F=Array.prototype,N=Object.prototype,$=S["__core-js_shared__"],q=Function.prototype.toString,H=N.hasOwnProperty,W=(z=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",V=N.toString,U=RegExp("^"+q.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Z=R?S.Buffer:void 0,G=S.Symbol,K=S.Uint8Array,Y=N.propertyIsEnumerable,X=F.splice,Q=G?G.toStringTag:void 0,J=Object.getOwnPropertySymbols,tt=Z?Z.isBuffer:void 0,et=(D=Object.keys,B=Object,function(t){return D(B(t))}),nt=Mt(S,"DataView"),rt=Mt(S,"Map"),it=Mt(S,"Promise"),ot=Mt(S,"Set"),at=Mt(S,"WeakMap"),st=Mt(Object,"create"),ct=Pt(nt),lt=Pt(rt),ut=Pt(it),ht=Pt(ot),dt=Pt(at),ft=G?G.prototype:void 0,pt=ft?ft.valueOf:void 0;function bt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function gt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _t(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function mt(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new _t;++e<n;)this.add(t[e])}function vt(t){var e=this.__data__=new gt(t);this.size=e.size}function yt(t,e){for(var n=t.length;n--;)if(Et(t[n][0],e))return n;return-1}function xt(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Q&&Q in Object(t)?function(t){var e=H.call(t,Q),n=t[Q];try{t[Q]=void 0;var r=!0}catch(t){}var i=V.call(t);return r&&(e?t[Q]=n:delete t[Q]),i}(t):function(t){return V.call(t)}(t)}function Ct(t){return Ft(t)&&xt(t)==o}function wt(t,e,n,r,i){return t===e||(null==t||null==e||!Ft(t)&&!Ft(e)?t!=t&&e!=e:function(t,e,n,r,i,u){var p=Tt(t),m=Tt(e),x=p?a:Rt(t),C=m?a:Rt(e),w=(x=x==o?f:x)==f,O=(C=C==o?f:C)==f,k=x==C;if(k&&Lt(t)){if(!Lt(e))return!1;p=!0,w=!1}if(k&&!w)return u||(u=new vt),p||Nt(t)?Ot(t,e,n,r,i,u):function(t,e,n,r,i,o,a){switch(n){case y:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case v:return!(t.byteLength!=e.byteLength||!o(new K(t),new K(e)));case s:case c:case d:return Et(+t,+e);case l:return t.name==e.name&&t.message==e.message;case b:case _:return t==e+"";case h:var u=T;case g:if(u||(u=L),t.size!=e.size&&!(1&r))return!1;var f=a.get(t);if(f)return f==e;r|=2,a.set(t,e);var p=Ot(u(t),u(e),r,i,o,a);return a.delete(t),p;case"[object Symbol]":if(pt)return pt.call(t)==pt.call(e)}return!1}(t,e,x,n,r,i,u);if(!(1&n)){var S=w&&H.call(t,"__wrapped__"),M=O&&H.call(e,"__wrapped__");if(S||M){var j=S?t.value():t,R=M?e.value():e;return u||(u=new vt),i(j,R,n,r,u)}}return!!k&&(u||(u=new vt),function(t,e,n,r,i,o){var a=1&n,s=kt(t),c=s.length;if(c!=kt(e).length&&!a)return!1;for(var l=c;l--;){var u=s[l];if(!(a?u in e:H.call(e,u)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var d=!0;o.set(t,e),o.set(e,t);for(var f=a;++l<c;){var p=t[u=s[l]],b=e[u];if(r)var g=a?r(b,p,u,e,t,o):r(p,b,u,t,e,o);if(!(void 0===g?p===b||i(p,b,n,r,o):g)){d=!1;break}f||(f="constructor"==u)}if(d&&!f){var _=t.constructor,m=e.constructor;_==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof m&&m instanceof m||(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,r,i,u))}(t,e,n,r,wt,i))}function Ot(t,e,n,r,i,o){var a=1&n,s=t.length,c=e.length;if(s!=c&&!(a&&c>s))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var u=-1,h=!0,d=2&n?new mt:void 0;for(o.set(t,e),o.set(e,t);++u<s;){var f=t[u],p=e[u];if(r)var b=a?r(p,f,u,e,t,o):r(f,p,u,t,e,o);if(void 0!==b){if(b)continue;h=!1;break}if(d){if(!I(e,function(t,e){if(!d.has(e)&&(f===t||i(f,t,n,r,o)))return d.push(e)})){h=!1;break}}else if(f!==p&&!i(f,p,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function kt(t){return function(t,e,n){var r=e(t);return Tt(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,$t,jt)}function St(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Mt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Bt(t)||function(t){return!!W&&W in t}(t))&&(zt(t)?U:x).test(Pt(t))}(n)?n:void 0}bt.prototype.clear=function(){this.__data__=st?st(null):{},this.size=0},bt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},bt.prototype.get=function(t){var e=this.__data__;if(st){var n=e[t];return n===r?void 0:n}return H.call(e,t)?e[t]:void 0},bt.prototype.has=function(t){var e=this.__data__;return st?void 0!==e[t]:H.call(e,t)},bt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=st&&void 0===e?r:e,this},gt.prototype.clear=function(){this.__data__=[],this.size=0},gt.prototype.delete=function(t){var e=this.__data__,n=yt(e,t);return!(n<0||(n==e.length-1?e.pop():X.call(e,n,1),--this.size,0))},gt.prototype.get=function(t){var e=this.__data__,n=yt(e,t);return n<0?void 0:e[n][1]},gt.prototype.has=function(t){return yt(this.__data__,t)>-1},gt.prototype.set=function(t,e){var n=this.__data__,r=yt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},_t.prototype.clear=function(){this.size=0,this.__data__={hash:new bt,map:new(rt||gt),string:new bt}},_t.prototype.delete=function(t){var e=St(this,t).delete(t);return this.size-=e?1:0,e},_t.prototype.get=function(t){return St(this,t).get(t)},_t.prototype.has=function(t){return St(this,t).has(t)},_t.prototype.set=function(t,e){var n=St(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},mt.prototype.add=mt.prototype.push=function(t){return this.__data__.set(t,r),this},mt.prototype.has=function(t){return this.__data__.has(t)},vt.prototype.clear=function(){this.__data__=new gt,this.size=0},vt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},vt.prototype.get=function(t){return this.__data__.get(t)},vt.prototype.has=function(t){return this.__data__.has(t)},vt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof gt){var r=n.__data__;if(!rt||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new _t(r)}return n.set(t,e),this.size=n.size,this};var jt=J?function(t){return null==t?[]:(t=Object(t),function(e,n){for(var r=-1,i=null==e?0:e.length,o=0,a=[];++r<i;){var s=e[r];Y.call(t,s)&&(a[o++]=s)}return a}(J(t)))}:function(){return[]},Rt=xt;function At(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||C.test(t))&&t>-1&&t%1==0&&t<e}function Pt(t){if(null!=t){try{return q.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Et(t,e){return t===e||t!=t&&e!=e}(nt&&Rt(new nt(new ArrayBuffer(1)))!=y||rt&&Rt(new rt)!=h||it&&Rt(it.resolve())!=p||ot&&Rt(new ot)!=g||at&&Rt(new at)!=m)&&(Rt=function(t){var e=xt(t),n=e==f?t.constructor:void 0,r=n?Pt(n):"";if(r)switch(r){case ct:return y;case lt:return h;case ut:return p;case ht:return g;case dt:return m}return e});var It=Ct(function(){return arguments}())?Ct:function(t){return Ft(t)&&H.call(t,"callee")&&!Y.call(t,"callee")},Tt=Array.isArray,Lt=tt||function(){return!1};function zt(t){if(!Bt(t))return!1;var e=xt(t);return e==u||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Dt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function Bt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ft(t){return null!=t&&"object"==typeof t}var Nt=E?function(t){return function(e){return t(e)}}(E):function(t){return Ft(t)&&Dt(t.length)&&!!w[xt(t)]};function $t(t){return null!=(e=t)&&Dt(e.length)&&!zt(e)?function(t,e){var n=Tt(t),r=!n&&It(t),i=!n&&!r&&Lt(t),o=!n&&!r&&!i&&Nt(t),a=n||r||i||o,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],c=s.length;for(var l in t)!H.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||At(l,c))||s.push(l);return s}(t):function(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||N))return et(t);var e,n,r=[];for(var i in Object(t))H.call(t,i)&&"constructor"!=i&&r.push(i);return r}(t);var e}t.exports=function(t,e){return wt(t,e)}},210:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i,o=r(n(465)),a=r(n(307));!function(t){t.compose=function(t,e,n){void 0===t&&(t={}),void 0===e&&(e={}),"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var r=o.default(e);for(var i in n||(r=Object.keys(r).reduce(function(t,e){return null!=r[e]&&(t[e]=r[e]),t},{})),t)void 0!==t[i]&&void 0===e[i]&&(r[i]=t[i]);return Object.keys(r).length>0?r:void 0},t.diff=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce(function(n,r){return a.default(t[r],e[r])||(n[r]=void 0===e[r]?null:e[r]),n},{});return Object.keys(n).length>0?n:void 0},t.invert=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),t=t||{};var n=Object.keys(e).reduce(function(n,r){return e[r]!==t[r]&&void 0!==t[r]&&(n[r]=e[r]),n},{});return Object.keys(t).reduce(function(n,r){return t[r]!==e[r]&&void 0===e[r]&&(n[r]=null),n},n)},t.transform=function(t,e,n){if(void 0===n&&(n=!1),"object"!=typeof t)return e;if("object"==typeof e){if(!n)return e;var r=Object.keys(e).reduce(function(n,r){return void 0===t[r]&&(n[r]=e[r]),n},{});return Object.keys(r).length>0?r:void 0}}}(i||(i={})),e.default=i},895:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=r(n(103)),o=r(n(465)),a=r(n(307)),s=r(n(210)),c=r(n(430)),l=String.fromCharCode(0),u=function(){function t(t){this.ops=Array.isArray(t)?t:null!=t&&Array.isArray(t.ops)?t.ops:[]}return t.prototype.insert=function(t,e){var n={};return"string"==typeof t&&0===t.length?this:(n.insert=t,null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},t.prototype.delete=function(t){return t<=0?this:this.push({delete:t})},t.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};return null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},t.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=o.default(t),"object"==typeof n){if("number"==typeof t.delete&&"number"==typeof n.delete)return this.ops[e-1]={delete:n.delete+t.delete},this;if("number"==typeof n.delete&&null!=t.insert&&"object"!=typeof(n=this.ops[(e-=1)-1]))return this.ops.unshift(t),this;if(a.default(t.attributes,n.attributes)){if("string"==typeof t.insert&&"string"==typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},t.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},t.prototype.filter=function(t){return this.ops.filter(t)},t.prototype.forEach=function(t){this.ops.forEach(t)},t.prototype.map=function(t){return this.ops.map(t)},t.prototype.partition=function(t){var e=[],n=[];return this.forEach(function(r){(t(r)?e:n).push(r)}),[e,n]},t.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},t.prototype.changeLength=function(){return this.reduce(function(t,e){return e.insert?t+c.default.length(e):e.delete?t-e.delete:t},0)},t.prototype.length=function(){return this.reduce(function(t,e){return t+c.default.length(e)},0)},t.prototype.slice=function(e,n){void 0===e&&(e=0),void 0===n&&(n=1/0);for(var r=[],i=c.default.iterator(this.ops),o=0;o<n&&i.hasNext();){var a=void 0;o<e?a=i.next(e-o):(a=i.next(n-o),r.push(a)),o+=c.default.length(a)}return new t(r)},t.prototype.compose=function(e){var n=c.default.iterator(this.ops),r=c.default.iterator(e.ops),i=[],o=r.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){for(var l=o.retain;"insert"===n.peekType()&&n.peekLength()<=l;)l-=n.peekLength(),i.push(n.next());o.retain-l>0&&r.next(o.retain-l)}for(var u=new t(i);n.hasNext()||r.hasNext();)if("insert"===r.peekType())u.push(r.next());else if("delete"===n.peekType())u.push(n.next());else{var h=Math.min(n.peekLength(),r.peekLength()),d=n.next(h),f=r.next(h);if("number"==typeof f.retain){var p={};"number"==typeof d.retain?p.retain=h:p.insert=d.insert;var b=s.default.compose(d.attributes,f.attributes,"number"==typeof d.retain);if(b&&(p.attributes=b),u.push(p),!r.hasNext()&&a.default(u.ops[u.ops.length-1],p)){var g=new t(n.rest());return u.concat(g).chop()}}else"number"==typeof f.delete&&"number"==typeof d.retain&&u.push(f)}return u.chop()},t.prototype.concat=function(e){var n=new t(this.ops.slice());return e.ops.length>0&&(n.push(e.ops[0]),n.ops=n.ops.concat(e.ops.slice(1))),n},t.prototype.diff=function(e,n){if(this.ops===e.ops)return new t;var r=[this,e].map(function(t){return t.map(function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:l;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")}).join("")}),o=new t,u=i.default(r[0],r[1],n),h=c.default.iterator(this.ops),d=c.default.iterator(e.ops);return u.forEach(function(t){for(var e=t[1].length;e>0;){var n=0;switch(t[0]){case i.default.INSERT:n=Math.min(d.peekLength(),e),o.push(d.next(n));break;case i.default.DELETE:n=Math.min(e,h.peekLength()),h.next(n),o.delete(n);break;case i.default.EQUAL:n=Math.min(h.peekLength(),d.peekLength(),e);var r=h.next(n),c=d.next(n);a.default(r.insert,c.insert)?o.retain(n,s.default.diff(r.attributes,c.attributes)):o.push(c).delete(n)}e-=n}}),o.chop()},t.prototype.eachLine=function(e,n){void 0===n&&(n="\n");for(var r=c.default.iterator(this.ops),i=new t,o=0;r.hasNext();){if("insert"!==r.peekType())return;var a=r.peek(),s=c.default.length(a)-r.peekLength(),l="string"==typeof a.insert?a.insert.indexOf(n,s)-s:-1;if(l<0)i.push(r.next());else if(l>0)i.push(r.next(l));else{if(!1===e(i,r.next(1).attributes||{},o))return;o+=1,i=new t}}i.length()>0&&e(i,{},o)},t.prototype.invert=function(e){var n=new t;return this.reduce(function(t,r){if(r.insert)n.delete(c.default.length(r));else{if(r.retain&&null==r.attributes)return n.retain(r.retain),t+r.retain;if(r.delete||r.retain&&r.attributes){var i=r.delete||r.retain;return e.slice(t,t+i).forEach(function(t){r.delete?n.push(t):r.retain&&r.attributes&&n.retain(c.default.length(t),s.default.invert(r.attributes,t.attributes))}),t+i}}return t},0),n.chop()},t.prototype.transform=function(e,n){if(void 0===n&&(n=!1),n=!!n,"number"==typeof e)return this.transformPosition(e,n);for(var r=e,i=c.default.iterator(this.ops),o=c.default.iterator(r.ops),a=new t;i.hasNext()||o.hasNext();)if("insert"!==i.peekType()||!n&&"insert"===o.peekType())if("insert"===o.peekType())a.push(o.next());else{var l=Math.min(i.peekLength(),o.peekLength()),u=i.next(l),h=o.next(l);if(u.delete)continue;h.delete?a.push(h):a.retain(l,s.default.transform(u.attributes,h.attributes,n))}else a.retain(c.default.length(i.next()));return a.chop()},t.prototype.transformPosition=function(t,e){void 0===e&&(e=!1),e=!!e;for(var n=c.default.iterator(this.ops),r=0;n.hasNext()&&r<=t;){var i=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(r<t||!e)&&(t+=i),r+=i):t-=Math.min(i,t-r)}return t},t.Op=c.default,t.AttributeMap=s.default,t}();t.exports=u},977:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(430)),o=function(){function t(t){this.ops=t,this.index=0,this.offset=0}return t.prototype.hasNext=function(){return this.peekLength()<1/0},t.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,r=i.default.length(e);if(t>=r-n?(t=r-n,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete)return{delete:t};var o={};return e.attributes&&(o.attributes=e.attributes),"number"==typeof e.retain?o.retain=t:o.insert="string"==typeof e.insert?e.insert.substr(n,t):e.insert,o}return{retain:1/0}},t.prototype.peek=function(){return this.ops[this.index]},t.prototype.peekLength=function(){return this.ops[this.index]?i.default.length(this.ops[this.index])-this.offset:1/0},t.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},t.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(r)}return[]},t}();e.default=o},430:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i,o=r(n(977));!function(t){t.iterator=function(t){return new o.default(t)},t.length=function(t){return"number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"string"==typeof t.insert?t.insert.length:1}}(i||(i={})),e.default=i},103:t=>{var e=-1;function n(t,s,c,l){if(t===s)return t?[[0,t]]:[];if(null!=c){var u=function(t,e,n){var r="number"==typeof n?{index:n,length:0}:n.oldRange,i="number"==typeof n?null:n.newRange,o=t.length,a=e.length;if(0===r.length&&(null===i||0===i.length)){var s=r.index,c=t.slice(0,s),l=t.slice(s),u=i?i.index:null,d=s+a-o;if((null===u||u===d)&&!(d<0||d>a)){var f=e.slice(0,d);if((g=e.slice(d))===l){var p=Math.min(s,d);if((m=c.slice(0,p))===(y=f.slice(0,p)))return h(m,c.slice(p),f.slice(p),l)}}if(null===u||u===s){var b=s,g=(f=e.slice(0,b),e.slice(b));if(f===c){var _=Math.min(o-b,a-b);if((v=l.slice(l.length-_))===(x=g.slice(g.length-_)))return h(c,l.slice(0,l.length-_),g.slice(0,g.length-_),v)}}}if(r.length>0&&i&&0===i.length){var m=t.slice(0,r.index),v=t.slice(r.index+r.length);if(!(a<(p=m.length)+(_=v.length))){var y=e.slice(0,p),x=e.slice(a-_);if(m===y&&v===x)return h(m,t.slice(p,o-_),e.slice(p,a-_),v)}}return null}(t,s,c);if(u)return u}var d=i(t,s),f=t.substring(0,d);d=o(t=t.substring(d),s=s.substring(d));var p=t.substring(t.length-d),b=function(t,a){var s;if(!t)return[[1,a]];if(!a)return[[e,t]];var c=t.length>a.length?t:a,l=t.length>a.length?a:t,u=c.indexOf(l);if(-1!==u)return s=[[1,c.substring(0,u)],[0,l],[1,c.substring(u+l.length)]],t.length>a.length&&(s[0][0]=s[2][0]=e),s;if(1===l.length)return[[e,t],[1,a]];var h=function(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;function a(t,e,n){for(var r,a,s,c,l=t.substring(n,n+Math.floor(t.length/4)),u=-1,h="";-1!==(u=e.indexOf(l,u+1));){var d=i(t.substring(n),e.substring(u)),f=o(t.substring(0,n),e.substring(0,u));h.length<f+d&&(h=e.substring(u-f,u)+e.substring(u,u+d),r=t.substring(0,n-f),a=t.substring(n+d),s=e.substring(0,u-f),c=e.substring(u+d))}return 2*h.length>=t.length?[r,a,s,c,h]:null}var s,c,l,u,h,d=a(n,r,Math.ceil(n.length/4)),f=a(n,r,Math.ceil(n.length/2));return d||f?(s=f?d&&d[4].length>f[4].length?d:f:d,t.length>e.length?(c=s[0],l=s[1],u=s[2],h=s[3]):(u=s[0],h=s[1],c=s[2],l=s[3]),[c,l,u,h,s[4]]):null}(t,a);if(h){var d=h[1],f=h[3],p=h[4],b=n(h[0],h[2]),g=n(d,f);return b.concat([[0,p]],g)}return function(t,n){for(var i=t.length,o=n.length,a=Math.ceil((i+o)/2),s=a,c=2*a,l=new Array(c),u=new Array(c),h=0;h<c;h++)l[h]=-1,u[h]=-1;l[s+1]=0,u[s+1]=0;for(var d=i-o,f=d%2!=0,p=0,b=0,g=0,_=0,m=0;m<a;m++){for(var v=-m+p;v<=m-b;v+=2){for(var y=s+v,x=(S=v===-m||v!==m&&l[y-1]<l[y+1]?l[y+1]:l[y-1]+1)-v;S<i&&x<o&&t.charAt(S)===n.charAt(x);)S++,x++;if(l[y]=S,S>i)b+=2;else if(x>o)p+=2;else if(f&&(O=s+d-v)>=0&&O<c&&-1!==u[O]&&S>=(w=i-u[O]))return r(t,n,S,x)}for(var C=-m+g;C<=m-_;C+=2){for(var w,O=s+C,k=(w=C===-m||C!==m&&u[O-1]<u[O+1]?u[O+1]:u[O-1]+1)-C;w<i&&k<o&&t.charAt(i-w-1)===n.charAt(o-k-1);)w++,k++;if(u[O]=w,w>i)_+=2;else if(k>o)g+=2;else if(!f){var S;if((y=s+d-C)>=0&&y<c&&-1!==l[y]&&(x=s+(S=l[y])-y,S>=(w=i-w)))return r(t,n,S,x)}}}return[[e,t],[1,n]]}(t,a)}(t=t.substring(0,t.length-d),s=s.substring(0,s.length-d));return f&&b.unshift([0,f]),p&&b.push([0,p]),a(b,l),b}function r(t,e,r,i){var o=t.substring(0,r),a=e.substring(0,i),s=t.substring(r),c=e.substring(i),l=n(o,a),u=n(s,c);return l.concat(u)}function i(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(o,i)==e.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return s(t.charCodeAt(i-1))&&i--,i}function o(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return c(t.charCodeAt(t.length-i))&&i--,i}function a(t,n){t.push([0,""]);for(var r,s=0,c=0,h=0,d="",f="";s<t.length;)if(s<t.length-1&&!t[s][1])t.splice(s,1);else switch(t[s][0]){case 1:h++,f+=t[s][1],s++;break;case e:c++,d+=t[s][1],s++;break;case 0:var p=s-h-c-1;if(n){if(p>=0&&u(t[p][1])){var b=t[p][1].slice(-1);if(t[p][1]=t[p][1].slice(0,-1),d=b+d,f=b+f,!t[p][1]){t.splice(p,1),s--;var g=p-1;t[g]&&1===t[g][0]&&(h++,f=t[g][1]+f,g--),t[g]&&t[g][0]===e&&(c++,d=t[g][1]+d,g--),p=g}}l(t[s][1])&&(b=t[s][1].charAt(0),t[s][1]=t[s][1].slice(1),d+=b,f+=b)}if(s<t.length-1&&!t[s][1]){t.splice(s,1);break}if(d.length>0||f.length>0){d.length>0&&f.length>0&&(0!==(r=i(f,d))&&(p>=0?t[p][1]+=f.substring(0,r):(t.splice(0,0,[0,f.substring(0,r)]),s++),f=f.substring(r),d=d.substring(r)),0!==(r=o(f,d))&&(t[s][1]=f.substring(f.length-r)+t[s][1],f=f.substring(0,f.length-r),d=d.substring(0,d.length-r)));var _=h+c;0===d.length&&0===f.length?(t.splice(s-_,_),s-=_):0===d.length?(t.splice(s-_,_,[1,f]),s=s-_+1):0===f.length?(t.splice(s-_,_,[e,d]),s=s-_+1):(t.splice(s-_,_,[e,d],[1,f]),s=s-_+2)}0!==s&&0===t[s-1][0]?(t[s-1][1]+=t[s][1],t.splice(s,1)):s++,h=0,c=0,d="",f=""}""===t[t.length-1][1]&&t.pop();var m=!1;for(s=1;s<t.length-1;)0===t[s-1][0]&&0===t[s+1][0]&&(t[s][1].substring(t[s][1].length-t[s-1][1].length)===t[s-1][1]?(t[s][1]=t[s-1][1]+t[s][1].substring(0,t[s][1].length-t[s-1][1].length),t[s+1][1]=t[s-1][1]+t[s+1][1],t.splice(s-1,1),m=!0):t[s][1].substring(0,t[s+1][1].length)==t[s+1][1]&&(t[s-1][1]+=t[s+1][1],t[s][1]=t[s][1].substring(t[s+1][1].length)+t[s+1][1],t.splice(s+1,1),m=!0)),s++;m&&a(t,n)}function s(t){return t>=55296&&t<=56319}function c(t){return t>=56320&&t<=57343}function l(t){return c(t.charCodeAt(0))}function u(t){return s(t.charCodeAt(t.length-1))}function h(t,n,r,i){return u(t)||l(i)?null:function(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}([[0,t],[e,n],[1,r],[0,i]])}function d(t,e,r){return n(t,e,r,!0)}d.INSERT=1,d.DELETE=e,d.EQUAL=0,t.exports=d},165:function(t,e,n){var r,i;void 0===(i="function"==typeof(r=function(){var t,e={};function n(t){var e;return t?screen.deviceXDPI===screen.logicalXDPI?t:"length"in t?Array.prototype.map.call(t,n):(e=screen.deviceXDPI/screen.logicalXDPI,{top:t.top/e,bottom:t.bottom/e,left:t.left/e,right:t.right/e,width:t.width/e,height:t.height/e}):t}function r(t,e){var n,r=0,i=1024;if(i>=e.length)return Array.prototype.push.apply(t,e);for(;r<e.length;)n=Array.prototype.push.apply(t,Array.prototype.slice.call(e,r,r+i)),r+=i;return n}return e.isBroken=function(){var e,n,r,i,o,a,s,c;return void 0===t&&(n=document.createElement("p"),r=document.createElement("span"),i=document.createTextNode("aa"),o=document.createTextNode("aa"),(a=document.createElement("img")).setAttribute("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="),s=document.createRange(),t={},n.appendChild(i),n.appendChild(r),r.appendChild(a),r.appendChild(o),document.body.appendChild(n),s.setStart(i,1),s.setEnd(r,0),t.getClientRects=t.getBoundingClientRect=s.getClientRects().length>1,t.getClientRects||(s.setEnd(o,1),t.getClientRects=t.getBoundingClientRect=2===s.getClientRects().length),t.getBoundingClientRect||(s.setEnd(s.startContainer,s.startOffset),e=s.getBoundingClientRect(),t.getBoundingClientRect=0===e.top&&0===e.left),document.body.removeChild(n),c=window.ActiveXObject&&new Function("/*@cc_on return @_jscript_version; @*/")(),t.ieZoom=!!c&&c<=10),t},e.getClientRects=function(t){var e,i,o,a,s,c=this.isBroken();if(c.ieZoom)return n(t.getClientRects());if(!c.getClientRects)return t.getClientRects();function l(t){for(var e=0;t=t.previousSibling;)e++;return e}for(e=[],o=[],i=t.endContainer,a=t.endOffset,s=document.createRange();i!==t.commonAncestorContainer;)s.setStart(i,0),s.setEnd(i,a),r(o,s.getClientRects()),a=l(i),i=i.parentNode;return(s=t.cloneRange()).setEnd(i,a),r(e,s.getClientRects()),r(e,o),e},e.getBoundingClientRect=function(t){var e,r,i,o,a,s,c=this.getClientRects(t);if(0===c.length)return null;if(a=t.getBoundingClientRect(),(s=this.isBroken()).ieZoom)return n(a);if(!s.getBoundingClientRect)return a;if(0===a.width&&0===a.height)return c[0];for(e=0,r=c.length;e<r;e++)o=c[e],i?(i.left=Math.min(i.left,o.left),i.top=Math.min(i.top,o.top),i.right=Math.max(i.right,o.right),i.bottom=Math.max(i.bottom,o.bottom)):i={left:o.left,top:o.top,right:o.right,bottom:o.bottom};return i&&(i.width=i.right-i.left,i.height=i.bottom-i.top),i},e})?r.call(e,n,e,t):r)||(t.exports=i)},33:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>C});var r=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some(function(t,r){return t[0]===e&&(n=r,!0)}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},s=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,l=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&c()}function s(){a(o)}function c(){var t=Date.now();if(n){if(t-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,20);i=t}return c}(this.refresh.bind(this))}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},t.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;s.some(function(t){return!!~n.indexOf(t)})&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),u=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},h=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||o},d=g(0,0,0,0);function f(t){return parseFloat(t)||0}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(e,n){return e+f(t["border-"+n+"-width"])},0)}var b="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof h(t).SVGGraphicsElement}:function(t){return t instanceof h(t).SVGElement&&"function"==typeof t.getBBox};function g(t,e,n,r){return{x:t,y:e,width:n,height:r}}var _=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=function(t){return i?b(t)?function(t){var e=t.getBBox();return g(0,0,e.width,e.height)}(t):function(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return d;var r=h(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n];e[i]=f(t["padding-"+i])}return e}(r),o=i.left+i.right,a=i.top+i.bottom,s=f(r.width),c=f(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==e&&(s-=p(r,"left","right")+o),Math.round(c+a)!==n&&(c-=p(r,"top","bottom")+a)),!function(t){return t===h(t).document.documentElement}(t)){var l=Math.round(s+o)-e,u=Math.round(c+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(u)&&(c-=u)}return g(i.left,i.top,s,c)}(t):d}(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),m=function(t,e){var n,r,i,o,a,s,c,l=(r=(n=e).x,i=n.y,o=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(s.prototype),u(c,{x:r,y:i,width:o,height:a,top:i,right:r+o,bottom:a+i,left:r}),c);u(this,{target:t,contentRect:l})},v=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof h(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new _(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof h(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new m(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),y="undefined"!=typeof WeakMap?new WeakMap:new r,x=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=l.getInstance(),r=new v(e,n,this);y.set(this,r)};["observe","unobserve","disconnect"].forEach(function(t){x.prototype[t]=function(){var e;return(e=y.get(this))[t].apply(e,arguments)}});const C=void 0!==o.ResizeObserver?o.ResizeObserver:x},413:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var r=n(379),i=n.n(r),o=n(582);i()(o.Z,{insert:"head",singleton:!1});const a=o.Z.locals||{}},379:(t,e,n)=>{"use strict";var r,i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function a(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},r=[],i=0;i<t.length;i++){var s=t[i],c=e.base?s[0]+e.base:s[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var h=a(u),d={css:s[1],media:s[2],sourceMap:s[3]};-1!==h?(o[h].references++,o[h].updater(d)):o.push({identifier:u,updater:b(d,e),references:1}),r.push(u)}return r}function c(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach(function(t){e.setAttribute(t,r[t])}),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,u=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function h(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=u(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function d(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var f=null,p=0;function b(t,e){var n,r,i;if(e.singleton){var o=p++;n=f||(f=c(e)),r=h.bind(null,n,o,!1),i=h.bind(null,n,o,!0)}else n=c(e),r=d.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=a(n[r]);o[i].references--}for(var c=s(t,e),l=0;l<n.length;l++){var u=a(n[l]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}n=c}}}},621:(t,e,n)=>{var r;!function(i){var o=/^\s+/,a=/\s+$/,s=0,c=i.round,l=i.min,u=i.max,h=i.random;function d(t,e){if(e=e||{},(t=t||"")instanceof d)return t;if(!(this instanceof d))return new d(t,e);var n=function(t){var e,n,r={r:0,g:0,b:0},s=1,c=null,h=null,d=null,f=!1,p=!1;return"string"==typeof t&&(t=function(t){t=t.replace(o,"").replace(a,"").toLowerCase();var e,n=!1;if(A[t])t=A[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=H.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=H.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=H.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=H.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=H.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=H.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=H.hex8.exec(t))?{r:L(e[1]),g:L(e[2]),b:L(e[3]),a:F(e[4]),format:n?"name":"hex8"}:(e=H.hex6.exec(t))?{r:L(e[1]),g:L(e[2]),b:L(e[3]),format:n?"name":"hex"}:(e=H.hex4.exec(t))?{r:L(e[1]+""+e[1]),g:L(e[2]+""+e[2]),b:L(e[3]+""+e[3]),a:F(e[4]+""+e[4]),format:n?"name":"hex8"}:!!(e=H.hex3.exec(t))&&{r:L(e[1]+""+e[1]),g:L(e[2]+""+e[2]),b:L(e[3]+""+e[3]),format:n?"name":"hex"}}(t)),"object"==typeof t&&(W(t.r)&&W(t.g)&&W(t.b)?(e=t.g,n=t.b,r={r:255*I(t.r,255),g:255*I(e,255),b:255*I(n,255)},f=!0,p="%"===String(t.r).substr(-1)?"prgb":"rgb"):W(t.h)&&W(t.s)&&W(t.v)?(c=D(t.s),h=D(t.v),r=function(t,e,n){t=6*I(t,360),e=I(e,100),n=I(n,100);var r=i.floor(t),o=t-r,a=n*(1-e),s=n*(1-o*e),c=n*(1-(1-o)*e),l=r%6;return{r:255*[n,s,a,a,c,n][l],g:255*[c,n,n,s,a,a][l],b:255*[a,a,c,n,n,s][l]}}(t.h,c,h),f=!0,p="hsv"):W(t.h)&&W(t.s)&&W(t.l)&&(c=D(t.s),d=D(t.l),r=function(t,e,n){var r,i,o;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=I(t,360),e=I(e,100),n=I(n,100),0===e)r=i=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,c=2*n-s;r=a(c,s,t+1/3),i=a(c,s,t),o=a(c,s,t-1/3)}return{r:255*r,g:255*i,b:255*o}}(t.h,c,d),f=!0,p="hsl"),t.hasOwnProperty("a")&&(s=t.a)),s=E(s),{ok:f,format:t.format||p,r:l(255,u(r.r,0)),g:l(255,u(r.g,0)),b:l(255,u(r.b,0)),a:s}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=c(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=c(this._r)),this._g<1&&(this._g=c(this._g)),this._b<1&&(this._b=c(this._b)),this._ok=n.ok,this._tc_id=s++}function f(t,e,n){t=I(t,255),e=I(e,255),n=I(n,255);var r,i,o=u(t,e,n),a=l(t,e,n),s=(o+a)/2;if(o==a)r=i=0;else{var c=o-a;switch(i=s>.5?c/(2-o-a):c/(o+a),o){case t:r=(e-n)/c+(e<n?6:0);break;case e:r=(n-t)/c+2;break;case n:r=(t-e)/c+4}r/=6}return{h:r,s:i,l:s}}function p(t,e,n){t=I(t,255),e=I(e,255),n=I(n,255);var r,i,o=u(t,e,n),a=l(t,e,n),s=o,c=o-a;if(i=0===o?0:c/o,o==a)r=0;else{switch(o){case t:r=(e-n)/c+(e<n?6:0);break;case e:r=(n-t)/c+2;break;case n:r=(t-e)/c+4}r/=6}return{h:r,s:i,v:s}}function b(t,e,n,r){var i=[z(c(t).toString(16)),z(c(e).toString(16)),z(c(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function g(t,e,n,r){return[z(B(r)),z(c(t).toString(16)),z(c(e).toString(16)),z(c(n).toString(16))].join("")}function _(t,e){e=0===e?0:e||10;var n=d(t).toHsl();return n.s-=e/100,n.s=T(n.s),d(n)}function m(t,e){e=0===e?0:e||10;var n=d(t).toHsl();return n.s+=e/100,n.s=T(n.s),d(n)}function v(t){return d(t).desaturate(100)}function y(t,e){e=0===e?0:e||10;var n=d(t).toHsl();return n.l+=e/100,n.l=T(n.l),d(n)}function x(t,e){e=0===e?0:e||10;var n=d(t).toRgb();return n.r=u(0,l(255,n.r-c(-e/100*255))),n.g=u(0,l(255,n.g-c(-e/100*255))),n.b=u(0,l(255,n.b-c(-e/100*255))),d(n)}function C(t,e){e=0===e?0:e||10;var n=d(t).toHsl();return n.l-=e/100,n.l=T(n.l),d(n)}function w(t,e){var n=d(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,d(n)}function O(t){var e=d(t).toHsl();return e.h=(e.h+180)%360,d(e)}function k(t){var e=d(t).toHsl(),n=e.h;return[d(t),d({h:(n+120)%360,s:e.s,l:e.l}),d({h:(n+240)%360,s:e.s,l:e.l})]}function S(t){var e=d(t).toHsl(),n=e.h;return[d(t),d({h:(n+90)%360,s:e.s,l:e.l}),d({h:(n+180)%360,s:e.s,l:e.l}),d({h:(n+270)%360,s:e.s,l:e.l})]}function M(t){var e=d(t).toHsl(),n=e.h;return[d(t),d({h:(n+72)%360,s:e.s,l:e.l}),d({h:(n+216)%360,s:e.s,l:e.l})]}function j(t,e,n){e=e||6,n=n||30;var r=d(t).toHsl(),i=360/n,o=[d(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(d(r));return o}function R(t,e){e=e||6;for(var n=d(t).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;e--;)a.push(d({h:r,s:i,v:o})),o=(o+s)%1;return a}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r=this.toRgb();return e=r.g/255,n=r.b/255,.2126*((t=r.r/255)<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=E(t),this._roundA=c(100*this._a)/100,this},toHsv:function(){var t=p(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=p(this._r,this._g,this._b),e=c(360*t.h),n=c(100*t.s),r=c(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=f(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=f(this._r,this._g,this._b),e=c(360*t.h),n=c(100*t.s),r=c(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return b(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,r,i){var o=[z(c(t).toString(16)),z(c(e).toString(16)),z(c(n).toString(16)),z(B(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:c(this._r),g:c(this._g),b:c(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+c(this._r)+", "+c(this._g)+", "+c(this._b)+")":"rgba("+c(this._r)+", "+c(this._g)+", "+c(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:c(100*I(this._r,255))+"%",g:c(100*I(this._g,255))+"%",b:c(100*I(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+c(100*I(this._r,255))+"%, "+c(100*I(this._g,255))+"%, "+c(100*I(this._b,255))+"%)":"rgba("+c(100*I(this._r,255))+"%, "+c(100*I(this._g,255))+"%, "+c(100*I(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(P[b(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+g(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=d(t);n="#"+g(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1;return e||!(this._a<1&&this._a>=0)||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(C,arguments)},desaturate:function(){return this._applyModification(_,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(v,arguments)},spin:function(){return this._applyModification(w,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(j,arguments)},complement:function(){return this._applyCombination(O,arguments)},monochromatic:function(){return this._applyCombination(R,arguments)},splitcomplement:function(){return this._applyCombination(M,arguments)},triad:function(){return this._applyCombination(k,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},d.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:D(t[r]));t=n}return d(t,e)},d.equals=function(t,e){return!(!t||!e)&&d(t).toRgbString()==d(e).toRgbString()},d.random=function(){return d.fromRatio({r:h(),g:h(),b:h()})},d.mix=function(t,e,n){n=0===n?0:n||50;var r=d(t).toRgb(),i=d(e).toRgb(),o=n/100;return d({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},d.readability=function(t,e){var n=d(t),r=d(e);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},d.isReadable=function(t,e,n){var r,i,o,a,s,c=d.readability(t,e);switch(i=!1,(o=n,"AA"!==(a=((o=o||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==a&&(a="AA"),"small"!==(s=(o.size||"small").toLowerCase())&&"large"!==s&&(s="small"),r={level:a,size:s}).level+r.size){case"AAsmall":case"AAAlarge":i=c>=4.5;break;case"AAlarge":i=c>=3;break;case"AAAsmall":i=c>=7}return i},d.mostReadable=function(t,e,n){var r,i,o,a,s=null,c=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var l=0;l<e.length;l++)(r=d.readability(t,e[l]))>c&&(c=r,s=d(e[l]));return d.isReadable(t,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,d.mostReadable(t,["#fff","#000"],n))};var A=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=d.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(A);function E(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function I(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=l(e,u(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),i.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function T(t){return l(1,u(0,t))}function L(t){return parseInt(t,16)}function z(t){return 1==t.length?"0"+t:""+t}function D(t){return t<=1&&(t=100*t+"%"),t}function B(t){return i.round(255*parseFloat(t)).toString(16)}function F(t){return L(t)/255}var N,$,q,H=($="[\\s|\\(]+("+(N="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",q="[\\s|\\(]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",{CSS_UNIT:new RegExp(N),rgb:new RegExp("rgb"+$),rgba:new RegExp("rgba"+q),hsl:new RegExp("hsl"+$),hsla:new RegExp("hsla"+q),hsv:new RegExp("hsv"+$),hsva:new RegExp("hsva"+q),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function W(t){return!!H.CSS_UNIT.exec(t)}t.exports?t.exports=d:void 0===(r=(function(){return d}).call(e,n,e,t))||(t.exports=r)}(Math)},607:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=e.default=void 0;var i=r(n(678));e.default=i.default;var o=r(n(353));e.Cursor=o.default,n(413)},353:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(621),i=function(){function t(t,e,n){this.id=t,this.name=e,this.color=n}return t.prototype.build=function(e){var n=document.createElement(t.CONTAINER_ELEMENT_TAG);n.classList.add(t.CURSOR_CLASS),n.id="ql-cursor-"+this.id,n.innerHTML=e.template;var r=n.getElementsByClassName(t.SELECTION_CLASS)[0],i=n.getElementsByClassName(t.CARET_CONTAINER_CLASS)[0],o=i.getElementsByClassName(t.CARET_CLASS)[0],a=n.getElementsByClassName(t.FLAG_CLASS)[0];return a.style.backgroundColor=this.color,o.style.backgroundColor=this.color,n.getElementsByClassName(t.NAME_CLASS)[0].textContent=this.name,this._hideDelay=e.hideDelayMs+"ms",this._hideSpeedMs=e.hideSpeedMs,this._positionFlag=e.positionFlag,a.style.transitionDelay=this._hideDelay,a.style.transitionDuration=this._hideSpeedMs+"ms",this._el=n,this._selectionEl=r,this._caretEl=i,this._flagEl=a,this._el},t.prototype.show=function(){this._el.classList.remove(t.HIDDEN_CLASS)},t.prototype.hide=function(){this._el.classList.add(t.HIDDEN_CLASS)},t.prototype.remove=function(){this._el.parentNode.removeChild(this._el)},t.prototype.toggleFlag=function(e){var n=this;this._flagEl.classList.toggle(t.SHOW_FLAG_CLASS,e)||(this._flagEl.classList.add(t.NO_DELAY_CLASS),setTimeout(function(){return n._flagEl.classList.remove(t.NO_DELAY_CLASS)},this._hideSpeedMs))},t.prototype.updateCaret=function(t,e){this._caretEl.style.top=t.top+"px",this._caretEl.style.left=t.left+"px",this._caretEl.style.height=t.height+"px",this._positionFlag?this._positionFlag(this._flagEl,t,e):this._updateCaretFlag(t,e)},t.prototype.updateSelection=function(t,e){var n=this;this._clearSelection(),t=t||[],t=Array.from(t),t=this._sanitize(t),(t=this._sortByDomPosition(t)).forEach(function(t){return n._addSelection(t,e)})},t.prototype._updateCaretFlag=function(e,n){this._flagEl.style.width="";var r=this._flagEl.getBoundingClientRect();this._flagEl.classList.remove(t.FLAG_FLIPPED_CLASS),e.left>n.width-r.width&&this._flagEl.classList.add(t.FLAG_FLIPPED_CLASS),this._flagEl.style.left=e.left+"px",this._flagEl.style.top=e.top+"px",this._flagEl.style.width=Math.ceil(r.width)+"px"},t.prototype._clearSelection=function(){this._selectionEl.innerHTML=""},t.prototype._addSelection=function(t,e){var n=this._selectionBlock(t,e);this._selectionEl.appendChild(n)},t.prototype._selectionBlock=function(e,n){var i=document.createElement(t.SELECTION_ELEMENT_TAG);return i.classList.add(t.SELECTION_BLOCK_CLASS),i.style.top=e.top-n.top+"px",i.style.left=e.left-n.left+"px",i.style.width=e.width+"px",i.style.height=e.height+"px",i.style.backgroundColor=r(this.color).setAlpha(.3).toString(),i},t.prototype._sortByDomPosition=function(t){return t.sort(function(t,e){return t.top===e.top?t.left-e.left:t.top-e.top})},t.prototype._sanitize=function(t){var e=this,n=new Set;return t.filter(function(t){if(!t.width||!t.height)return!1;var r=e._serialize(t);return!n.has(r)&&(n.add(r),!0)})},t.prototype._serialize=function(t){return["top:"+t.top,"right:"+t.right,"bottom:"+t.bottom,"left:"+t.left].join(";")},t.CONTAINER_ELEMENT_TAG="SPAN",t.SELECTION_ELEMENT_TAG="SPAN",t.CURSOR_CLASS="ql-cursor",t.SELECTION_CLASS="ql-cursor-selections",t.SELECTION_BLOCK_CLASS="ql-cursor-selection-block",t.CARET_CLASS="ql-cursor-caret",t.CARET_CONTAINER_CLASS="ql-cursor-caret-container",t.FLAG_CLASS="ql-cursor-flag",t.SHOW_FLAG_CLASS="show-flag",t.FLAG_FLIPPED_CLASS="flag-flipped",t.NAME_CLASS="ql-cursor-name",t.HIDDEN_CLASS="hidden",t.NO_DELAY_CLASS="no-delay",t}();e.default=i},678:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(353)),c=o(n(165)),l=a(n(338)),u=a(n(33)),h=n(895),d=function(){function t(t,e){void 0===e&&(e={}),this._cursors={},this._isObserving=!1,this.quill=t,this.options=this._setDefaults(e),this._container=this.quill.addContainer(this.options.containerClass),this._boundsContainer=this.options.boundsContainer||this.quill.container,this._currentSelection=this.quill.getSelection(),this._registerSelectionChangeListeners(),this._registerTextChangeListener(),this._registerDomListeners()}return t.prototype.createCursor=function(t,e,n){var r=this._cursors[t];if(!r){r=new s.default(t,e,n),this._cursors[t]=r;var i=r.build(this.options);this._container.appendChild(i)}return r},t.prototype.moveCursor=function(t,e){var n=this._cursors[t];n&&(n.range=e,this._updateCursor(n))},t.prototype.removeCursor=function(t){var e=this._cursors[t];e&&(e.remove(),delete this._cursors[t])},t.prototype.update=function(){var t=this;this.cursors().forEach(function(e){return t._updateCursor(e)})},t.prototype.clearCursors=function(){var t=this;this.cursors().forEach(function(e){return t.removeCursor(e.id)})},t.prototype.toggleFlag=function(t,e){var n=this._cursors[t];n&&n.toggleFlag(e)},t.prototype.cursors=function(){var t=this;return Object.keys(this._cursors).map(function(e){return t._cursors[e]})},t.prototype._registerSelectionChangeListeners=function(){var t=this;this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(e){t._currentSelection=e})},t.prototype._registerTextChangeListener=function(){var t=this;this.quill.on(this.quill.constructor.events.TEXT_CHANGE,function(e){return t._handleTextChange(e)})},t.prototype._registerDomListeners=function(){var t=this;this.quill.container.getElementsByClassName("ql-editor")[0].addEventListener("scroll",function(){return t.update()})},t.prototype._registerResizeObserver=function(){var t=this;if(!this._isObserving){var e=this.quill.container.getElementsByClassName("ql-editor")[0],n=new u.default(function(e){e[0].target.isConnected||(n.disconnect(),t._isObserving=!1),t.update()});n.observe(e),this._isObserving=!0}},t.prototype._updateCursor=function(t){if(this._registerResizeObserver(),!t.range)return t.hide();var e=this._indexWithinQuillBounds(t.range.index),n=this._indexWithinQuillBounds(t.range.index+t.range.length),r=this.quill.getLeaf(e),i=this.quill.getLeaf(n);if(!this._leafIsValid(r)||!this._leafIsValid(i))return t.hide();t.show();var o=this._boundsContainer.getBoundingClientRect(),a=this.quill.getBounds(n);t.updateCaret(a,o);var s=this._lineRanges(t,r,i).reduce(function(t,e){return t.concat(Array.from(c.getClientRects(e)))},[]);t.updateSelection(s,o)},t.prototype._indexWithinQuillBounds=function(t){var e=this.quill.getLength(),n=e?e-1:0;return t=Math.max(t,0),Math.min(t,n)},t.prototype._leafIsValid=function(t){return t&&t[0]&&t[0].domNode&&t[1]>=0},t.prototype._handleTextChange=function(t){var e=this;window.setTimeout(function(){e.options.transformOnTextChange&&e._transformCursors(t),e.options.selectionChangeSource&&(e._emitSelection(),e.update())})},t.prototype._emitSelection=function(){this.quill.emitter.emit(this.quill.constructor.events.SELECTION_CHANGE,this.quill.getSelection(),this._currentSelection,this.options.selectionChangeSource)},t.prototype._setDefaults=function(e){return(e=Object.assign({},e)).template||(e.template=t.DEFAULTS.template),e.containerClass||(e.containerClass=t.DEFAULTS.containerClass),null!==e.selectionChangeSource&&(e.selectionChangeSource||(e.selectionChangeSource=t.DEFAULTS.selectionChangeSource)),e.hideDelayMs=Number.isInteger(e.hideDelayMs)?e.hideDelayMs:t.DEFAULTS.hideDelayMs,e.hideSpeedMs=Number.isInteger(e.hideSpeedMs)?e.hideSpeedMs:t.DEFAULTS.hideSpeedMs,e.transformOnTextChange=!!e.transformOnTextChange,e},t.prototype._lineRanges=function(t,e,n){var r=this.quill.getLines(t.range);return r.reduce(function(t,i,o){if(!i.children){var a=document.createRange();return a.selectNode(i.domNode),t.concat(a)}var s=0===o?e:i.path(0).pop(),c=s[0],l=s[1],u=o===r.length-1?n:i.path(i.length()-1).pop(),h=u[0],d=u[1],f=document.createRange();return c.domNode.nodeType===Node.TEXT_NODE?f.setStart(c.domNode,l):f.setStartBefore(c.domNode),h.domNode.nodeType===Node.TEXT_NODE?f.setEnd(h.domNode,d):f.setEndAfter(h.domNode),t.concat(f)},[])},t.prototype._transformCursors=function(t){var e=this;t=new h(t),this.cursors().filter(function(t){return t.range}).forEach(function(n){n.range.index=t.transformPosition(n.range.index),e._updateCursor(n)})},t.DEFAULTS={template:l.default,containerClass:"ql-cursors",selectionChangeSource:"api",hideDelayMs:3e3,hideSpeedMs:400},t}();e.default=d},338:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(353));e.default='\n  <span class="'+i.default.SELECTION_CLASS+'"></span>\n  <span class="'+i.default.CARET_CONTAINER_CLASS+'">\n    <span class="'+i.default.CARET_CLASS+'"></span>\n  </span>\n  <div class="'+i.default.FLAG_CLASS+'">\n    <small class="'+i.default.NAME_CLASS+'"></small>\n  </div>\n'}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),n(607).default})()},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}}]);